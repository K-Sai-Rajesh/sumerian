{"version":3,"file":"./packages/amazon-sumerian-hosts-three/dist/host.three.js","mappings":"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SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,MAAM,IAAI,OAAO,IAAI,MAAM,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,KAAKzB,WAAW,CAAC,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,EAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,EAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,EAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,WAAW,EAAI,SAAS,EAAI,UAAU,EAAI,UAAU,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,QAAQ,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,WAAW,EAAI,SAAS,IAAI,UAAU,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,WAAW,EAAI,UAAU,EAAI,UAAU,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,WAAW,EAAI,SAAS,EAAI,UAAU,EAAI,UAAU,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,QAAQ,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,WAAW,EAAI,SAAS,IAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,OAAO,IAAI,OAAO,EAAI,UAAU,EAAI,UAAU,EAAI,WAAW,EAAI,WAAW,EAAI,SAAS,EAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,EAAI,SAAS,EAAI,UAAU,EAAI,SAAS,EAAI,UAAU,EAAI,UAAU,EAAI,YAAY,EAAI,SAAS,EAAI,QAAQ,EAAI,UAAU,EAAI,SAAS,EAAI,UAAU,EAAI,WAAW,EAAI,OAAO,EAAI,OAAO,EAAI,OAAO,EAAI,YAAY,EAAI,OAAO,EAAI,QAAQ,EAAI,UAAU,EAAI,QAAQ,EAAI,YAAY,EAAI,QAAQ,EAAI,QAAQ,EAAI,QAAQ,EAAI,UAAU,EAAI,UAAU,EAAI,SAAS,EAAI,UAAU,EAAI,UAAU,EAAI,YAAY,EAAI,SAAS,EAAI,QAAQ,EAAI,UAAU,EAAI,SAAS,EAAI,UAAU,EAAI,WAAW,EAAI,OAAO,EAAI,OAAO,EAAI,OAAO,EAAI,YAAY,EAAI,OAAO,EAAI,QAAQ,EAAI,WAAW,EAAI,UAAU,EAAI,QAAQ,EAAI,YAAY,EAAI,QAAQ,EAAI,QAAQ,EAAI,QAAQ,EAAI,UAAU,EAAI,aAAa,EAAI,UAAU,EAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,EAAI,WAAW,EAAI,UAAU,EAAI,SAAS,IAAI,UAAU,EAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAA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ACA,QACA,UACA,OACA,UACA,OACA,SACA,WACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,QAEFC,GAAI,CACF,UACA,YACA,SACA,OACA,MACA,OACA,UACA,UACA,UACA,UAEFC,KAAM,CACJ,MACA,SACA,MACA,SACA,QACA,OACA,SACA,YACA,SACA,cACA,eACA,gBACA,YACA,WACA,aACA,WACA,QACA,QACA,SACA,UACA,WACA,SACA,UACA,WACA,UACA,WACA,OACA,WACA,YACA,QACA,SACA,UACA,UAEFC,SAAU,CACR,OACA,SACA,QACA,QACA,MACA,OACA,SACA,KACA,QACA,OACA,WACA,UACA,aACA,SACA,SACA,SACA,UAEFC,IAAK,CACH,SACA,MACA,OACA,QACA,UACA,OACA,OACA,SACA,QACA,KACA,SAEFC,WAAY,CACV,QACA,SACA,WACA,SACA,YACA,SACA,WACA,YACA,WACA,OACA,OACA,OACA,SACA,OACA,SACA,MACA,OACA,QACA,UACA,WACA,aACA,UACA,WACA,SACA,YACA,UACA,YACA,UAEFC,IAAK,CAAC,MAAO,OAAQ,QAAS,OAAQ,QAAS,OAAQ,OACvDC,QAAS,CACP,UACA,OACA,WACA,SACA,QACA,UACA,WACA,UACA,SACA,QACA,SACA,WACA,UACA,SACA,YACA,UACA,aACA,YACA,SACA,WACA,aAEFC,KAAM,CACJ,QACA,KACA,OACA,QACA,UACA,QACA,OACA,MACA,MACA,UACA,OACA,QACA,QAEFnnB,KAAM,CAAC,KAAM,IAAK,SAAU,OAAQ,OAAQ,MAAO,KAAM,OAAQ,QAenE,MAAMonB,uBAAuB,cAC3B,gBACA,kBAiBAvS,YAAY4K,GAAM,SAAC4H,EAAW,EAAC,gBAAEC,EAAkB,EAAC,OAAEC,EAAS,CAAC,GAAK,CAAC,GACpEzC,MAAMrF,GAENvf,KAAKmnB,SAAWA,EAChBnnB,KAAKonB,gBAAkBA,EAGvB7jB,OAAOyf,QAAQqE,GAAQ5kB,SAAQ,EAAE0C,EAAMoM,EAAU,CAAC,MAChDvR,KAAKsnB,cAAcniB,EAAMoM,EAAQ,GAErC,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","sources":["webpack://HOST/webpack/universalModuleDefinition","webpack://HOST/webpack/runtime/load script","webpack://HOST/./node_modules/ansi-html-community/index.js","webpack://HOST/./node_modules/events/events.js","webpack://HOST/./node_modules/html-entities/lib/index.js","webpack://HOST/./node_modules/html-entities/lib/named-references.js","webpack://HOST/./node_modules/html-entities/lib/numeric-unicode-map.js","webpack://HOST/./node_modules/html-entities/lib/surrogate-pairs.js","webpack://HOST/./node_modules/webpack-dev-server/client/clients/WebSocketClient.js","webpack://HOST/./node_modules/webpack-dev-server/client/index.js","webpack://HOST/./node_modules/webpack-dev-server/client/modules/logger/index.js","webpack://HOST/./node_modules/webpack-dev-server/client/overlay.js","webpack://HOST/./node_modules/webpack-dev-server/client/socket.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/createSocketURL.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/log.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/parseURL.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/reloadApp.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/sendMessage.js","webpack://HOST/./node_modules/webpack-dev-server/client/utils/stripAnsi.js","webpack://HOST/./node_modules/webpack/hot/dev-server.js","webpack://HOST/./node_modules/webpack/hot/emitter.js","webpack://HOST/./node_modules/webpack/hot/log-apply-result.js","webpack://HOST/./node_modules/webpack/hot/log.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/AbstractHostFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/Deferred.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/FeatureDependentInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/GestureFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/HostEnvironment.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/HostObject.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/LipsyncFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/MathUtils.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/Messenger.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/PointOfInterestFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/Utils.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/AnimationFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/AnimationFeatureDependentInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/AnimationLayer.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/AnimationPlayerInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/AnimationUtils.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/Easing.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/ManagedAnimationLayerInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/index.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/AbstractBlendState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/AbstractState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/Blend1dState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/Blend2dState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/FreeBlendState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/QueueState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/RandomAnimationState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/SingleState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/StateContainerInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/animpack/state/TransitionState.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/AbstractSpeech.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/AbstractTextToSpeechFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/LexFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/LexUtils.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/SSMLSpeechmarkInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/Speech.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/TextToSpeechFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/TextToSpeechFeatureDependentInterface.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/TextToSpeechUtils.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/awspack/index.js","webpack://HOST/./packages/amazon-sumerian-hosts-core/src/core/index.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/HostEnvironment.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/HostObject.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/PointOfInterestFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/animpack/AnimationFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/animpack/index.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/animpack/state/SingleState.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/awspack/LexFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/awspack/Speech.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/awspack/TextToSpeechFeature.js","webpack://HOST/./packages/amazon-sumerian-hosts-three/src/three.js/awspack/index.js","webpack://HOST/webpack/bootstrap","webpack://HOST/webpack/runtime/compat get default export","webpack://HOST/webpack/runtime/define property getters","webpack://HOST/webpack/runtime/get javascript update chunk filename","webpack://HOST/webpack/runtime/get update manifest filename","webpack://HOST/webpack/runtime/getFullHash","webpack://HOST/webpack/runtime/global","webpack://HOST/webpack/runtime/hasOwnProperty shorthand","webpack://HOST/webpack/runtime/make namespace object","webpack://HOST/webpack/runtime/hot module replacement","webpack://HOST/webpack/runtime/publicPath","webpack://HOST/webpack/runtime/jsonp chunk loading","webpack://HOST/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"HOST\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HOST\"] = factory();\n\telse\n\t\troot[\"HOST\"] = factory();\n})((typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : this), () => {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"HOST:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","'use strict'\n\nmodule.exports = ansiHTML\n\n// Reference to https://github.com/sindresorhus/ansi-regex\nvar _regANSI = /(?:(?:\\u001b\\[)|\\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\\u001b[A-M]/\n\nvar _defColors = {\n  reset: ['fff', '000'], // [FOREGROUD_COLOR, BACKGROUND_COLOR]\n  black: '000',\n  red: 'ff0000',\n  green: '209805',\n  yellow: 'e8bf03',\n  blue: '0000ff',\n  magenta: 'ff00ff',\n  cyan: '00ffee',\n  lightgrey: 'f0f0f0',\n  darkgrey: '888'\n}\nvar _styles = {\n  30: 'black',\n  31: 'red',\n  32: 'green',\n  33: 'yellow',\n  34: 'blue',\n  35: 'magenta',\n  36: 'cyan',\n  37: 'lightgrey'\n}\nvar _openTags = {\n  '1': 'font-weight:bold', // bold\n  '2': 'opacity:0.5', // dim\n  '3': '<i>', // italic\n  '4': '<u>', // underscore\n  '8': 'display:none', // hidden\n  '9': '<del>' // delete\n}\nvar _closeTags = {\n  '23': '</i>', // reset italic\n  '24': '</u>', // reset underscore\n  '29': '</del>' // reset delete\n}\n\n;[0, 21, 22, 27, 28, 39, 49].forEach(function (n) {\n  _closeTags[n] = '</span>'\n})\n\n/**\n * Converts text with ANSI color codes to HTML markup.\n * @param {String} text\n * @returns {*}\n */\nfunction ansiHTML (text) {\n  // Returns the text if the string has no ANSI escape code.\n  if (!_regANSI.test(text)) {\n    return text\n  }\n\n  // Cache opened sequence.\n  var ansiCodes = []\n  // Replace with markup.\n  var ret = text.replace(/\\033\\[(\\d+)m/g, function (match, seq) {\n    var ot = _openTags[seq]\n    if (ot) {\n      // If current sequence has been opened, close it.\n      if (!!~ansiCodes.indexOf(seq)) { // eslint-disable-line no-extra-boolean-cast\n        ansiCodes.pop()\n        return '</span>'\n      }\n      // Open tag.\n      ansiCodes.push(seq)\n      return ot[0] === '<' ? ot : '<span style=\"' + ot + ';\">'\n    }\n\n    var ct = _closeTags[seq]\n    if (ct) {\n      // Pop sequence\n      ansiCodes.pop()\n      return ct\n    }\n    return ''\n  })\n\n  // Make sure tags are closed.\n  var l = ansiCodes.length\n  ;(l > 0) && (ret += Array(l + 1).join('</span>'))\n\n  return ret\n}\n\n/**\n * Customize colors.\n * @param {Object} colors reference to _defColors\n */\nansiHTML.setColors = function (colors) {\n  if (typeof colors !== 'object') {\n    throw new Error('`colors` parameter must be an Object.')\n  }\n\n  var _finalColors = {}\n  for (var key in _defColors) {\n    var hex = colors.hasOwnProperty(key) ? colors[key] : null\n    if (!hex) {\n      _finalColors[key] = _defColors[key]\n      continue\n    }\n    if ('reset' === key) {\n      if (typeof hex === 'string') {\n        hex = [hex]\n      }\n      if (!Array.isArray(hex) || hex.length === 0 || hex.some(function (h) {\n        return typeof h !== 'string'\n      })) {\n        throw new Error('The value of `' + key + '` property must be an Array and each item could only be a hex string, e.g.: FF0000')\n      }\n      var defHexColor = _defColors[key]\n      if (!hex[0]) {\n        hex[0] = defHexColor[0]\n      }\n      if (hex.length === 1 || !hex[1]) {\n        hex = [hex[0]]\n        hex.push(defHexColor[1])\n      }\n\n      hex = hex.slice(0, 2)\n    } else if (typeof hex !== 'string') {\n      throw new Error('The value of `' + key + '` property must be a hex string, e.g.: FF0000')\n    }\n    _finalColors[key] = hex\n  }\n  _setTags(_finalColors)\n}\n\n/**\n * Reset colors.\n */\nansiHTML.reset = function () {\n  _setTags(_defColors)\n}\n\n/**\n * Expose tags, including open and close.\n * @type {Object}\n */\nansiHTML.tags = {}\n\nif (Object.defineProperty) {\n  Object.defineProperty(ansiHTML.tags, 'open', {\n    get: function () { return _openTags }\n  })\n  Object.defineProperty(ansiHTML.tags, 'close', {\n    get: function () { return _closeTags }\n  })\n} else {\n  ansiHTML.tags.open = _openTags\n  ansiHTML.tags.close = _closeTags\n}\n\nfunction _setTags (colors) {\n  // reset all\n  _openTags['0'] = 'font-weight:normal;opacity:1;color:#' + colors.reset[0] + ';background:#' + colors.reset[1]\n  // inverse\n  _openTags['7'] = 'color:#' + colors.reset[1] + ';background:#' + colors.reset[0]\n  // dark grey\n  _openTags['90'] = 'color:#' + colors.darkgrey\n\n  for (var code in _styles) {\n    var color = _styles[code]\n    var oriColor = colors[color] || '000'\n    _openTags[code] = 'color:#' + oriColor\n    code = parseInt(code)\n    _openTags[(code + 10).toString()] = 'background:#' + oriColor\n  }\n}\n\nansiHTML.reset()\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar named_references_1 = require(\"./named-references\");\nvar numeric_unicode_map_1 = require(\"./numeric-unicode-map\");\nvar surrogate_pairs_1 = require(\"./surrogate-pairs\");\nvar allNamedReferences = __assign(__assign({}, named_references_1.namedReferences), { all: named_references_1.namedReferences.html5 });\nvar encodeRegExps = {\n    specialChars: /[<>'\"&]/g,\n    nonAscii: /(?:[<>'\"&\\u0080-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g,\n    nonAsciiPrintable: /(?:[<>'\"&\\x01-\\x08\\x11-\\x15\\x17-\\x1F\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g,\n    extensive: /(?:[\\x01-\\x0c\\x0e-\\x1f\\x21-\\x2c\\x2e-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7d\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g\n};\nvar defaultEncodeOptions = {\n    mode: 'specialChars',\n    level: 'all',\n    numeric: 'decimal'\n};\n/** Encodes all the necessary (specified by `level`) characters in the text */\nfunction encode(text, _a) {\n    var _b = _a === void 0 ? defaultEncodeOptions : _a, _c = _b.mode, mode = _c === void 0 ? 'specialChars' : _c, _d = _b.numeric, numeric = _d === void 0 ? 'decimal' : _d, _e = _b.level, level = _e === void 0 ? 'all' : _e;\n    if (!text) {\n        return '';\n    }\n    var encodeRegExp = encodeRegExps[mode];\n    var references = allNamedReferences[level].characters;\n    var isHex = numeric === 'hexadecimal';\n    encodeRegExp.lastIndex = 0;\n    var _b = encodeRegExp.exec(text);\n    var _c;\n    if (_b) {\n        _c = '';\n        var _d = 0;\n        do {\n            if (_d !== _b.index) {\n                _c += text.substring(_d, _b.index);\n            }\n            var _e = _b[0];\n            var result_1 = references[_e];\n            if (!result_1) {\n                var code_1 = _e.length > 1 ? surrogate_pairs_1.getCodePoint(_e, 0) : _e.charCodeAt(0);\n                result_1 = (isHex ? '&#x' + code_1.toString(16) : '&#' + code_1) + ';';\n            }\n            _c += result_1;\n            _d = _b.index + _e.length;\n        } while ((_b = encodeRegExp.exec(text)));\n        if (_d !== text.length) {\n            _c += text.substring(_d);\n        }\n    }\n    else {\n        _c =\n            text;\n    }\n    return _c;\n}\nexports.encode = encode;\nvar defaultDecodeOptions = {\n    scope: 'body',\n    level: 'all'\n};\nvar strict = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);/g;\nvar attribute = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g;\nvar baseDecodeRegExps = {\n    xml: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.xml\n    },\n    html4: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.html4\n    },\n    html5: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.html5\n    }\n};\nvar decodeRegExps = __assign(__assign({}, baseDecodeRegExps), { all: baseDecodeRegExps.html5 });\nvar fromCharCode = String.fromCharCode;\nvar outOfBoundsChar = fromCharCode(65533);\nvar defaultDecodeEntityOptions = {\n    level: 'all'\n};\n/** Decodes a single entity */\nfunction decodeEntity(entity, _a) {\n    var _b = (_a === void 0 ? defaultDecodeEntityOptions : _a).level, level = _b === void 0 ? 'all' : _b;\n    if (!entity) {\n        return '';\n    }\n    var _b = entity;\n    var decodeEntityLastChar_1 = entity[entity.length - 1];\n    if (false\n        && decodeEntityLastChar_1 === '=') {\n        _b =\n            entity;\n    }\n    else if (false\n        && decodeEntityLastChar_1 !== ';') {\n        _b =\n            entity;\n    }\n    else {\n        var decodeResultByReference_1 = allNamedReferences[level].entities[entity];\n        if (decodeResultByReference_1) {\n            _b = decodeResultByReference_1;\n        }\n        else if (entity[0] === '&' && entity[1] === '#') {\n            var decodeSecondChar_1 = entity[2];\n            var decodeCode_1 = decodeSecondChar_1 == 'x' || decodeSecondChar_1 == 'X'\n                ? parseInt(entity.substr(3), 16)\n                : parseInt(entity.substr(2));\n            _b =\n                decodeCode_1 >= 0x10ffff\n                    ? outOfBoundsChar\n                    : decodeCode_1 > 65535\n                        ? surrogate_pairs_1.fromCodePoint(decodeCode_1)\n                        : fromCharCode(numeric_unicode_map_1.numericUnicodeMap[decodeCode_1] || decodeCode_1);\n        }\n    }\n    return _b;\n}\nexports.decodeEntity = decodeEntity;\n/** Decodes all entities in the text */\nfunction decode(text, _a) {\n    var decodeSecondChar_1 = _a === void 0 ? defaultDecodeOptions : _a, decodeCode_1 = decodeSecondChar_1.level, level = decodeCode_1 === void 0 ? 'all' : decodeCode_1, _b = decodeSecondChar_1.scope, scope = _b === void 0 ? level === 'xml' ? 'strict' : 'body' : _b;\n    if (!text) {\n        return '';\n    }\n    var decodeRegExp = decodeRegExps[level][scope];\n    var references = allNamedReferences[level].entities;\n    var isAttribute = scope === 'attribute';\n    var isStrict = scope === 'strict';\n    decodeRegExp.lastIndex = 0;\n    var replaceMatch_1 = decodeRegExp.exec(text);\n    var replaceResult_1;\n    if (replaceMatch_1) {\n        replaceResult_1 = '';\n        var replaceLastIndex_1 = 0;\n        do {\n            if (replaceLastIndex_1 !== replaceMatch_1.index) {\n                replaceResult_1 += text.substring(replaceLastIndex_1, replaceMatch_1.index);\n            }\n            var replaceInput_1 = replaceMatch_1[0];\n            var decodeResult_1 = replaceInput_1;\n            var decodeEntityLastChar_2 = replaceInput_1[replaceInput_1.length - 1];\n            if (isAttribute\n                && decodeEntityLastChar_2 === '=') {\n                decodeResult_1 = replaceInput_1;\n            }\n            else if (isStrict\n                && decodeEntityLastChar_2 !== ';') {\n                decodeResult_1 = replaceInput_1;\n            }\n            else {\n                var decodeResultByReference_2 = references[replaceInput_1];\n                if (decodeResultByReference_2) {\n                    decodeResult_1 = decodeResultByReference_2;\n                }\n                else if (replaceInput_1[0] === '&' && replaceInput_1[1] === '#') {\n                    var decodeSecondChar_2 = replaceInput_1[2];\n                    var decodeCode_2 = decodeSecondChar_2 == 'x' || decodeSecondChar_2 == 'X'\n                        ? parseInt(replaceInput_1.substr(3), 16)\n                        : parseInt(replaceInput_1.substr(2));\n                    decodeResult_1 =\n                        decodeCode_2 >= 0x10ffff\n                            ? outOfBoundsChar\n                            : decodeCode_2 > 65535\n                                ? surrogate_pairs_1.fromCodePoint(decodeCode_2)\n                                : fromCharCode(numeric_unicode_map_1.numericUnicodeMap[decodeCode_2] || decodeCode_2);\n                }\n            }\n            replaceResult_1 += decodeResult_1;\n            replaceLastIndex_1 = replaceMatch_1.index + replaceInput_1.length;\n        } while ((replaceMatch_1 = decodeRegExp.exec(text)));\n        if (replaceLastIndex_1 !== text.length) {\n            replaceResult_1 += text.substring(replaceLastIndex_1);\n        }\n    }\n    else {\n        replaceResult_1 =\n            text;\n    }\n    return replaceResult_1;\n}\nexports.decode = decode;\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.bodyRegExps={xml:/&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g};exports.namedReferences={xml:{entities:{\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&apos;\":\"'\",\"&amp;\":\"&\"},characters:{\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&apos;\",\"&\":\"&amp;\"}},html4:{entities:{\"&apos;\":\"'\",\"&nbsp\":\"\",\"&nbsp;\":\"\",\"&iexcl\":\"\",\"&iexcl;\":\"\",\"&cent\":\"\",\"&cent;\":\"\",\"&pound\":\"\",\"&pound;\":\"\",\"&curren\":\"\",\"&curren;\":\"\",\"&yen\":\"\",\"&yen;\":\"\",\"&brvbar\":\"\",\"&brvbar;\":\"\",\"&sect\":\"\",\"&sect;\":\"\",\"&uml\":\"\",\"&uml;\":\"\",\"&copy\":\"\",\"&copy;\":\"\",\"&ordf\":\"\",\"&ordf;\":\"\",\"&laquo\":\"\",\"&laquo;\":\"\",\"&not\":\"\",\"&not;\":\"\",\"&shy\":\"\",\"&shy;\":\"\",\"&reg\":\"\",\"&reg;\":\"\",\"&macr\":\"\",\"&macr;\":\"\",\"&deg\":\"\",\"&deg;\":\"\",\"&plusmn\":\"\",\"&plusmn;\":\"\",\"&sup2\":\"\",\"&sup2;\":\"\",\"&sup3\":\"\",\"&sup3;\":\"\",\"&acute\":\"\",\"&acute;\":\"\",\"&micro\":\"\",\"&micro;\":\"\",\"&para\":\"\",\"&para;\":\"\",\"&middot\":\"\",\"&middot;\":\"\",\"&cedil\":\"\",\"&cedil;\":\"\",\"&sup1\":\"\",\"&sup1;\":\"\",\"&ordm\":\"\",\"&ordm;\":\"\",\"&raquo\":\"\",\"&raquo;\":\"\",\"&frac14\":\"\",\"&frac14;\":\"\",\"&frac12\":\"\",\"&frac12;\":\"\",\"&frac34\":\"\",\"&frac34;\":\"\",\"&iquest\":\"\",\"&iquest;\":\"\",\"&Agrave\":\"\",\"&Agrave;\":\"\",\"&Aacute\":\"\",\"&Aacute;\":\"\",\"&Acirc\":\"\",\"&Acirc;\":\"\",\"&Atilde\":\"\",\"&Atilde;\":\"\",\"&Auml\":\"\",\"&Auml;\":\"\",\"&Aring\":\"\",\"&Aring;\":\"\",\"&AElig\":\"\",\"&AElig;\":\"\",\"&Ccedil\":\"\",\"&Ccedil;\":\"\",\"&Egrave\":\"\",\"&Egrave;\":\"\",\"&Eacute\":\"\",\"&Eacute;\":\"\",\"&Ecirc\":\"\",\"&Ecirc;\":\"\",\"&Euml\":\"\",\"&Euml;\":\"\",\"&Igrave\":\"\",\"&Igrave;\":\"\",\"&Iacute\":\"\",\"&Iacute;\":\"\",\"&Icirc\":\"\",\"&Icirc;\":\"\",\"&Iuml\":\"\",\"&Iuml;\":\"\",\"&ETH\":\"\",\"&ETH;\":\"\",\"&Ntilde\":\"\",\"&Ntilde;\":\"\",\"&Ograve\":\"\",\"&Ograve;\":\"\",\"&Oacute\":\"\",\"&Oacute;\":\"\",\"&Ocirc\":\"\",\"&Ocirc;\":\"\",\"&Otilde\":\"\",\"&Otilde;\":\"\",\"&Ouml\":\"\",\"&Ouml;\":\"\",\"&times\":\"\",\"&times;\":\"\",\"&Oslash\":\"\",\"&Oslash;\":\"\",\"&Ugrave\":\"\",\"&Ugrave;\":\"\",\"&Uacute\":\"\",\"&Uacute;\":\"\",\"&Ucirc\":\"\",\"&Ucirc;\":\"\",\"&Uuml\":\"\",\"&Uuml;\":\"\",\"&Yacute\":\"\",\"&Yacute;\":\"\",\"&THORN\":\"\",\"&THORN;\":\"\",\"&szlig\":\"\",\"&szlig;\":\"\",\"&agrave\":\"\",\"&agrave;\":\"\",\"&aacute\":\"\",\"&aacute;\":\"\",\"&acirc\":\"\",\"&acirc;\":\"\",\"&atilde\":\"\",\"&atilde;\":\"\",\"&auml\":\"\",\"&auml;\":\"\",\"&aring\":\"\",\"&aring;\":\"\",\"&aelig\":\"\",\"&aelig;\":\"\",\"&ccedil\":\"\",\"&ccedil;\":\"\",\"&egrave\":\"\",\"&egrave;\":\"\",\"&eacute\":\"\",\"&eacute;\":\"\",\"&ecirc\":\"\",\"&ecirc;\":\"\",\"&euml\":\"\",\"&euml;\":\"\",\"&igrave\":\"\",\"&igrave;\":\"\",\"&iacute\":\"\",\"&iacute;\":\"\",\"&icirc\":\"\",\"&icirc;\":\"\",\"&iuml\":\"\",\"&iuml;\":\"\",\"&eth\":\"\",\"&eth;\":\"\",\"&ntilde\":\"\",\"&ntilde;\":\"\",\"&ograve\":\"\",\"&ograve;\":\"\",\"&oacute\":\"\",\"&oacute;\":\"\",\"&ocirc\":\"\",\"&ocirc;\":\"\",\"&otilde\":\"\",\"&otilde;\":\"\",\"&ouml\":\"\",\"&ouml;\":\"\",\"&divide\":\"\",\"&divide;\":\"\",\"&oslash\":\"\",\"&oslash;\":\"\",\"&ugrave\":\"\",\"&ugrave;\":\"\",\"&uacute\":\"\",\"&uacute;\":\"\",\"&ucirc\":\"\",\"&ucirc;\":\"\",\"&uuml\":\"\",\"&uuml;\":\"\",\"&yacute\":\"\",\"&yacute;\":\"\",\"&thorn\":\"\",\"&thorn;\":\"\",\"&yuml\":\"\",\"&yuml;\":\"\",\"&quot\":'\"',\"&quot;\":'\"',\"&amp\":\"&\",\"&amp;\":\"&\",\"&lt\":\"<\",\"&lt;\":\"<\",\"&gt\":\">\",\"&gt;\":\">\",\"&OElig;\":\"\",\"&oelig;\":\"\",\"&Scaron;\":\"\",\"&scaron;\":\"\",\"&Yuml;\":\"\",\"&circ;\":\"\",\"&tilde;\":\"\",\"&ensp;\":\"\",\"&emsp;\":\"\",\"&thinsp;\":\"\",\"&zwnj;\":\"\",\"&zwj;\":\"\",\"&lrm;\":\"\",\"&rlm;\":\"\",\"&ndash;\":\"\",\"&mdash;\":\"\",\"&lsquo;\":\"\",\"&rsquo;\":\"\",\"&sbquo;\":\"\",\"&ldquo;\":\"\",\"&rdquo;\":\"\",\"&bdquo;\":\"\",\"&dagger;\":\"\",\"&Dagger;\":\"\",\"&permil;\":\"\",\"&lsaquo;\":\"\",\"&rsaquo;\":\"\",\"&euro;\":\"\",\"&fnof;\":\"\",\"&Alpha;\":\"\",\"&Beta;\":\"\",\"&Gamma;\":\"\",\"&Delta;\":\"\",\"&Epsilon;\":\"\",\"&Zeta;\":\"\",\"&Eta;\":\"\",\"&Theta;\":\"\",\"&Iota;\":\"\",\"&Kappa;\":\"\",\"&Lambda;\":\"\",\"&Mu;\":\"\",\"&Nu;\":\"\",\"&Xi;\":\"\",\"&Omicron;\":\"\",\"&Pi;\":\"\",\"&Rho;\":\"\",\"&Sigma;\":\"\",\"&Tau;\":\"\",\"&Upsilon;\":\"\",\"&Phi;\":\"\",\"&Chi;\":\"\",\"&Psi;\":\"\",\"&Omega;\":\"\",\"&alpha;\":\"\",\"&beta;\":\"\",\"&gamma;\":\"\",\"&delta;\":\"\",\"&epsilon;\":\"\",\"&zeta;\":\"\",\"&eta;\":\"\",\"&theta;\":\"\",\"&iota;\":\"\",\"&kappa;\":\"\",\"&lambda;\":\"\",\"&mu;\":\"\",\"&nu;\":\"\",\"&xi;\":\"\",\"&omicron;\":\"\",\"&pi;\":\"\",\"&rho;\":\"\",\"&sigmaf;\":\"\",\"&sigma;\":\"\",\"&tau;\":\"\",\"&upsilon;\":\"\",\"&phi;\":\"\",\"&chi;\":\"\",\"&psi;\":\"\",\"&omega;\":\"\",\"&thetasym;\":\"\",\"&upsih;\":\"\",\"&piv;\":\"\",\"&bull;\":\"\",\"&hellip;\":\"\",\"&prime;\":\"\",\"&Prime;\":\"\",\"&oline;\":\"\",\"&frasl;\":\"\",\"&weierp;\":\"\",\"&image;\":\"\",\"&real;\":\"\",\"&trade;\":\"\",\"&alefsym;\":\"\",\"&larr;\":\"\",\"&uarr;\":\"\",\"&rarr;\":\"\",\"&darr;\":\"\",\"&harr;\":\"\",\"&crarr;\":\"\",\"&lArr;\":\"\",\"&uArr;\":\"\",\"&rArr;\":\"\",\"&dArr;\":\"\",\"&hArr;\":\"\",\"&forall;\":\"\",\"&part;\":\"\",\"&exist;\":\"\",\"&empty;\":\"\",\"&nabla;\":\"\",\"&isin;\":\"\",\"&notin;\":\"\",\"&ni;\":\"\",\"&prod;\":\"\",\"&sum;\":\"\",\"&minus;\":\"\",\"&lowast;\":\"\",\"&radic;\":\"\",\"&prop;\":\"\",\"&infin;\":\"\",\"&ang;\":\"\",\"&and;\":\"\",\"&or;\":\"\",\"&cap;\":\"\",\"&cup;\":\"\",\"&int;\":\"\",\"&there4;\":\"\",\"&sim;\":\"\",\"&cong;\":\"\",\"&asymp;\":\"\",\"&ne;\":\"\",\"&equiv;\":\"\",\"&le;\":\"\",\"&ge;\":\"\",\"&sub;\":\"\",\"&sup;\":\"\",\"&nsub;\":\"\",\"&sube;\":\"\",\"&supe;\":\"\",\"&oplus;\":\"\",\"&otimes;\":\"\",\"&perp;\":\"\",\"&sdot;\":\"\",\"&lceil;\":\"\",\"&rceil;\":\"\",\"&lfloor;\":\"\",\"&rfloor;\":\"\",\"&lang;\":\"\",\"&rang;\":\"\",\"&loz;\":\"\",\"&spades;\":\"\",\"&clubs;\":\"\",\"&hearts;\":\"\",\"&diams;\":\"\"},characters:{\"'\":\"&apos;\",\"\":\"&nbsp;\",\"\":\"&iexcl;\",\"\":\"&cent;\",\"\":\"&pound;\",\"\":\"&curren;\",\"\":\"&yen;\",\"\":\"&brvbar;\",\"\":\"&sect;\",\"\":\"&uml;\",\"\":\"&copy;\",\"\":\"&ordf;\",\"\":\"&laquo;\",\"\":\"&not;\",\"\":\"&shy;\",\"\":\"&reg;\",\"\":\"&macr;\",\"\":\"&deg;\",\"\":\"&plusmn;\",\"\":\"&sup2;\",\"\":\"&sup3;\",\"\":\"&acute;\",\"\":\"&micro;\",\"\":\"&para;\",\"\":\"&middot;\",\"\":\"&cedil;\",\"\":\"&sup1;\",\"\":\"&ordm;\",\"\":\"&raquo;\",\"\":\"&frac14;\",\"\":\"&frac12;\",\"\":\"&frac34;\",\"\":\"&iquest;\",\"\":\"&Agrave;\",\"\":\"&Aacute;\",\"\":\"&Acirc;\",\"\":\"&Atilde;\",\"\":\"&Auml;\",\"\":\"&Aring;\",\"\":\"&AElig;\",\"\":\"&Ccedil;\",\"\":\"&Egrave;\",\"\":\"&Eacute;\",\"\":\"&Ecirc;\",\"\":\"&Euml;\",\"\":\"&Igrave;\",\"\":\"&Iacute;\",\"\":\"&Icirc;\",\"\":\"&Iuml;\",\"\":\"&ETH;\",\"\":\"&Ntilde;\",\"\":\"&Ograve;\",\"\":\"&Oacute;\",\"\":\"&Ocirc;\",\"\":\"&Otilde;\",\"\":\"&Ouml;\",\"\":\"&times;\",\"\":\"&Oslash;\",\"\":\"&Ugrave;\",\"\":\"&Uacute;\",\"\":\"&Ucirc;\",\"\":\"&Uuml;\",\"\":\"&Yacute;\",\"\":\"&THORN;\",\"\":\"&szlig;\",\"\":\"&agrave;\",\"\":\"&aacute;\",\"\":\"&acirc;\",\"\":\"&atilde;\",\"\":\"&auml;\",\"\":\"&aring;\",\"\":\"&aelig;\",\"\":\"&ccedil;\",\"\":\"&egrave;\",\"\":\"&eacute;\",\"\":\"&ecirc;\",\"\":\"&euml;\",\"\":\"&igrave;\",\"\":\"&iacute;\",\"\":\"&icirc;\",\"\":\"&iuml;\",\"\":\"&eth;\",\"\":\"&ntilde;\",\"\":\"&ograve;\",\"\":\"&oacute;\",\"\":\"&ocirc;\",\"\":\"&otilde;\",\"\":\"&ouml;\",\"\":\"&divide;\",\"\":\"&oslash;\",\"\":\"&ugrave;\",\"\":\"&uacute;\",\"\":\"&ucirc;\",\"\":\"&uuml;\",\"\":\"&yacute;\",\"\":\"&thorn;\",\"\":\"&yuml;\",'\"':\"&quot;\",\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"\":\"&OElig;\",\"\":\"&oelig;\",\"\":\"&Scaron;\",\"\":\"&scaron;\",\"\":\"&Yuml;\",\"\":\"&circ;\",\"\":\"&tilde;\",\"\":\"&ensp;\",\"\":\"&emsp;\",\"\":\"&thinsp;\",\"\":\"&zwnj;\",\"\":\"&zwj;\",\"\":\"&lrm;\",\"\":\"&rlm;\",\"\":\"&ndash;\",\"\":\"&mdash;\",\"\":\"&lsquo;\",\"\":\"&rsquo;\",\"\":\"&sbquo;\",\"\":\"&ldquo;\",\"\":\"&rdquo;\",\"\":\"&bdquo;\",\"\":\"&dagger;\",\"\":\"&Dagger;\",\"\":\"&permil;\",\"\":\"&lsaquo;\",\"\":\"&rsaquo;\",\"\":\"&euro;\",\"\":\"&fnof;\",\"\":\"&Alpha;\",\"\":\"&Beta;\",\"\":\"&Gamma;\",\"\":\"&Delta;\",\"\":\"&Epsilon;\",\"\":\"&Zeta;\",\"\":\"&Eta;\",\"\":\"&Theta;\",\"\":\"&Iota;\",\"\":\"&Kappa;\",\"\":\"&Lambda;\",\"\":\"&Mu;\",\"\":\"&Nu;\",\"\":\"&Xi;\",\"\":\"&Omicron;\",\"\":\"&Pi;\",\"\":\"&Rho;\",\"\":\"&Sigma;\",\"\":\"&Tau;\",\"\":\"&Upsilon;\",\"\":\"&Phi;\",\"\":\"&Chi;\",\"\":\"&Psi;\",\"\":\"&Omega;\",\"\":\"&alpha;\",\"\":\"&beta;\",\"\":\"&gamma;\",\"\":\"&delta;\",\"\":\"&epsilon;\",\"\":\"&zeta;\",\"\":\"&eta;\",\"\":\"&theta;\",\"\":\"&iota;\",\"\":\"&kappa;\",\"\":\"&lambda;\",\"\":\"&mu;\",\"\":\"&nu;\",\"\":\"&xi;\",\"\":\"&omicron;\",\"\":\"&pi;\",\"\":\"&rho;\",\"\":\"&sigmaf;\",\"\":\"&sigma;\",\"\":\"&tau;\",\"\":\"&upsilon;\",\"\":\"&phi;\",\"\":\"&chi;\",\"\":\"&psi;\",\"\":\"&omega;\",\"\":\"&thetasym;\",\"\":\"&upsih;\",\"\":\"&piv;\",\"\":\"&bull;\",\"\":\"&hellip;\",\"\":\"&prime;\",\"\":\"&Prime;\",\"\":\"&oline;\",\"\":\"&frasl;\",\"\":\"&weierp;\",\"\":\"&image;\",\"\":\"&real;\",\"\":\"&trade;\",\"\":\"&alefsym;\",\"\":\"&larr;\",\"\":\"&uarr;\",\"\":\"&rarr;\",\"\":\"&darr;\",\"\":\"&harr;\",\"\":\"&crarr;\",\"\":\"&lArr;\",\"\":\"&uArr;\",\"\":\"&rArr;\",\"\":\"&dArr;\",\"\":\"&hArr;\",\"\":\"&forall;\",\"\":\"&part;\",\"\":\"&exist;\",\"\":\"&empty;\",\"\":\"&nabla;\",\"\":\"&isin;\",\"\":\"&notin;\",\"\":\"&ni;\",\"\":\"&prod;\",\"\":\"&sum;\",\"\":\"&minus;\",\"\":\"&lowast;\",\"\":\"&radic;\",\"\":\"&prop;\",\"\":\"&infin;\",\"\":\"&ang;\",\"\":\"&and;\",\"\":\"&or;\",\"\":\"&cap;\",\"\":\"&cup;\",\"\":\"&int;\",\"\":\"&there4;\",\"\":\"&sim;\",\"\":\"&cong;\",\"\":\"&asymp;\",\"\":\"&ne;\",\"\":\"&equiv;\",\"\":\"&le;\",\"\":\"&ge;\",\"\":\"&sub;\",\"\":\"&sup;\",\"\":\"&nsub;\",\"\":\"&sube;\",\"\":\"&supe;\",\"\":\"&oplus;\",\"\":\"&otimes;\",\"\":\"&perp;\",\"\":\"&sdot;\",\"\":\"&lceil;\",\"\":\"&rceil;\",\"\":\"&lfloor;\",\"\":\"&rfloor;\",\"\":\"&lang;\",\"\":\"&rang;\",\"\":\"&loz;\",\"\":\"&spades;\",\"\":\"&clubs;\",\"\":\"&hearts;\",\"\":\"&diams;\"}},html5:{entities:{\"&AElig\":\"\",\"&AElig;\":\"\",\"&AMP\":\"&\",\"&AMP;\":\"&\",\"&Aacute\":\"\",\"&Aacute;\":\"\",\"&Abreve;\":\"\",\"&Acirc\":\"\",\"&Acirc;\":\"\",\"&Acy;\":\"\",\"&Afr;\":\"\",\"&Agrave\":\"\",\"&Agrave;\":\"\",\"&Alpha;\":\"\",\"&Amacr;\":\"\",\"&And;\":\"\",\"&Aogon;\":\"\",\"&Aopf;\":\"\",\"&ApplyFunction;\":\"\",\"&Aring\":\"\",\"&Aring;\":\"\",\"&Ascr;\":\"\",\"&Assign;\":\"\",\"&Atilde\":\"\",\"&Atilde;\":\"\",\"&Auml\":\"\",\"&Auml;\":\"\",\"&Backslash;\":\"\",\"&Barv;\":\"\",\"&Barwed;\":\"\",\"&Bcy;\":\"\",\"&Because;\":\"\",\"&Bernoullis;\":\"\",\"&Beta;\":\"\",\"&Bfr;\":\"\",\"&Bopf;\":\"\",\"&Breve;\":\"\",\"&Bscr;\":\"\",\"&Bumpeq;\":\"\",\"&CHcy;\":\"\",\"&COPY\":\"\",\"&COPY;\":\"\",\"&Cacute;\":\"\",\"&Cap;\":\"\",\"&CapitalDifferentialD;\":\"\",\"&Cayleys;\":\"\",\"&Ccaron;\":\"\",\"&Ccedil\":\"\",\"&Ccedil;\":\"\",\"&Ccirc;\":\"\",\"&Cconint;\":\"\",\"&Cdot;\":\"\",\"&Cedilla;\":\"\",\"&CenterDot;\":\"\",\"&Cfr;\":\"\",\"&Chi;\":\"\",\"&CircleDot;\":\"\",\"&CircleMinus;\":\"\",\"&CirclePlus;\":\"\",\"&CircleTimes;\":\"\",\"&ClockwiseContourIntegral;\":\"\",\"&CloseCurlyDoubleQuote;\":\"\",\"&CloseCurlyQuote;\":\"\",\"&Colon;\":\"\",\"&Colone;\":\"\",\"&Congruent;\":\"\",\"&Conint;\":\"\",\"&ContourIntegral;\":\"\",\"&Copf;\":\"\",\"&Coproduct;\":\"\",\"&CounterClockwiseContourIntegral;\":\"\",\"&Cross;\":\"\",\"&Cscr;\":\"\",\"&Cup;\":\"\",\"&CupCap;\":\"\",\"&DD;\":\"\",\"&DDotrahd;\":\"\",\"&DJcy;\":\"\",\"&DScy;\":\"\",\"&DZcy;\":\"\",\"&Dagger;\":\"\",\"&Darr;\":\"\",\"&Dashv;\":\"\",\"&Dcaron;\":\"\",\"&Dcy;\":\"\",\"&Del;\":\"\",\"&Delta;\":\"\",\"&Dfr;\":\"\",\"&DiacriticalAcute;\":\"\",\"&DiacriticalDot;\":\"\",\"&DiacriticalDoubleAcute;\":\"\",\"&DiacriticalGrave;\":\"`\",\"&DiacriticalTilde;\":\"\",\"&Diamond;\":\"\",\"&DifferentialD;\":\"\",\"&Dopf;\":\"\",\"&Dot;\":\"\",\"&DotDot;\":\"\",\"&DotEqual;\":\"\",\"&DoubleContourIntegral;\":\"\",\"&DoubleDot;\":\"\",\"&DoubleDownArrow;\":\"\",\"&DoubleLeftArrow;\":\"\",\"&DoubleLeftRightArrow;\":\"\",\"&DoubleLeftTee;\":\"\",\"&DoubleLongLeftArrow;\":\"\",\"&DoubleLongLeftRightArrow;\":\"\",\"&DoubleLongRightArrow;\":\"\",\"&DoubleRightArrow;\":\"\",\"&DoubleRightTee;\":\"\",\"&DoubleUpArrow;\":\"\",\"&DoubleUpDownArrow;\":\"\",\"&DoubleVerticalBar;\":\"\",\"&DownArrow;\":\"\",\"&DownArrowBar;\":\"\",\"&DownArrowUpArrow;\":\"\",\"&DownBreve;\":\"\",\"&DownLeftRightVector;\":\"\",\"&DownLeftTeeVector;\":\"\",\"&DownLeftVector;\":\"\",\"&DownLeftVectorBar;\":\"\",\"&DownRightTeeVector;\":\"\",\"&DownRightVector;\":\"\",\"&DownRightVectorBar;\":\"\",\"&DownTee;\":\"\",\"&DownTeeArrow;\":\"\",\"&Downarrow;\":\"\",\"&Dscr;\":\"\",\"&Dstrok;\":\"\",\"&ENG;\":\"\",\"&ETH\":\"\",\"&ETH;\":\"\",\"&Eacute\":\"\",\"&Eacute;\":\"\",\"&Ecaron;\":\"\",\"&Ecirc\":\"\",\"&Ecirc;\":\"\",\"&Ecy;\":\"\",\"&Edot;\":\"\",\"&Efr;\":\"\",\"&Egrave\":\"\",\"&Egrave;\":\"\",\"&Element;\":\"\",\"&Emacr;\":\"\",\"&EmptySmallSquare;\":\"\",\"&EmptyVerySmallSquare;\":\"\",\"&Eogon;\":\"\",\"&Eopf;\":\"\",\"&Epsilon;\":\"\",\"&Equal;\":\"\",\"&EqualTilde;\":\"\",\"&Equilibrium;\":\"\",\"&Escr;\":\"\",\"&Esim;\":\"\",\"&Eta;\":\"\",\"&Euml\":\"\",\"&Euml;\":\"\",\"&Exists;\":\"\",\"&ExponentialE;\":\"\",\"&Fcy;\":\"\",\"&Ffr;\":\"\",\"&FilledSmallSquare;\":\"\",\"&FilledVerySmallSquare;\":\"\",\"&Fopf;\":\"\",\"&ForAll;\":\"\",\"&Fouriertrf;\":\"\",\"&Fscr;\":\"\",\"&GJcy;\":\"\",\"&GT\":\">\",\"&GT;\":\">\",\"&Gamma;\":\"\",\"&Gammad;\":\"\",\"&Gbreve;\":\"\",\"&Gcedil;\":\"\",\"&Gcirc;\":\"\",\"&Gcy;\":\"\",\"&Gdot;\":\"\",\"&Gfr;\":\"\",\"&Gg;\":\"\",\"&Gopf;\":\"\",\"&GreaterEqual;\":\"\",\"&GreaterEqualLess;\":\"\",\"&GreaterFullEqual;\":\"\",\"&GreaterGreater;\":\"\",\"&GreaterLess;\":\"\",\"&GreaterSlantEqual;\":\"\",\"&GreaterTilde;\":\"\",\"&Gscr;\":\"\",\"&Gt;\":\"\",\"&HARDcy;\":\"\",\"&Hacek;\":\"\",\"&Hat;\":\"^\",\"&Hcirc;\":\"\",\"&Hfr;\":\"\",\"&HilbertSpace;\":\"\",\"&Hopf;\":\"\",\"&HorizontalLine;\":\"\",\"&Hscr;\":\"\",\"&Hstrok;\":\"\",\"&HumpDownHump;\":\"\",\"&HumpEqual;\":\"\",\"&IEcy;\":\"\",\"&IJlig;\":\"\",\"&IOcy;\":\"\",\"&Iacute\":\"\",\"&Iacute;\":\"\",\"&Icirc\":\"\",\"&Icirc;\":\"\",\"&Icy;\":\"\",\"&Idot;\":\"\",\"&Ifr;\":\"\",\"&Igrave\":\"\",\"&Igrave;\":\"\",\"&Im;\":\"\",\"&Imacr;\":\"\",\"&ImaginaryI;\":\"\",\"&Implies;\":\"\",\"&Int;\":\"\",\"&Integral;\":\"\",\"&Intersection;\":\"\",\"&InvisibleComma;\":\"\",\"&InvisibleTimes;\":\"\",\"&Iogon;\":\"\",\"&Iopf;\":\"\",\"&Iota;\":\"\",\"&Iscr;\":\"\",\"&Itilde;\":\"\",\"&Iukcy;\":\"\",\"&Iuml\":\"\",\"&Iuml;\":\"\",\"&Jcirc;\":\"\",\"&Jcy;\":\"\",\"&Jfr;\":\"\",\"&Jopf;\":\"\",\"&Jscr;\":\"\",\"&Jsercy;\":\"\",\"&Jukcy;\":\"\",\"&KHcy;\":\"\",\"&KJcy;\":\"\",\"&Kappa;\":\"\",\"&Kcedil;\":\"\",\"&Kcy;\":\"\",\"&Kfr;\":\"\",\"&Kopf;\":\"\",\"&Kscr;\":\"\",\"&LJcy;\":\"\",\"&LT\":\"<\",\"&LT;\":\"<\",\"&Lacute;\":\"\",\"&Lambda;\":\"\",\"&Lang;\":\"\",\"&Laplacetrf;\":\"\",\"&Larr;\":\"\",\"&Lcaron;\":\"\",\"&Lcedil;\":\"\",\"&Lcy;\":\"\",\"&LeftAngleBracket;\":\"\",\"&LeftArrow;\":\"\",\"&LeftArrowBar;\":\"\",\"&LeftArrowRightArrow;\":\"\",\"&LeftCeiling;\":\"\",\"&LeftDoubleBracket;\":\"\",\"&LeftDownTeeVector;\":\"\",\"&LeftDownVector;\":\"\",\"&LeftDownVectorBar;\":\"\",\"&LeftFloor;\":\"\",\"&LeftRightArrow;\":\"\",\"&LeftRightVector;\":\"\",\"&LeftTee;\":\"\",\"&LeftTeeArrow;\":\"\",\"&LeftTeeVector;\":\"\",\"&LeftTriangle;\":\"\",\"&LeftTriangleBar;\":\"\",\"&LeftTriangleEqual;\":\"\",\"&LeftUpDownVector;\":\"\",\"&LeftUpTeeVector;\":\"\",\"&LeftUpVector;\":\"\",\"&LeftUpVectorBar;\":\"\",\"&LeftVector;\":\"\",\"&LeftVectorBar;\":\"\",\"&Leftarrow;\":\"\",\"&Leftrightarrow;\":\"\",\"&LessEqualGreater;\":\"\",\"&LessFullEqual;\":\"\",\"&LessGreater;\":\"\",\"&LessLess;\":\"\",\"&LessSlantEqual;\":\"\",\"&LessTilde;\":\"\",\"&Lfr;\":\"\",\"&Ll;\":\"\",\"&Lleftarrow;\":\"\",\"&Lmidot;\":\"\",\"&LongLeftArrow;\":\"\",\"&LongLeftRightArrow;\":\"\",\"&LongRightArrow;\":\"\",\"&Longleftarrow;\":\"\",\"&Longleftrightarrow;\":\"\",\"&Longrightarrow;\":\"\",\"&Lopf;\":\"\",\"&LowerLeftArrow;\":\"\",\"&LowerRightArrow;\":\"\",\"&Lscr;\":\"\",\"&Lsh;\":\"\",\"&Lstrok;\":\"\",\"&Lt;\":\"\",\"&Map;\":\"\",\"&Mcy;\":\"\",\"&MediumSpace;\":\"\",\"&Mellintrf;\":\"\",\"&Mfr;\":\"\",\"&MinusPlus;\":\"\",\"&Mopf;\":\"\",\"&Mscr;\":\"\",\"&Mu;\":\"\",\"&NJcy;\":\"\",\"&Nacute;\":\"\",\"&Ncaron;\":\"\",\"&Ncedil;\":\"\",\"&Ncy;\":\"\",\"&NegativeMediumSpace;\":\"\",\"&NegativeThickSpace;\":\"\",\"&NegativeThinSpace;\":\"\",\"&NegativeVeryThinSpace;\":\"\",\"&NestedGreaterGreater;\":\"\",\"&NestedLessLess;\":\"\",\"&NewLine;\":\"\\n\",\"&Nfr;\":\"\",\"&NoBreak;\":\"\",\"&NonBreakingSpace;\":\"\",\"&Nopf;\":\"\",\"&Not;\":\"\",\"&NotCongruent;\":\"\",\"&NotCupCap;\":\"\",\"&NotDoubleVerticalBar;\":\"\",\"&NotElement;\":\"\",\"&NotEqual;\":\"\",\"&NotEqualTilde;\":\"\",\"&NotExists;\":\"\",\"&NotGreater;\":\"\",\"&NotGreaterEqual;\":\"\",\"&NotGreaterFullEqual;\":\"\",\"&NotGreaterGreater;\":\"\",\"&NotGreaterLess;\":\"\",\"&NotGreaterSlantEqual;\":\"\",\"&NotGreaterTilde;\":\"\",\"&NotHumpDownHump;\":\"\",\"&NotHumpEqual;\":\"\",\"&NotLeftTriangle;\":\"\",\"&NotLeftTriangleBar;\":\"\",\"&NotLeftTriangleEqual;\":\"\",\"&NotLess;\":\"\",\"&NotLessEqual;\":\"\",\"&NotLessGreater;\":\"\",\"&NotLessLess;\":\"\",\"&NotLessSlantEqual;\":\"\",\"&NotLessTilde;\":\"\",\"&NotNestedGreaterGreater;\":\"\",\"&NotNestedLessLess;\":\"\",\"&NotPrecedes;\":\"\",\"&NotPrecedesEqual;\":\"\",\"&NotPrecedesSlantEqual;\":\"\",\"&NotReverseElement;\":\"\",\"&NotRightTriangle;\":\"\",\"&NotRightTriangleBar;\":\"\",\"&NotRightTriangleEqual;\":\"\",\"&NotSquareSubset;\":\"\",\"&NotSquareSubsetEqual;\":\"\",\"&NotSquareSuperset;\":\"\",\"&NotSquareSupersetEqual;\":\"\",\"&NotSubset;\":\"\",\"&NotSubsetEqual;\":\"\",\"&NotSucceeds;\":\"\",\"&NotSucceedsEqual;\":\"\",\"&NotSucceedsSlantEqual;\":\"\",\"&NotSucceedsTilde;\":\"\",\"&NotSuperset;\":\"\",\"&NotSupersetEqual;\":\"\",\"&NotTilde;\":\"\",\"&NotTildeEqual;\":\"\",\"&NotTildeFullEqual;\":\"\",\"&NotTildeTilde;\":\"\",\"&NotVerticalBar;\":\"\",\"&Nscr;\":\"\",\"&Ntilde\":\"\",\"&Ntilde;\":\"\",\"&Nu;\":\"\",\"&OElig;\":\"\",\"&Oacute\":\"\",\"&Oacute;\":\"\",\"&Ocirc\":\"\",\"&Ocirc;\":\"\",\"&Ocy;\":\"\",\"&Odblac;\":\"\",\"&Ofr;\":\"\",\"&Ograve\":\"\",\"&Ograve;\":\"\",\"&Omacr;\":\"\",\"&Omega;\":\"\",\"&Omicron;\":\"\",\"&Oopf;\":\"\",\"&OpenCurlyDoubleQuote;\":\"\",\"&OpenCurlyQuote;\":\"\",\"&Or;\":\"\",\"&Oscr;\":\"\",\"&Oslash\":\"\",\"&Oslash;\":\"\",\"&Otilde\":\"\",\"&Otilde;\":\"\",\"&Otimes;\":\"\",\"&Ouml\":\"\",\"&Ouml;\":\"\",\"&OverBar;\":\"\",\"&OverBrace;\":\"\",\"&OverBracket;\":\"\",\"&OverParenthesis;\":\"\",\"&PartialD;\":\"\",\"&Pcy;\":\"\",\"&Pfr;\":\"\",\"&Phi;\":\"\",\"&Pi;\":\"\",\"&PlusMinus;\":\"\",\"&Poincareplane;\":\"\",\"&Popf;\":\"\",\"&Pr;\":\"\",\"&Precedes;\":\"\",\"&PrecedesEqual;\":\"\",\"&PrecedesSlantEqual;\":\"\",\"&PrecedesTilde;\":\"\",\"&Prime;\":\"\",\"&Product;\":\"\",\"&Proportion;\":\"\",\"&Proportional;\":\"\",\"&Pscr;\":\"\",\"&Psi;\":\"\",\"&QUOT\":'\"',\"&QUOT;\":'\"',\"&Qfr;\":\"\",\"&Qopf;\":\"\",\"&Qscr;\":\"\",\"&RBarr;\":\"\",\"&REG\":\"\",\"&REG;\":\"\",\"&Racute;\":\"\",\"&Rang;\":\"\",\"&Rarr;\":\"\",\"&Rarrtl;\":\"\",\"&Rcaron;\":\"\",\"&Rcedil;\":\"\",\"&Rcy;\":\"\",\"&Re;\":\"\",\"&ReverseElement;\":\"\",\"&ReverseEquilibrium;\":\"\",\"&ReverseUpEquilibrium;\":\"\",\"&Rfr;\":\"\",\"&Rho;\":\"\",\"&RightAngleBracket;\":\"\",\"&RightArrow;\":\"\",\"&RightArrowBar;\":\"\",\"&RightArrowLeftArrow;\":\"\",\"&RightCeiling;\":\"\",\"&RightDoubleBracket;\":\"\",\"&RightDownTeeVector;\":\"\",\"&RightDownVector;\":\"\",\"&RightDownVectorBar;\":\"\",\"&RightFloor;\":\"\",\"&RightTee;\":\"\",\"&RightTeeArrow;\":\"\",\"&RightTeeVector;\":\"\",\"&RightTriangle;\":\"\",\"&RightTriangleBar;\":\"\",\"&RightTriangleEqual;\":\"\",\"&RightUpDownVector;\":\"\",\"&RightUpTeeVector;\":\"\",\"&RightUpVector;\":\"\",\"&RightUpVectorBar;\":\"\",\"&RightVector;\":\"\",\"&RightVectorBar;\":\"\",\"&Rightarrow;\":\"\",\"&Ropf;\":\"\",\"&RoundImplies;\":\"\",\"&Rrightarrow;\":\"\",\"&Rscr;\":\"\",\"&Rsh;\":\"\",\"&RuleDelayed;\":\"\",\"&SHCHcy;\":\"\",\"&SHcy;\":\"\",\"&SOFTcy;\":\"\",\"&Sacute;\":\"\",\"&Sc;\":\"\",\"&Scaron;\":\"\",\"&Scedil;\":\"\",\"&Scirc;\":\"\",\"&Scy;\":\"\",\"&Sfr;\":\"\",\"&ShortDownArrow;\":\"\",\"&ShortLeftArrow;\":\"\",\"&ShortRightArrow;\":\"\",\"&ShortUpArrow;\":\"\",\"&Sigma;\":\"\",\"&SmallCircle;\":\"\",\"&Sopf;\":\"\",\"&Sqrt;\":\"\",\"&Square;\":\"\",\"&SquareIntersection;\":\"\",\"&SquareSubset;\":\"\",\"&SquareSubsetEqual;\":\"\",\"&SquareSuperset;\":\"\",\"&SquareSupersetEqual;\":\"\",\"&SquareUnion;\":\"\",\"&Sscr;\":\"\",\"&Star;\":\"\",\"&Sub;\":\"\",\"&Subset;\":\"\",\"&SubsetEqual;\":\"\",\"&Succeeds;\":\"\",\"&SucceedsEqual;\":\"\",\"&SucceedsSlantEqual;\":\"\",\"&SucceedsTilde;\":\"\",\"&SuchThat;\":\"\",\"&Sum;\":\"\",\"&Sup;\":\"\",\"&Superset;\":\"\",\"&SupersetEqual;\":\"\",\"&Supset;\":\"\",\"&THORN\":\"\",\"&THORN;\":\"\",\"&TRADE;\":\"\",\"&TSHcy;\":\"\",\"&TScy;\":\"\",\"&Tab;\":\"\\t\",\"&Tau;\":\"\",\"&Tcaron;\":\"\",\"&Tcedil;\":\"\",\"&Tcy;\":\"\",\"&Tfr;\":\"\",\"&Therefore;\":\"\",\"&Theta;\":\"\",\"&ThickSpace;\":\"\",\"&ThinSpace;\":\"\",\"&Tilde;\":\"\",\"&TildeEqual;\":\"\",\"&TildeFullEqual;\":\"\",\"&TildeTilde;\":\"\",\"&Topf;\":\"\",\"&TripleDot;\":\"\",\"&Tscr;\":\"\",\"&Tstrok;\":\"\",\"&Uacute\":\"\",\"&Uacute;\":\"\",\"&Uarr;\":\"\",\"&Uarrocir;\":\"\",\"&Ubrcy;\":\"\",\"&Ubreve;\":\"\",\"&Ucirc\":\"\",\"&Ucirc;\":\"\",\"&Ucy;\":\"\",\"&Udblac;\":\"\",\"&Ufr;\":\"\",\"&Ugrave\":\"\",\"&Ugrave;\":\"\",\"&Umacr;\":\"\",\"&UnderBar;\":\"_\",\"&UnderBrace;\":\"\",\"&UnderBracket;\":\"\",\"&UnderParenthesis;\":\"\",\"&Union;\":\"\",\"&UnionPlus;\":\"\",\"&Uogon;\":\"\",\"&Uopf;\":\"\",\"&UpArrow;\":\"\",\"&UpArrowBar;\":\"\",\"&UpArrowDownArrow;\":\"\",\"&UpDownArrow;\":\"\",\"&UpEquilibrium;\":\"\",\"&UpTee;\":\"\",\"&UpTeeArrow;\":\"\",\"&Uparrow;\":\"\",\"&Updownarrow;\":\"\",\"&UpperLeftArrow;\":\"\",\"&UpperRightArrow;\":\"\",\"&Upsi;\":\"\",\"&Upsilon;\":\"\",\"&Uring;\":\"\",\"&Uscr;\":\"\",\"&Utilde;\":\"\",\"&Uuml\":\"\",\"&Uuml;\":\"\",\"&VDash;\":\"\",\"&Vbar;\":\"\",\"&Vcy;\":\"\",\"&Vdash;\":\"\",\"&Vdashl;\":\"\",\"&Vee;\":\"\",\"&Verbar;\":\"\",\"&Vert;\":\"\",\"&VerticalBar;\":\"\",\"&VerticalLine;\":\"|\",\"&VerticalSeparator;\":\"\",\"&VerticalTilde;\":\"\",\"&VeryThinSpace;\":\"\",\"&Vfr;\":\"\",\"&Vopf;\":\"\",\"&Vscr;\":\"\",\"&Vvdash;\":\"\",\"&Wcirc;\":\"\",\"&Wedge;\":\"\",\"&Wfr;\":\"\",\"&Wopf;\":\"\",\"&Wscr;\":\"\",\"&Xfr;\":\"\",\"&Xi;\":\"\",\"&Xopf;\":\"\",\"&Xscr;\":\"\",\"&YAcy;\":\"\",\"&YIcy;\":\"\",\"&YUcy;\":\"\",\"&Yacute\":\"\",\"&Yacute;\":\"\",\"&Ycirc;\":\"\",\"&Ycy;\":\"\",\"&Yfr;\":\"\",\"&Yopf;\":\"\",\"&Yscr;\":\"\",\"&Yuml;\":\"\",\"&ZHcy;\":\"\",\"&Zacute;\":\"\",\"&Zcaron;\":\"\",\"&Zcy;\":\"\",\"&Zdot;\":\"\",\"&ZeroWidthSpace;\":\"\",\"&Zeta;\":\"\",\"&Zfr;\":\"\",\"&Zopf;\":\"\",\"&Zscr;\":\"\",\"&aacute\":\"\",\"&aacute;\":\"\",\"&abreve;\":\"\",\"&ac;\":\"\",\"&acE;\":\"\",\"&acd;\":\"\",\"&acirc\":\"\",\"&acirc;\":\"\",\"&acute\":\"\",\"&acute;\":\"\",\"&acy;\":\"\",\"&aelig\":\"\",\"&aelig;\":\"\",\"&af;\":\"\",\"&afr;\":\"\",\"&agrave\":\"\",\"&agrave;\":\"\",\"&alefsym;\":\"\",\"&aleph;\":\"\",\"&alpha;\":\"\",\"&amacr;\":\"\",\"&amalg;\":\"\",\"&amp\":\"&\",\"&amp;\":\"&\",\"&and;\":\"\",\"&andand;\":\"\",\"&andd;\":\"\",\"&andslope;\":\"\",\"&andv;\":\"\",\"&ang;\":\"\",\"&ange;\":\"\",\"&angle;\":\"\",\"&angmsd;\":\"\",\"&angmsdaa;\":\"\",\"&angmsdab;\":\"\",\"&angmsdac;\":\"\",\"&angmsdad;\":\"\",\"&angmsdae;\":\"\",\"&angmsdaf;\":\"\",\"&angmsdag;\":\"\",\"&angmsdah;\":\"\",\"&angrt;\":\"\",\"&angrtvb;\":\"\",\"&angrtvbd;\":\"\",\"&angsph;\":\"\",\"&angst;\":\"\",\"&angzarr;\":\"\",\"&aogon;\":\"\",\"&aopf;\":\"\",\"&ap;\":\"\",\"&apE;\":\"\",\"&apacir;\":\"\",\"&ape;\":\"\",\"&apid;\":\"\",\"&apos;\":\"'\",\"&approx;\":\"\",\"&approxeq;\":\"\",\"&aring\":\"\",\"&aring;\":\"\",\"&ascr;\":\"\",\"&ast;\":\"*\",\"&asymp;\":\"\",\"&asympeq;\":\"\",\"&atilde\":\"\",\"&atilde;\":\"\",\"&auml\":\"\",\"&auml;\":\"\",\"&awconint;\":\"\",\"&awint;\":\"\",\"&bNot;\":\"\",\"&backcong;\":\"\",\"&backepsilon;\":\"\",\"&backprime;\":\"\",\"&backsim;\":\"\",\"&backsimeq;\":\"\",\"&barvee;\":\"\",\"&barwed;\":\"\",\"&barwedge;\":\"\",\"&bbrk;\":\"\",\"&bbrktbrk;\":\"\",\"&bcong;\":\"\",\"&bcy;\":\"\",\"&bdquo;\":\"\",\"&becaus;\":\"\",\"&because;\":\"\",\"&bemptyv;\":\"\",\"&bepsi;\":\"\",\"&bernou;\":\"\",\"&beta;\":\"\",\"&beth;\":\"\",\"&between;\":\"\",\"&bfr;\":\"\",\"&bigcap;\":\"\",\"&bigcirc;\":\"\",\"&bigcup;\":\"\",\"&bigodot;\":\"\",\"&bigoplus;\":\"\",\"&bigotimes;\":\"\",\"&bigsqcup;\":\"\",\"&bigstar;\":\"\",\"&bigtriangledown;\":\"\",\"&bigtriangleup;\":\"\",\"&biguplus;\":\"\",\"&bigvee;\":\"\",\"&bigwedge;\":\"\",\"&bkarow;\":\"\",\"&blacklozenge;\":\"\",\"&blacksquare;\":\"\",\"&blacktriangle;\":\"\",\"&blacktriangledown;\":\"\",\"&blacktriangleleft;\":\"\",\"&blacktriangleright;\":\"\",\"&blank;\":\"\",\"&blk12;\":\"\",\"&blk14;\":\"\",\"&blk34;\":\"\",\"&block;\":\"\",\"&bne;\":\"=\",\"&bnequiv;\":\"\",\"&bnot;\":\"\",\"&bopf;\":\"\",\"&bot;\":\"\",\"&bottom;\":\"\",\"&bowtie;\":\"\",\"&boxDL;\":\"\",\"&boxDR;\":\"\",\"&boxDl;\":\"\",\"&boxDr;\":\"\",\"&boxH;\":\"\",\"&boxHD;\":\"\",\"&boxHU;\":\"\",\"&boxHd;\":\"\",\"&boxHu;\":\"\",\"&boxUL;\":\"\",\"&boxUR;\":\"\",\"&boxUl;\":\"\",\"&boxUr;\":\"\",\"&boxV;\":\"\",\"&boxVH;\":\"\",\"&boxVL;\":\"\",\"&boxVR;\":\"\",\"&boxVh;\":\"\",\"&boxVl;\":\"\",\"&boxVr;\":\"\",\"&boxbox;\":\"\",\"&boxdL;\":\"\",\"&boxdR;\":\"\",\"&boxdl;\":\"\",\"&boxdr;\":\"\",\"&boxh;\":\"\",\"&boxhD;\":\"\",\"&boxhU;\":\"\",\"&boxhd;\":\"\",\"&boxhu;\":\"\",\"&boxminus;\":\"\",\"&boxplus;\":\"\",\"&boxtimes;\":\"\",\"&boxuL;\":\"\",\"&boxuR;\":\"\",\"&boxul;\":\"\",\"&boxur;\":\"\",\"&boxv;\":\"\",\"&boxvH;\":\"\",\"&boxvL;\":\"\",\"&boxvR;\":\"\",\"&boxvh;\":\"\",\"&boxvl;\":\"\",\"&boxvr;\":\"\",\"&bprime;\":\"\",\"&breve;\":\"\",\"&brvbar\":\"\",\"&brvbar;\":\"\",\"&bscr;\":\"\",\"&bsemi;\":\"\",\"&bsim;\":\"\",\"&bsime;\":\"\",\"&bsol;\":\"\\\\\",\"&bsolb;\":\"\",\"&bsolhsub;\":\"\",\"&bull;\":\"\",\"&bullet;\":\"\",\"&bump;\":\"\",\"&bumpE;\":\"\",\"&bumpe;\":\"\",\"&bumpeq;\":\"\",\"&cacute;\":\"\",\"&cap;\":\"\",\"&capand;\":\"\",\"&capbrcup;\":\"\",\"&capcap;\":\"\",\"&capcup;\":\"\",\"&capdot;\":\"\",\"&caps;\":\"\",\"&caret;\":\"\",\"&caron;\":\"\",\"&ccaps;\":\"\",\"&ccaron;\":\"\",\"&ccedil\":\"\",\"&ccedil;\":\"\",\"&ccirc;\":\"\",\"&ccups;\":\"\",\"&ccupssm;\":\"\",\"&cdot;\":\"\",\"&cedil\":\"\",\"&cedil;\":\"\",\"&cemptyv;\":\"\",\"&cent\":\"\",\"&cent;\":\"\",\"&centerdot;\":\"\",\"&cfr;\":\"\",\"&chcy;\":\"\",\"&check;\":\"\",\"&checkmark;\":\"\",\"&chi;\":\"\",\"&cir;\":\"\",\"&cirE;\":\"\",\"&circ;\":\"\",\"&circeq;\":\"\",\"&circlearrowleft;\":\"\",\"&circlearrowright;\":\"\",\"&circledR;\":\"\",\"&circledS;\":\"\",\"&circledast;\":\"\",\"&circledcirc;\":\"\",\"&circleddash;\":\"\",\"&cire;\":\"\",\"&cirfnint;\":\"\",\"&cirmid;\":\"\",\"&cirscir;\":\"\",\"&clubs;\":\"\",\"&clubsuit;\":\"\",\"&colon;\":\":\",\"&colone;\":\"\",\"&coloneq;\":\"\",\"&comma;\":\",\",\"&commat;\":\"@\",\"&comp;\":\"\",\"&compfn;\":\"\",\"&complement;\":\"\",\"&complexes;\":\"\",\"&cong;\":\"\",\"&congdot;\":\"\",\"&conint;\":\"\",\"&copf;\":\"\",\"&coprod;\":\"\",\"&copy\":\"\",\"&copy;\":\"\",\"&copysr;\":\"\",\"&crarr;\":\"\",\"&cross;\":\"\",\"&cscr;\":\"\",\"&csub;\":\"\",\"&csube;\":\"\",\"&csup;\":\"\",\"&csupe;\":\"\",\"&ctdot;\":\"\",\"&cudarrl;\":\"\",\"&cudarrr;\":\"\",\"&cuepr;\":\"\",\"&cuesc;\":\"\",\"&cularr;\":\"\",\"&cularrp;\":\"\",\"&cup;\":\"\",\"&cupbrcap;\":\"\",\"&cupcap;\":\"\",\"&cupcup;\":\"\",\"&cupdot;\":\"\",\"&cupor;\":\"\",\"&cups;\":\"\",\"&curarr;\":\"\",\"&curarrm;\":\"\",\"&curlyeqprec;\":\"\",\"&curlyeqsucc;\":\"\",\"&curlyvee;\":\"\",\"&curlywedge;\":\"\",\"&curren\":\"\",\"&curren;\":\"\",\"&curvearrowleft;\":\"\",\"&curvearrowright;\":\"\",\"&cuvee;\":\"\",\"&cuwed;\":\"\",\"&cwconint;\":\"\",\"&cwint;\":\"\",\"&cylcty;\":\"\",\"&dArr;\":\"\",\"&dHar;\":\"\",\"&dagger;\":\"\",\"&daleth;\":\"\",\"&darr;\":\"\",\"&dash;\":\"\",\"&dashv;\":\"\",\"&dbkarow;\":\"\",\"&dblac;\":\"\",\"&dcaron;\":\"\",\"&dcy;\":\"\",\"&dd;\":\"\",\"&ddagger;\":\"\",\"&ddarr;\":\"\",\"&ddotseq;\":\"\",\"&deg\":\"\",\"&deg;\":\"\",\"&delta;\":\"\",\"&demptyv;\":\"\",\"&dfisht;\":\"\",\"&dfr;\":\"\",\"&dharl;\":\"\",\"&dharr;\":\"\",\"&diam;\":\"\",\"&diamond;\":\"\",\"&diamondsuit;\":\"\",\"&diams;\":\"\",\"&die;\":\"\",\"&digamma;\":\"\",\"&disin;\":\"\",\"&div;\":\"\",\"&divide\":\"\",\"&divide;\":\"\",\"&divideontimes;\":\"\",\"&divonx;\":\"\",\"&djcy;\":\"\",\"&dlcorn;\":\"\",\"&dlcrop;\":\"\",\"&dollar;\":\"$\",\"&dopf;\":\"\",\"&dot;\":\"\",\"&doteq;\":\"\",\"&doteqdot;\":\"\",\"&dotminus;\":\"\",\"&dotplus;\":\"\",\"&dotsquare;\":\"\",\"&doublebarwedge;\":\"\",\"&downarrow;\":\"\",\"&downdownarrows;\":\"\",\"&downharpoonleft;\":\"\",\"&downharpoonright;\":\"\",\"&drbkarow;\":\"\",\"&drcorn;\":\"\",\"&drcrop;\":\"\",\"&dscr;\":\"\",\"&dscy;\":\"\",\"&dsol;\":\"\",\"&dstrok;\":\"\",\"&dtdot;\":\"\",\"&dtri;\":\"\",\"&dtrif;\":\"\",\"&duarr;\":\"\",\"&duhar;\":\"\",\"&dwangle;\":\"\",\"&dzcy;\":\"\",\"&dzigrarr;\":\"\",\"&eDDot;\":\"\",\"&eDot;\":\"\",\"&eacute\":\"\",\"&eacute;\":\"\",\"&easter;\":\"\",\"&ecaron;\":\"\",\"&ecir;\":\"\",\"&ecirc\":\"\",\"&ecirc;\":\"\",\"&ecolon;\":\"\",\"&ecy;\":\"\",\"&edot;\":\"\",\"&ee;\":\"\",\"&efDot;\":\"\",\"&efr;\":\"\",\"&eg;\":\"\",\"&egrave\":\"\",\"&egrave;\":\"\",\"&egs;\":\"\",\"&egsdot;\":\"\",\"&el;\":\"\",\"&elinters;\":\"\",\"&ell;\":\"\",\"&els;\":\"\",\"&elsdot;\":\"\",\"&emacr;\":\"\",\"&empty;\":\"\",\"&emptyset;\":\"\",\"&emptyv;\":\"\",\"&emsp13;\":\"\",\"&emsp14;\":\"\",\"&emsp;\":\"\",\"&eng;\":\"\",\"&ensp;\":\"\",\"&eogon;\":\"\",\"&eopf;\":\"\",\"&epar;\":\"\",\"&eparsl;\":\"\",\"&eplus;\":\"\",\"&epsi;\":\"\",\"&epsilon;\":\"\",\"&epsiv;\":\"\",\"&eqcirc;\":\"\",\"&eqcolon;\":\"\",\"&eqsim;\":\"\",\"&eqslantgtr;\":\"\",\"&eqslantless;\":\"\",\"&equals;\":\"=\",\"&equest;\":\"\",\"&equiv;\":\"\",\"&equivDD;\":\"\",\"&eqvparsl;\":\"\",\"&erDot;\":\"\",\"&erarr;\":\"\",\"&escr;\":\"\",\"&esdot;\":\"\",\"&esim;\":\"\",\"&eta;\":\"\",\"&eth\":\"\",\"&eth;\":\"\",\"&euml\":\"\",\"&euml;\":\"\",\"&euro;\":\"\",\"&excl;\":\"!\",\"&exist;\":\"\",\"&expectation;\":\"\",\"&exponentiale;\":\"\",\"&fallingdotseq;\":\"\",\"&fcy;\":\"\",\"&female;\":\"\",\"&ffilig;\":\"\",\"&fflig;\":\"\",\"&ffllig;\":\"\",\"&ffr;\":\"\",\"&filig;\":\"\",\"&fjlig;\":\"fj\",\"&flat;\":\"\",\"&fllig;\":\"\",\"&fltns;\":\"\",\"&fnof;\":\"\",\"&fopf;\":\"\",\"&forall;\":\"\",\"&fork;\":\"\",\"&forkv;\":\"\",\"&fpartint;\":\"\",\"&frac12\":\"\",\"&frac12;\":\"\",\"&frac13;\":\"\",\"&frac14\":\"\",\"&frac14;\":\"\",\"&frac15;\":\"\",\"&frac16;\":\"\",\"&frac18;\":\"\",\"&frac23;\":\"\",\"&frac25;\":\"\",\"&frac34\":\"\",\"&frac34;\":\"\",\"&frac35;\":\"\",\"&frac38;\":\"\",\"&frac45;\":\"\",\"&frac56;\":\"\",\"&frac58;\":\"\",\"&frac78;\":\"\",\"&frasl;\":\"\",\"&frown;\":\"\",\"&fscr;\":\"\",\"&gE;\":\"\",\"&gEl;\":\"\",\"&gacute;\":\"\",\"&gamma;\":\"\",\"&gammad;\":\"\",\"&gap;\":\"\",\"&gbreve;\":\"\",\"&gcirc;\":\"\",\"&gcy;\":\"\",\"&gdot;\":\"\",\"&ge;\":\"\",\"&gel;\":\"\",\"&geq;\":\"\",\"&geqq;\":\"\",\"&geqslant;\":\"\",\"&ges;\":\"\",\"&gescc;\":\"\",\"&gesdot;\":\"\",\"&gesdoto;\":\"\",\"&gesdotol;\":\"\",\"&gesl;\":\"\",\"&gesles;\":\"\",\"&gfr;\":\"\",\"&gg;\":\"\",\"&ggg;\":\"\",\"&gimel;\":\"\",\"&gjcy;\":\"\",\"&gl;\":\"\",\"&glE;\":\"\",\"&gla;\":\"\",\"&glj;\":\"\",\"&gnE;\":\"\",\"&gnap;\":\"\",\"&gnapprox;\":\"\",\"&gne;\":\"\",\"&gneq;\":\"\",\"&gneqq;\":\"\",\"&gnsim;\":\"\",\"&gopf;\":\"\",\"&grave;\":\"`\",\"&gscr;\":\"\",\"&gsim;\":\"\",\"&gsime;\":\"\",\"&gsiml;\":\"\",\"&gt\":\">\",\"&gt;\":\">\",\"&gtcc;\":\"\",\"&gtcir;\":\"\",\"&gtdot;\":\"\",\"&gtlPar;\":\"\",\"&gtquest;\":\"\",\"&gtrapprox;\":\"\",\"&gtrarr;\":\"\",\"&gtrdot;\":\"\",\"&gtreqless;\":\"\",\"&gtreqqless;\":\"\",\"&gtrless;\":\"\",\"&gtrsim;\":\"\",\"&gvertneqq;\":\"\",\"&gvnE;\":\"\",\"&hArr;\":\"\",\"&hairsp;\":\"\",\"&half;\":\"\",\"&hamilt;\":\"\",\"&hardcy;\":\"\",\"&harr;\":\"\",\"&harrcir;\":\"\",\"&harrw;\":\"\",\"&hbar;\":\"\",\"&hcirc;\":\"\",\"&hearts;\":\"\",\"&heartsuit;\":\"\",\"&hellip;\":\"\",\"&hercon;\":\"\",\"&hfr;\":\"\",\"&hksearow;\":\"\",\"&hkswarow;\":\"\",\"&hoarr;\":\"\",\"&homtht;\":\"\",\"&hookleftarrow;\":\"\",\"&hookrightarrow;\":\"\",\"&hopf;\":\"\",\"&horbar;\":\"\",\"&hscr;\":\"\",\"&hslash;\":\"\",\"&hstrok;\":\"\",\"&hybull;\":\"\",\"&hyphen;\":\"\",\"&iacute\":\"\",\"&iacute;\":\"\",\"&ic;\":\"\",\"&icirc\":\"\",\"&icirc;\":\"\",\"&icy;\":\"\",\"&iecy;\":\"\",\"&iexcl\":\"\",\"&iexcl;\":\"\",\"&iff;\":\"\",\"&ifr;\":\"\",\"&igrave\":\"\",\"&igrave;\":\"\",\"&ii;\":\"\",\"&iiiint;\":\"\",\"&iiint;\":\"\",\"&iinfin;\":\"\",\"&iiota;\":\"\",\"&ijlig;\":\"\",\"&imacr;\":\"\",\"&image;\":\"\",\"&imagline;\":\"\",\"&imagpart;\":\"\",\"&imath;\":\"\",\"&imof;\":\"\",\"&imped;\":\"\",\"&in;\":\"\",\"&incare;\":\"\",\"&infin;\":\"\",\"&infintie;\":\"\",\"&inodot;\":\"\",\"&int;\":\"\",\"&intcal;\":\"\",\"&integers;\":\"\",\"&intercal;\":\"\",\"&intlarhk;\":\"\",\"&intprod;\":\"\",\"&iocy;\":\"\",\"&iogon;\":\"\",\"&iopf;\":\"\",\"&iota;\":\"\",\"&iprod;\":\"\",\"&iquest\":\"\",\"&iquest;\":\"\",\"&iscr;\":\"\",\"&isin;\":\"\",\"&isinE;\":\"\",\"&isindot;\":\"\",\"&isins;\":\"\",\"&isinsv;\":\"\",\"&isinv;\":\"\",\"&it;\":\"\",\"&itilde;\":\"\",\"&iukcy;\":\"\",\"&iuml\":\"\",\"&iuml;\":\"\",\"&jcirc;\":\"\",\"&jcy;\":\"\",\"&jfr;\":\"\",\"&jmath;\":\"\",\"&jopf;\":\"\",\"&jscr;\":\"\",\"&jsercy;\":\"\",\"&jukcy;\":\"\",\"&kappa;\":\"\",\"&kappav;\":\"\",\"&kcedil;\":\"\",\"&kcy;\":\"\",\"&kfr;\":\"\",\"&kgreen;\":\"\",\"&khcy;\":\"\",\"&kjcy;\":\"\",\"&kopf;\":\"\",\"&kscr;\":\"\",\"&lAarr;\":\"\",\"&lArr;\":\"\",\"&lAtail;\":\"\",\"&lBarr;\":\"\",\"&lE;\":\"\",\"&lEg;\":\"\",\"&lHar;\":\"\",\"&lacute;\":\"\",\"&laemptyv;\":\"\",\"&lagran;\":\"\",\"&lambda;\":\"\",\"&lang;\":\"\",\"&langd;\":\"\",\"&langle;\":\"\",\"&lap;\":\"\",\"&laquo\":\"\",\"&laquo;\":\"\",\"&larr;\":\"\",\"&larrb;\":\"\",\"&larrbfs;\":\"\",\"&larrfs;\":\"\",\"&larrhk;\":\"\",\"&larrlp;\":\"\",\"&larrpl;\":\"\",\"&larrsim;\":\"\",\"&larrtl;\":\"\",\"&lat;\":\"\",\"&latail;\":\"\",\"&late;\":\"\",\"&lates;\":\"\",\"&lbarr;\":\"\",\"&lbbrk;\":\"\",\"&lbrace;\":\"{\",\"&lbrack;\":\"[\",\"&lbrke;\":\"\",\"&lbrksld;\":\"\",\"&lbrkslu;\":\"\",\"&lcaron;\":\"\",\"&lcedil;\":\"\",\"&lceil;\":\"\",\"&lcub;\":\"{\",\"&lcy;\":\"\",\"&ldca;\":\"\",\"&ldquo;\":\"\",\"&ldquor;\":\"\",\"&ldrdhar;\":\"\",\"&ldrushar;\":\"\",\"&ldsh;\":\"\",\"&le;\":\"\",\"&leftarrow;\":\"\",\"&leftarrowtail;\":\"\",\"&leftharpoondown;\":\"\",\"&leftharpoonup;\":\"\",\"&leftleftarrows;\":\"\",\"&leftrightarrow;\":\"\",\"&leftrightarrows;\":\"\",\"&leftrightharpoons;\":\"\",\"&leftrightsquigarrow;\":\"\",\"&leftthreetimes;\":\"\",\"&leg;\":\"\",\"&leq;\":\"\",\"&leqq;\":\"\",\"&leqslant;\":\"\",\"&les;\":\"\",\"&lescc;\":\"\",\"&lesdot;\":\"\",\"&lesdoto;\":\"\",\"&lesdotor;\":\"\",\"&lesg;\":\"\",\"&lesges;\":\"\",\"&lessapprox;\":\"\",\"&lessdot;\":\"\",\"&lesseqgtr;\":\"\",\"&lesseqqgtr;\":\"\",\"&lessgtr;\":\"\",\"&lesssim;\":\"\",\"&lfisht;\":\"\",\"&lfloor;\":\"\",\"&lfr;\":\"\",\"&lg;\":\"\",\"&lgE;\":\"\",\"&lhard;\":\"\",\"&lharu;\":\"\",\"&lharul;\":\"\",\"&lhblk;\":\"\",\"&ljcy;\":\"\",\"&ll;\":\"\",\"&llarr;\":\"\",\"&llcorner;\":\"\",\"&llhard;\":\"\",\"&lltri;\":\"\",\"&lmidot;\":\"\",\"&lmoust;\":\"\",\"&lmoustache;\":\"\",\"&lnE;\":\"\",\"&lnap;\":\"\",\"&lnapprox;\":\"\",\"&lne;\":\"\",\"&lneq;\":\"\",\"&lneqq;\":\"\",\"&lnsim;\":\"\",\"&loang;\":\"\",\"&loarr;\":\"\",\"&lobrk;\":\"\",\"&longleftarrow;\":\"\",\"&longleftrightarrow;\":\"\",\"&longmapsto;\":\"\",\"&longrightarrow;\":\"\",\"&looparrowleft;\":\"\",\"&looparrowright;\":\"\",\"&lopar;\":\"\",\"&lopf;\":\"\",\"&loplus;\":\"\",\"&lotimes;\":\"\",\"&lowast;\":\"\",\"&lowbar;\":\"_\",\"&loz;\":\"\",\"&lozenge;\":\"\",\"&lozf;\":\"\",\"&lpar;\":\"(\",\"&lparlt;\":\"\",\"&lrarr;\":\"\",\"&lrcorner;\":\"\",\"&lrhar;\":\"\",\"&lrhard;\":\"\",\"&lrm;\":\"\",\"&lrtri;\":\"\",\"&lsaquo;\":\"\",\"&lscr;\":\"\",\"&lsh;\":\"\",\"&lsim;\":\"\",\"&lsime;\":\"\",\"&lsimg;\":\"\",\"&lsqb;\":\"[\",\"&lsquo;\":\"\",\"&lsquor;\":\"\",\"&lstrok;\":\"\",\"&lt\":\"<\",\"&lt;\":\"<\",\"&ltcc;\":\"\",\"&ltcir;\":\"\",\"&ltdot;\":\"\",\"&lthree;\":\"\",\"&ltimes;\":\"\",\"&ltlarr;\":\"\",\"&ltquest;\":\"\",\"&ltrPar;\":\"\",\"&ltri;\":\"\",\"&ltrie;\":\"\",\"&ltrif;\":\"\",\"&lurdshar;\":\"\",\"&luruhar;\":\"\",\"&lvertneqq;\":\"\",\"&lvnE;\":\"\",\"&mDDot;\":\"\",\"&macr\":\"\",\"&macr;\":\"\",\"&male;\":\"\",\"&malt;\":\"\",\"&maltese;\":\"\",\"&map;\":\"\",\"&mapsto;\":\"\",\"&mapstodown;\":\"\",\"&mapstoleft;\":\"\",\"&mapstoup;\":\"\",\"&marker;\":\"\",\"&mcomma;\":\"\",\"&mcy;\":\"\",\"&mdash;\":\"\",\"&measuredangle;\":\"\",\"&mfr;\":\"\",\"&mho;\":\"\",\"&micro\":\"\",\"&micro;\":\"\",\"&mid;\":\"\",\"&midast;\":\"*\",\"&midcir;\":\"\",\"&middot\":\"\",\"&middot;\":\"\",\"&minus;\":\"\",\"&minusb;\":\"\",\"&minusd;\":\"\",\"&minusdu;\":\"\",\"&mlcp;\":\"\",\"&mldr;\":\"\",\"&mnplus;\":\"\",\"&models;\":\"\",\"&mopf;\":\"\",\"&mp;\":\"\",\"&mscr;\":\"\",\"&mstpos;\":\"\",\"&mu;\":\"\",\"&multimap;\":\"\",\"&mumap;\":\"\",\"&nGg;\":\"\",\"&nGt;\":\"\",\"&nGtv;\":\"\",\"&nLeftarrow;\":\"\",\"&nLeftrightarrow;\":\"\",\"&nLl;\":\"\",\"&nLt;\":\"\",\"&nLtv;\":\"\",\"&nRightarrow;\":\"\",\"&nVDash;\":\"\",\"&nVdash;\":\"\",\"&nabla;\":\"\",\"&nacute;\":\"\",\"&nang;\":\"\",\"&nap;\":\"\",\"&napE;\":\"\",\"&napid;\":\"\",\"&napos;\":\"\",\"&napprox;\":\"\",\"&natur;\":\"\",\"&natural;\":\"\",\"&naturals;\":\"\",\"&nbsp\":\"\",\"&nbsp;\":\"\",\"&nbump;\":\"\",\"&nbumpe;\":\"\",\"&ncap;\":\"\",\"&ncaron;\":\"\",\"&ncedil;\":\"\",\"&ncong;\":\"\",\"&ncongdot;\":\"\",\"&ncup;\":\"\",\"&ncy;\":\"\",\"&ndash;\":\"\",\"&ne;\":\"\",\"&neArr;\":\"\",\"&nearhk;\":\"\",\"&nearr;\":\"\",\"&nearrow;\":\"\",\"&nedot;\":\"\",\"&nequiv;\":\"\",\"&nesear;\":\"\",\"&nesim;\":\"\",\"&nexist;\":\"\",\"&nexists;\":\"\",\"&nfr;\":\"\",\"&ngE;\":\"\",\"&nge;\":\"\",\"&ngeq;\":\"\",\"&ngeqq;\":\"\",\"&ngeqslant;\":\"\",\"&nges;\":\"\",\"&ngsim;\":\"\",\"&ngt;\":\"\",\"&ngtr;\":\"\",\"&nhArr;\":\"\",\"&nharr;\":\"\",\"&nhpar;\":\"\",\"&ni;\":\"\",\"&nis;\":\"\",\"&nisd;\":\"\",\"&niv;\":\"\",\"&njcy;\":\"\",\"&nlArr;\":\"\",\"&nlE;\":\"\",\"&nlarr;\":\"\",\"&nldr;\":\"\",\"&nle;\":\"\",\"&nleftarrow;\":\"\",\"&nleftrightarrow;\":\"\",\"&nleq;\":\"\",\"&nleqq;\":\"\",\"&nleqslant;\":\"\",\"&nles;\":\"\",\"&nless;\":\"\",\"&nlsim;\":\"\",\"&nlt;\":\"\",\"&nltri;\":\"\",\"&nltrie;\":\"\",\"&nmid;\":\"\",\"&nopf;\":\"\",\"&not\":\"\",\"&not;\":\"\",\"&notin;\":\"\",\"&notinE;\":\"\",\"&notindot;\":\"\",\"&notinva;\":\"\",\"&notinvb;\":\"\",\"&notinvc;\":\"\",\"&notni;\":\"\",\"&notniva;\":\"\",\"&notnivb;\":\"\",\"&notnivc;\":\"\",\"&npar;\":\"\",\"&nparallel;\":\"\",\"&nparsl;\":\"\",\"&npart;\":\"\",\"&npolint;\":\"\",\"&npr;\":\"\",\"&nprcue;\":\"\",\"&npre;\":\"\",\"&nprec;\":\"\",\"&npreceq;\":\"\",\"&nrArr;\":\"\",\"&nrarr;\":\"\",\"&nrarrc;\":\"\",\"&nrarrw;\":\"\",\"&nrightarrow;\":\"\",\"&nrtri;\":\"\",\"&nrtrie;\":\"\",\"&nsc;\":\"\",\"&nsccue;\":\"\",\"&nsce;\":\"\",\"&nscr;\":\"\",\"&nshortmid;\":\"\",\"&nshortparallel;\":\"\",\"&nsim;\":\"\",\"&nsime;\":\"\",\"&nsimeq;\":\"\",\"&nsmid;\":\"\",\"&nspar;\":\"\",\"&nsqsube;\":\"\",\"&nsqsupe;\":\"\",\"&nsub;\":\"\",\"&nsubE;\":\"\",\"&nsube;\":\"\",\"&nsubset;\":\"\",\"&nsubseteq;\":\"\",\"&nsubseteqq;\":\"\",\"&nsucc;\":\"\",\"&nsucceq;\":\"\",\"&nsup;\":\"\",\"&nsupE;\":\"\",\"&nsupe;\":\"\",\"&nsupset;\":\"\",\"&nsupseteq;\":\"\",\"&nsupseteqq;\":\"\",\"&ntgl;\":\"\",\"&ntilde\":\"\",\"&ntilde;\":\"\",\"&ntlg;\":\"\",\"&ntriangleleft;\":\"\",\"&ntrianglelefteq;\":\"\",\"&ntriangleright;\":\"\",\"&ntrianglerighteq;\":\"\",\"&nu;\":\"\",\"&num;\":\"#\",\"&numero;\":\"\",\"&numsp;\":\"\",\"&nvDash;\":\"\",\"&nvHarr;\":\"\",\"&nvap;\":\"\",\"&nvdash;\":\"\",\"&nvge;\":\"\",\"&nvgt;\":\">\",\"&nvinfin;\":\"\",\"&nvlArr;\":\"\",\"&nvle;\":\"\",\"&nvlt;\":\"<\",\"&nvltrie;\":\"\",\"&nvrArr;\":\"\",\"&nvrtrie;\":\"\",\"&nvsim;\":\"\",\"&nwArr;\":\"\",\"&nwarhk;\":\"\",\"&nwarr;\":\"\",\"&nwarrow;\":\"\",\"&nwnear;\":\"\",\"&oS;\":\"\",\"&oacute\":\"\",\"&oacute;\":\"\",\"&oast;\":\"\",\"&ocir;\":\"\",\"&ocirc\":\"\",\"&ocirc;\":\"\",\"&ocy;\":\"\",\"&odash;\":\"\",\"&odblac;\":\"\",\"&odiv;\":\"\",\"&odot;\":\"\",\"&odsold;\":\"\",\"&oelig;\":\"\",\"&ofcir;\":\"\",\"&ofr;\":\"\",\"&ogon;\":\"\",\"&ograve\":\"\",\"&ograve;\":\"\",\"&ogt;\":\"\",\"&ohbar;\":\"\",\"&ohm;\":\"\",\"&oint;\":\"\",\"&olarr;\":\"\",\"&olcir;\":\"\",\"&olcross;\":\"\",\"&oline;\":\"\",\"&olt;\":\"\",\"&omacr;\":\"\",\"&omega;\":\"\",\"&omicron;\":\"\",\"&omid;\":\"\",\"&ominus;\":\"\",\"&oopf;\":\"\",\"&opar;\":\"\",\"&operp;\":\"\",\"&oplus;\":\"\",\"&or;\":\"\",\"&orarr;\":\"\",\"&ord;\":\"\",\"&order;\":\"\",\"&orderof;\":\"\",\"&ordf\":\"\",\"&ordf;\":\"\",\"&ordm\":\"\",\"&ordm;\":\"\",\"&origof;\":\"\",\"&oror;\":\"\",\"&orslope;\":\"\",\"&orv;\":\"\",\"&oscr;\":\"\",\"&oslash\":\"\",\"&oslash;\":\"\",\"&osol;\":\"\",\"&otilde\":\"\",\"&otilde;\":\"\",\"&otimes;\":\"\",\"&otimesas;\":\"\",\"&ouml\":\"\",\"&ouml;\":\"\",\"&ovbar;\":\"\",\"&par;\":\"\",\"&para\":\"\",\"&para;\":\"\",\"&parallel;\":\"\",\"&parsim;\":\"\",\"&parsl;\":\"\",\"&part;\":\"\",\"&pcy;\":\"\",\"&percnt;\":\"%\",\"&period;\":\".\",\"&permil;\":\"\",\"&perp;\":\"\",\"&pertenk;\":\"\",\"&pfr;\":\"\",\"&phi;\":\"\",\"&phiv;\":\"\",\"&phmmat;\":\"\",\"&phone;\":\"\",\"&pi;\":\"\",\"&pitchfork;\":\"\",\"&piv;\":\"\",\"&planck;\":\"\",\"&planckh;\":\"\",\"&plankv;\":\"\",\"&plus;\":\"+\",\"&plusacir;\":\"\",\"&plusb;\":\"\",\"&pluscir;\":\"\",\"&plusdo;\":\"\",\"&plusdu;\":\"\",\"&pluse;\":\"\",\"&plusmn\":\"\",\"&plusmn;\":\"\",\"&plussim;\":\"\",\"&plustwo;\":\"\",\"&pm;\":\"\",\"&pointint;\":\"\",\"&popf;\":\"\",\"&pound\":\"\",\"&pound;\":\"\",\"&pr;\":\"\",\"&prE;\":\"\",\"&prap;\":\"\",\"&prcue;\":\"\",\"&pre;\":\"\",\"&prec;\":\"\",\"&precapprox;\":\"\",\"&preccurlyeq;\":\"\",\"&preceq;\":\"\",\"&precnapprox;\":\"\",\"&precneqq;\":\"\",\"&precnsim;\":\"\",\"&precsim;\":\"\",\"&prime;\":\"\",\"&primes;\":\"\",\"&prnE;\":\"\",\"&prnap;\":\"\",\"&prnsim;\":\"\",\"&prod;\":\"\",\"&profalar;\":\"\",\"&profline;\":\"\",\"&profsurf;\":\"\",\"&prop;\":\"\",\"&propto;\":\"\",\"&prsim;\":\"\",\"&prurel;\":\"\",\"&pscr;\":\"\",\"&psi;\":\"\",\"&puncsp;\":\"\",\"&qfr;\":\"\",\"&qint;\":\"\",\"&qopf;\":\"\",\"&qprime;\":\"\",\"&qscr;\":\"\",\"&quaternions;\":\"\",\"&quatint;\":\"\",\"&quest;\":\"?\",\"&questeq;\":\"\",\"&quot\":'\"',\"&quot;\":'\"',\"&rAarr;\":\"\",\"&rArr;\":\"\",\"&rAtail;\":\"\",\"&rBarr;\":\"\",\"&rHar;\":\"\",\"&race;\":\"\",\"&racute;\":\"\",\"&radic;\":\"\",\"&raemptyv;\":\"\",\"&rang;\":\"\",\"&rangd;\":\"\",\"&range;\":\"\",\"&rangle;\":\"\",\"&raquo\":\"\",\"&raquo;\":\"\",\"&rarr;\":\"\",\"&rarrap;\":\"\",\"&rarrb;\":\"\",\"&rarrbfs;\":\"\",\"&rarrc;\":\"\",\"&rarrfs;\":\"\",\"&rarrhk;\":\"\",\"&rarrlp;\":\"\",\"&rarrpl;\":\"\",\"&rarrsim;\":\"\",\"&rarrtl;\":\"\",\"&rarrw;\":\"\",\"&ratail;\":\"\",\"&ratio;\":\"\",\"&rationals;\":\"\",\"&rbarr;\":\"\",\"&rbbrk;\":\"\",\"&rbrace;\":\"}\",\"&rbrack;\":\"]\",\"&rbrke;\":\"\",\"&rbrksld;\":\"\",\"&rbrkslu;\":\"\",\"&rcaron;\":\"\",\"&rcedil;\":\"\",\"&rceil;\":\"\",\"&rcub;\":\"}\",\"&rcy;\":\"\",\"&rdca;\":\"\",\"&rdldhar;\":\"\",\"&rdquo;\":\"\",\"&rdquor;\":\"\",\"&rdsh;\":\"\",\"&real;\":\"\",\"&realine;\":\"\",\"&realpart;\":\"\",\"&reals;\":\"\",\"&rect;\":\"\",\"&reg\":\"\",\"&reg;\":\"\",\"&rfisht;\":\"\",\"&rfloor;\":\"\",\"&rfr;\":\"\",\"&rhard;\":\"\",\"&rharu;\":\"\",\"&rharul;\":\"\",\"&rho;\":\"\",\"&rhov;\":\"\",\"&rightarrow;\":\"\",\"&rightarrowtail;\":\"\",\"&rightharpoondown;\":\"\",\"&rightharpoonup;\":\"\",\"&rightleftarrows;\":\"\",\"&rightleftharpoons;\":\"\",\"&rightrightarrows;\":\"\",\"&rightsquigarrow;\":\"\",\"&rightthreetimes;\":\"\",\"&ring;\":\"\",\"&risingdotseq;\":\"\",\"&rlarr;\":\"\",\"&rlhar;\":\"\",\"&rlm;\":\"\",\"&rmoust;\":\"\",\"&rmoustache;\":\"\",\"&rnmid;\":\"\",\"&roang;\":\"\",\"&roarr;\":\"\",\"&robrk;\":\"\",\"&ropar;\":\"\",\"&ropf;\":\"\",\"&roplus;\":\"\",\"&rotimes;\":\"\",\"&rpar;\":\")\",\"&rpargt;\":\"\",\"&rppolint;\":\"\",\"&rrarr;\":\"\",\"&rsaquo;\":\"\",\"&rscr;\":\"\",\"&rsh;\":\"\",\"&rsqb;\":\"]\",\"&rsquo;\":\"\",\"&rsquor;\":\"\",\"&rthree;\":\"\",\"&rtimes;\":\"\",\"&rtri;\":\"\",\"&rtrie;\":\"\",\"&rtrif;\":\"\",\"&rtriltri;\":\"\",\"&ruluhar;\":\"\",\"&rx;\":\"\",\"&sacute;\":\"\",\"&sbquo;\":\"\",\"&sc;\":\"\",\"&scE;\":\"\",\"&scap;\":\"\",\"&scaron;\":\"\",\"&sccue;\":\"\",\"&sce;\":\"\",\"&scedil;\":\"\",\"&scirc;\":\"\",\"&scnE;\":\"\",\"&scnap;\":\"\",\"&scnsim;\":\"\",\"&scpolint;\":\"\",\"&scsim;\":\"\",\"&scy;\":\"\",\"&sdot;\":\"\",\"&sdotb;\":\"\",\"&sdote;\":\"\",\"&seArr;\":\"\",\"&searhk;\":\"\",\"&searr;\":\"\",\"&searrow;\":\"\",\"&sect\":\"\",\"&sect;\":\"\",\"&semi;\":\";\",\"&seswar;\":\"\",\"&setminus;\":\"\",\"&setmn;\":\"\",\"&sext;\":\"\",\"&sfr;\":\"\",\"&sfrown;\":\"\",\"&sharp;\":\"\",\"&shchcy;\":\"\",\"&shcy;\":\"\",\"&shortmid;\":\"\",\"&shortparallel;\":\"\",\"&shy\":\"\",\"&shy;\":\"\",\"&sigma;\":\"\",\"&sigmaf;\":\"\",\"&sigmav;\":\"\",\"&sim;\":\"\",\"&simdot;\":\"\",\"&sime;\":\"\",\"&simeq;\":\"\",\"&simg;\":\"\",\"&simgE;\":\"\",\"&siml;\":\"\",\"&simlE;\":\"\",\"&simne;\":\"\",\"&simplus;\":\"\",\"&simrarr;\":\"\",\"&slarr;\":\"\",\"&smallsetminus;\":\"\",\"&smashp;\":\"\",\"&smeparsl;\":\"\",\"&smid;\":\"\",\"&smile;\":\"\",\"&smt;\":\"\",\"&smte;\":\"\",\"&smtes;\":\"\",\"&softcy;\":\"\",\"&sol;\":\"/\",\"&solb;\":\"\",\"&solbar;\":\"\",\"&sopf;\":\"\",\"&spades;\":\"\",\"&spadesuit;\":\"\",\"&spar;\":\"\",\"&sqcap;\":\"\",\"&sqcaps;\":\"\",\"&sqcup;\":\"\",\"&sqcups;\":\"\",\"&sqsub;\":\"\",\"&sqsube;\":\"\",\"&sqsubset;\":\"\",\"&sqsubseteq;\":\"\",\"&sqsup;\":\"\",\"&sqsupe;\":\"\",\"&sqsupset;\":\"\",\"&sqsupseteq;\":\"\",\"&squ;\":\"\",\"&square;\":\"\",\"&squarf;\":\"\",\"&squf;\":\"\",\"&srarr;\":\"\",\"&sscr;\":\"\",\"&ssetmn;\":\"\",\"&ssmile;\":\"\",\"&sstarf;\":\"\",\"&star;\":\"\",\"&starf;\":\"\",\"&straightepsilon;\":\"\",\"&straightphi;\":\"\",\"&strns;\":\"\",\"&sub;\":\"\",\"&subE;\":\"\",\"&subdot;\":\"\",\"&sube;\":\"\",\"&subedot;\":\"\",\"&submult;\":\"\",\"&subnE;\":\"\",\"&subne;\":\"\",\"&subplus;\":\"\",\"&subrarr;\":\"\",\"&subset;\":\"\",\"&subseteq;\":\"\",\"&subseteqq;\":\"\",\"&subsetneq;\":\"\",\"&subsetneqq;\":\"\",\"&subsim;\":\"\",\"&subsub;\":\"\",\"&subsup;\":\"\",\"&succ;\":\"\",\"&succapprox;\":\"\",\"&succcurlyeq;\":\"\",\"&succeq;\":\"\",\"&succnapprox;\":\"\",\"&succneqq;\":\"\",\"&succnsim;\":\"\",\"&succsim;\":\"\",\"&sum;\":\"\",\"&sung;\":\"\",\"&sup1\":\"\",\"&sup1;\":\"\",\"&sup2\":\"\",\"&sup2;\":\"\",\"&sup3\":\"\",\"&sup3;\":\"\",\"&sup;\":\"\",\"&supE;\":\"\",\"&supdot;\":\"\",\"&supdsub;\":\"\",\"&supe;\":\"\",\"&supedot;\":\"\",\"&suphsol;\":\"\",\"&suphsub;\":\"\",\"&suplarr;\":\"\",\"&supmult;\":\"\",\"&supnE;\":\"\",\"&supne;\":\"\",\"&supplus;\":\"\",\"&supset;\":\"\",\"&supseteq;\":\"\",\"&supseteqq;\":\"\",\"&supsetneq;\":\"\",\"&supsetneqq;\":\"\",\"&supsim;\":\"\",\"&supsub;\":\"\",\"&supsup;\":\"\",\"&swArr;\":\"\",\"&swarhk;\":\"\",\"&swarr;\":\"\",\"&swarrow;\":\"\",\"&swnwar;\":\"\",\"&szlig\":\"\",\"&szlig;\":\"\",\"&target;\":\"\",\"&tau;\":\"\",\"&tbrk;\":\"\",\"&tcaron;\":\"\",\"&tcedil;\":\"\",\"&tcy;\":\"\",\"&tdot;\":\"\",\"&telrec;\":\"\",\"&tfr;\":\"\",\"&there4;\":\"\",\"&therefore;\":\"\",\"&theta;\":\"\",\"&thetasym;\":\"\",\"&thetav;\":\"\",\"&thickapprox;\":\"\",\"&thicksim;\":\"\",\"&thinsp;\":\"\",\"&thkap;\":\"\",\"&thksim;\":\"\",\"&thorn\":\"\",\"&thorn;\":\"\",\"&tilde;\":\"\",\"&times\":\"\",\"&times;\":\"\",\"&timesb;\":\"\",\"&timesbar;\":\"\",\"&timesd;\":\"\",\"&tint;\":\"\",\"&toea;\":\"\",\"&top;\":\"\",\"&topbot;\":\"\",\"&topcir;\":\"\",\"&topf;\":\"\",\"&topfork;\":\"\",\"&tosa;\":\"\",\"&tprime;\":\"\",\"&trade;\":\"\",\"&triangle;\":\"\",\"&triangledown;\":\"\",\"&triangleleft;\":\"\",\"&trianglelefteq;\":\"\",\"&triangleq;\":\"\",\"&triangleright;\":\"\",\"&trianglerighteq;\":\"\",\"&tridot;\":\"\",\"&trie;\":\"\",\"&triminus;\":\"\",\"&triplus;\":\"\",\"&trisb;\":\"\",\"&tritime;\":\"\",\"&trpezium;\":\"\",\"&tscr;\":\"\",\"&tscy;\":\"\",\"&tshcy;\":\"\",\"&tstrok;\":\"\",\"&twixt;\":\"\",\"&twoheadleftarrow;\":\"\",\"&twoheadrightarrow;\":\"\",\"&uArr;\":\"\",\"&uHar;\":\"\",\"&uacute\":\"\",\"&uacute;\":\"\",\"&uarr;\":\"\",\"&ubrcy;\":\"\",\"&ubreve;\":\"\",\"&ucirc\":\"\",\"&ucirc;\":\"\",\"&ucy;\":\"\",\"&udarr;\":\"\",\"&udblac;\":\"\",\"&udhar;\":\"\",\"&ufisht;\":\"\",\"&ufr;\":\"\",\"&ugrave\":\"\",\"&ugrave;\":\"\",\"&uharl;\":\"\",\"&uharr;\":\"\",\"&uhblk;\":\"\",\"&ulcorn;\":\"\",\"&ulcorner;\":\"\",\"&ulcrop;\":\"\",\"&ultri;\":\"\",\"&umacr;\":\"\",\"&uml\":\"\",\"&uml;\":\"\",\"&uogon;\":\"\",\"&uopf;\":\"\",\"&uparrow;\":\"\",\"&updownarrow;\":\"\",\"&upharpoonleft;\":\"\",\"&upharpoonright;\":\"\",\"&uplus;\":\"\",\"&upsi;\":\"\",\"&upsih;\":\"\",\"&upsilon;\":\"\",\"&upuparrows;\":\"\",\"&urcorn;\":\"\",\"&urcorner;\":\"\",\"&urcrop;\":\"\",\"&uring;\":\"\",\"&urtri;\":\"\",\"&uscr;\":\"\",\"&utdot;\":\"\",\"&utilde;\":\"\",\"&utri;\":\"\",\"&utrif;\":\"\",\"&uuarr;\":\"\",\"&uuml\":\"\",\"&uuml;\":\"\",\"&uwangle;\":\"\",\"&vArr;\":\"\",\"&vBar;\":\"\",\"&vBarv;\":\"\",\"&vDash;\":\"\",\"&vangrt;\":\"\",\"&varepsilon;\":\"\",\"&varkappa;\":\"\",\"&varnothing;\":\"\",\"&varphi;\":\"\",\"&varpi;\":\"\",\"&varpropto;\":\"\",\"&varr;\":\"\",\"&varrho;\":\"\",\"&varsigma;\":\"\",\"&varsubsetneq;\":\"\",\"&varsubsetneqq;\":\"\",\"&varsupsetneq;\":\"\",\"&varsupsetneqq;\":\"\",\"&vartheta;\":\"\",\"&vartriangleleft;\":\"\",\"&vartriangleright;\":\"\",\"&vcy;\":\"\",\"&vdash;\":\"\",\"&vee;\":\"\",\"&veebar;\":\"\",\"&veeeq;\":\"\",\"&vellip;\":\"\",\"&verbar;\":\"|\",\"&vert;\":\"|\",\"&vfr;\":\"\",\"&vltri;\":\"\",\"&vnsub;\":\"\",\"&vnsup;\":\"\",\"&vopf;\":\"\",\"&vprop;\":\"\",\"&vrtri;\":\"\",\"&vscr;\":\"\",\"&vsubnE;\":\"\",\"&vsubne;\":\"\",\"&vsupnE;\":\"\",\"&vsupne;\":\"\",\"&vzigzag;\":\"\",\"&wcirc;\":\"\",\"&wedbar;\":\"\",\"&wedge;\":\"\",\"&wedgeq;\":\"\",\"&weierp;\":\"\",\"&wfr;\":\"\",\"&wopf;\":\"\",\"&wp;\":\"\",\"&wr;\":\"\",\"&wreath;\":\"\",\"&wscr;\":\"\",\"&xcap;\":\"\",\"&xcirc;\":\"\",\"&xcup;\":\"\",\"&xdtri;\":\"\",\"&xfr;\":\"\",\"&xhArr;\":\"\",\"&xharr;\":\"\",\"&xi;\":\"\",\"&xlArr;\":\"\",\"&xlarr;\":\"\",\"&xmap;\":\"\",\"&xnis;\":\"\",\"&xodot;\":\"\",\"&xopf;\":\"\",\"&xoplus;\":\"\",\"&xotime;\":\"\",\"&xrArr;\":\"\",\"&xrarr;\":\"\",\"&xscr;\":\"\",\"&xsqcup;\":\"\",\"&xuplus;\":\"\",\"&xutri;\":\"\",\"&xvee;\":\"\",\"&xwedge;\":\"\",\"&yacute\":\"\",\"&yacute;\":\"\",\"&yacy;\":\"\",\"&ycirc;\":\"\",\"&ycy;\":\"\",\"&yen\":\"\",\"&yen;\":\"\",\"&yfr;\":\"\",\"&yicy;\":\"\",\"&yopf;\":\"\",\"&yscr;\":\"\",\"&yucy;\":\"\",\"&yuml\":\"\",\"&yuml;\":\"\",\"&zacute;\":\"\",\"&zcaron;\":\"\",\"&zcy;\":\"\",\"&zdot;\":\"\",\"&zeetrf;\":\"\",\"&zeta;\":\"\",\"&zfr;\":\"\",\"&zhcy;\":\"\",\"&zigrarr;\":\"\",\"&zopf;\":\"\",\"&zscr;\":\"\",\"&zwj;\":\"\",\"&zwnj;\":\"\"},characters:{\"\":\"&AElig;\",\"&\":\"&amp;\",\"\":\"&Aacute;\",\"\":\"&Abreve;\",\"\":\"&Acirc;\",\"\":\"&Acy;\",\"\":\"&Afr;\",\"\":\"&Agrave;\",\"\":\"&Alpha;\",\"\":\"&Amacr;\",\"\":\"&And;\",\"\":\"&Aogon;\",\"\":\"&Aopf;\",\"\":\"&af;\",\"\":\"&angst;\",\"\":\"&Ascr;\",\"\":\"&coloneq;\",\"\":\"&Atilde;\",\"\":\"&Auml;\",\"\":\"&ssetmn;\",\"\":\"&Barv;\",\"\":\"&doublebarwedge;\",\"\":\"&Bcy;\",\"\":\"&because;\",\"\":\"&bernou;\",\"\":\"&Beta;\",\"\":\"&Bfr;\",\"\":\"&Bopf;\",\"\":\"&breve;\",\"\":\"&bump;\",\"\":\"&CHcy;\",\"\":\"&copy;\",\"\":\"&Cacute;\",\"\":\"&Cap;\",\"\":\"&DD;\",\"\":\"&Cfr;\",\"\":\"&Ccaron;\",\"\":\"&Ccedil;\",\"\":\"&Ccirc;\",\"\":\"&Cconint;\",\"\":\"&Cdot;\",\"\":\"&cedil;\",\"\":\"&middot;\",\"\":\"&Chi;\",\"\":\"&odot;\",\"\":\"&ominus;\",\"\":\"&oplus;\",\"\":\"&otimes;\",\"\":\"&cwconint;\",\"\":\"&rdquor;\",\"\":\"&rsquor;\",\"\":\"&Proportion;\",\"\":\"&Colone;\",\"\":\"&equiv;\",\"\":\"&DoubleContourIntegral;\",\"\":\"&oint;\",\"\":\"&complexes;\",\"\":\"&coprod;\",\"\":\"&awconint;\",\"\":\"&Cross;\",\"\":\"&Cscr;\",\"\":\"&Cup;\",\"\":\"&asympeq;\",\"\":\"&DDotrahd;\",\"\":\"&DJcy;\",\"\":\"&DScy;\",\"\":\"&DZcy;\",\"\":\"&ddagger;\",\"\":\"&Darr;\",\"\":\"&DoubleLeftTee;\",\"\":\"&Dcaron;\",\"\":\"&Dcy;\",\"\":\"&nabla;\",\"\":\"&Delta;\",\"\":\"&Dfr;\",\"\":\"&acute;\",\"\":\"&dot;\",\"\":\"&dblac;\",\"`\":\"&grave;\",\"\":\"&tilde;\",\"\":\"&diamond;\",\"\":\"&dd;\",\"\":\"&Dopf;\",\"\":\"&uml;\",\"\":\"&DotDot;\",\"\":\"&esdot;\",\"\":\"&dArr;\",\"\":\"&lArr;\",\"\":\"&iff;\",\"\":\"&xlArr;\",\"\":\"&xhArr;\",\"\":\"&xrArr;\",\"\":\"&rArr;\",\"\":\"&vDash;\",\"\":\"&uArr;\",\"\":\"&vArr;\",\"\":\"&spar;\",\"\":\"&downarrow;\",\"\":\"&DownArrowBar;\",\"\":\"&duarr;\",\"\":\"&DownBreve;\",\"\":\"&DownLeftRightVector;\",\"\":\"&DownLeftTeeVector;\",\"\":\"&lhard;\",\"\":\"&DownLeftVectorBar;\",\"\":\"&DownRightTeeVector;\",\"\":\"&rightharpoondown;\",\"\":\"&DownRightVectorBar;\",\"\":\"&top;\",\"\":\"&mapstodown;\",\"\":\"&Dscr;\",\"\":\"&Dstrok;\",\"\":\"&ENG;\",\"\":\"&ETH;\",\"\":\"&Eacute;\",\"\":\"&Ecaron;\",\"\":\"&Ecirc;\",\"\":\"&Ecy;\",\"\":\"&Edot;\",\"\":\"&Efr;\",\"\":\"&Egrave;\",\"\":\"&isinv;\",\"\":\"&Emacr;\",\"\":\"&EmptySmallSquare;\",\"\":\"&EmptyVerySmallSquare;\",\"\":\"&Eogon;\",\"\":\"&Eopf;\",\"\":\"&Epsilon;\",\"\":\"&Equal;\",\"\":\"&esim;\",\"\":\"&rlhar;\",\"\":\"&expectation;\",\"\":\"&Esim;\",\"\":\"&Eta;\",\"\":\"&Euml;\",\"\":\"&exist;\",\"\":\"&exponentiale;\",\"\":\"&Fcy;\",\"\":\"&Ffr;\",\"\":\"&FilledSmallSquare;\",\"\":\"&squf;\",\"\":\"&Fopf;\",\"\":\"&forall;\",\"\":\"&Fscr;\",\"\":\"&GJcy;\",\">\":\"&gt;\",\"\":\"&Gamma;\",\"\":\"&Gammad;\",\"\":\"&Gbreve;\",\"\":\"&Gcedil;\",\"\":\"&Gcirc;\",\"\":\"&Gcy;\",\"\":\"&Gdot;\",\"\":\"&Gfr;\",\"\":\"&ggg;\",\"\":\"&Gopf;\",\"\":\"&geq;\",\"\":\"&gtreqless;\",\"\":\"&geqq;\",\"\":\"&GreaterGreater;\",\"\":\"&gtrless;\",\"\":\"&ges;\",\"\":\"&gtrsim;\",\"\":\"&Gscr;\",\"\":\"&gg;\",\"\":\"&HARDcy;\",\"\":\"&caron;\",\"^\":\"&Hat;\",\"\":\"&Hcirc;\",\"\":\"&Poincareplane;\",\"\":\"&hamilt;\",\"\":\"&quaternions;\",\"\":\"&boxh;\",\"\":\"&Hstrok;\",\"\":\"&bumpeq;\",\"\":\"&IEcy;\",\"\":\"&IJlig;\",\"\":\"&IOcy;\",\"\":\"&Iacute;\",\"\":\"&Icirc;\",\"\":\"&Icy;\",\"\":\"&Idot;\",\"\":\"&imagpart;\",\"\":\"&Igrave;\",\"\":\"&Imacr;\",\"\":\"&ii;\",\"\":\"&Int;\",\"\":\"&int;\",\"\":\"&xcap;\",\"\":\"&ic;\",\"\":\"&it;\",\"\":\"&Iogon;\",\"\":\"&Iopf;\",\"\":\"&Iota;\",\"\":\"&imagline;\",\"\":\"&Itilde;\",\"\":\"&Iukcy;\",\"\":\"&Iuml;\",\"\":\"&Jcirc;\",\"\":\"&Jcy;\",\"\":\"&Jfr;\",\"\":\"&Jopf;\",\"\":\"&Jscr;\",\"\":\"&Jsercy;\",\"\":\"&Jukcy;\",\"\":\"&KHcy;\",\"\":\"&KJcy;\",\"\":\"&Kappa;\",\"\":\"&Kcedil;\",\"\":\"&Kcy;\",\"\":\"&Kfr;\",\"\":\"&Kopf;\",\"\":\"&Kscr;\",\"\":\"&LJcy;\",\"<\":\"&lt;\",\"\":\"&Lacute;\",\"\":\"&Lambda;\",\"\":\"&Lang;\",\"\":\"&lagran;\",\"\":\"&twoheadleftarrow;\",\"\":\"&Lcaron;\",\"\":\"&Lcedil;\",\"\":\"&Lcy;\",\"\":\"&langle;\",\"\":\"&slarr;\",\"\":\"&larrb;\",\"\":\"&lrarr;\",\"\":\"&lceil;\",\"\":\"&lobrk;\",\"\":\"&LeftDownTeeVector;\",\"\":\"&downharpoonleft;\",\"\":\"&LeftDownVectorBar;\",\"\":\"&lfloor;\",\"\":\"&leftrightarrow;\",\"\":\"&LeftRightVector;\",\"\":\"&dashv;\",\"\":\"&mapstoleft;\",\"\":\"&LeftTeeVector;\",\"\":\"&vltri;\",\"\":\"&LeftTriangleBar;\",\"\":\"&trianglelefteq;\",\"\":\"&LeftUpDownVector;\",\"\":\"&LeftUpTeeVector;\",\"\":\"&upharpoonleft;\",\"\":\"&LeftUpVectorBar;\",\"\":\"&lharu;\",\"\":\"&LeftVectorBar;\",\"\":\"&lesseqgtr;\",\"\":\"&leqq;\",\"\":\"&lg;\",\"\":\"&LessLess;\",\"\":\"&les;\",\"\":\"&lsim;\",\"\":\"&Lfr;\",\"\":\"&Ll;\",\"\":\"&lAarr;\",\"\":\"&Lmidot;\",\"\":\"&xlarr;\",\"\":\"&xharr;\",\"\":\"&xrarr;\",\"\":\"&Lopf;\",\"\":\"&swarrow;\",\"\":\"&searrow;\",\"\":\"&lsh;\",\"\":\"&Lstrok;\",\"\":\"&ll;\",\"\":\"&Map;\",\"\":\"&Mcy;\",\"\":\"&MediumSpace;\",\"\":\"&phmmat;\",\"\":\"&Mfr;\",\"\":\"&mp;\",\"\":\"&Mopf;\",\"\":\"&Mu;\",\"\":\"&NJcy;\",\"\":\"&Nacute;\",\"\":\"&Ncaron;\",\"\":\"&Ncedil;\",\"\":\"&Ncy;\",\"\":\"&ZeroWidthSpace;\",\"\\n\":\"&NewLine;\",\"\":\"&Nfr;\",\"\":\"&NoBreak;\",\"\":\"&nbsp;\",\"\":\"&naturals;\",\"\":\"&Not;\",\"\":\"&nequiv;\",\"\":\"&NotCupCap;\",\"\":\"&nspar;\",\"\":\"&notinva;\",\"\":\"&ne;\",\"\":\"&nesim;\",\"\":\"&nexists;\",\"\":\"&ngtr;\",\"\":\"&ngeq;\",\"\":\"&ngeqq;\",\"\":\"&nGtv;\",\"\":\"&ntgl;\",\"\":\"&nges;\",\"\":\"&ngsim;\",\"\":\"&nbump;\",\"\":\"&nbumpe;\",\"\":\"&ntriangleleft;\",\"\":\"&NotLeftTriangleBar;\",\"\":\"&ntrianglelefteq;\",\"\":\"&nlt;\",\"\":\"&nleq;\",\"\":\"&ntlg;\",\"\":\"&nLtv;\",\"\":\"&nles;\",\"\":\"&nlsim;\",\"\":\"&NotNestedGreaterGreater;\",\"\":\"&NotNestedLessLess;\",\"\":\"&nprec;\",\"\":\"&npreceq;\",\"\":\"&nprcue;\",\"\":\"&notniva;\",\"\":\"&ntriangleright;\",\"\":\"&NotRightTriangleBar;\",\"\":\"&ntrianglerighteq;\",\"\":\"&NotSquareSubset;\",\"\":\"&nsqsube;\",\"\":\"&NotSquareSuperset;\",\"\":\"&nsqsupe;\",\"\":\"&vnsub;\",\"\":\"&nsubseteq;\",\"\":\"&nsucc;\",\"\":\"&nsucceq;\",\"\":\"&nsccue;\",\"\":\"&NotSucceedsTilde;\",\"\":\"&vnsup;\",\"\":\"&nsupseteq;\",\"\":\"&nsim;\",\"\":\"&nsimeq;\",\"\":\"&ncong;\",\"\":\"&napprox;\",\"\":\"&nsmid;\",\"\":\"&Nscr;\",\"\":\"&Ntilde;\",\"\":\"&Nu;\",\"\":\"&OElig;\",\"\":\"&Oacute;\",\"\":\"&Ocirc;\",\"\":\"&Ocy;\",\"\":\"&Odblac;\",\"\":\"&Ofr;\",\"\":\"&Ograve;\",\"\":\"&Omacr;\",\"\":\"&ohm;\",\"\":\"&Omicron;\",\"\":\"&Oopf;\",\"\":\"&ldquo;\",\"\":\"&lsquo;\",\"\":\"&Or;\",\"\":\"&Oscr;\",\"\":\"&Oslash;\",\"\":\"&Otilde;\",\"\":\"&Otimes;\",\"\":\"&Ouml;\",\"\":\"&oline;\",\"\":\"&OverBrace;\",\"\":\"&tbrk;\",\"\":\"&OverParenthesis;\",\"\":\"&part;\",\"\":\"&Pcy;\",\"\":\"&Pfr;\",\"\":\"&Phi;\",\"\":\"&Pi;\",\"\":\"&pm;\",\"\":\"&primes;\",\"\":\"&Pr;\",\"\":\"&prec;\",\"\":\"&preceq;\",\"\":\"&preccurlyeq;\",\"\":\"&prsim;\",\"\":\"&Prime;\",\"\":\"&prod;\",\"\":\"&vprop;\",\"\":\"&Pscr;\",\"\":\"&Psi;\",'\"':\"&quot;\",\"\":\"&Qfr;\",\"\":\"&rationals;\",\"\":\"&Qscr;\",\"\":\"&drbkarow;\",\"\":\"&reg;\",\"\":\"&Racute;\",\"\":\"&Rang;\",\"\":\"&twoheadrightarrow;\",\"\":\"&Rarrtl;\",\"\":\"&Rcaron;\",\"\":\"&Rcedil;\",\"\":\"&Rcy;\",\"\":\"&realpart;\",\"\":\"&niv;\",\"\":\"&lrhar;\",\"\":\"&duhar;\",\"\":\"&Rho;\",\"\":\"&rangle;\",\"\":\"&srarr;\",\"\":\"&rarrb;\",\"\":\"&rlarr;\",\"\":\"&rceil;\",\"\":\"&robrk;\",\"\":\"&RightDownTeeVector;\",\"\":\"&downharpoonright;\",\"\":\"&RightDownVectorBar;\",\"\":\"&rfloor;\",\"\":\"&vdash;\",\"\":\"&mapsto;\",\"\":\"&RightTeeVector;\",\"\":\"&vrtri;\",\"\":\"&RightTriangleBar;\",\"\":\"&trianglerighteq;\",\"\":\"&RightUpDownVector;\",\"\":\"&RightUpTeeVector;\",\"\":\"&upharpoonright;\",\"\":\"&RightUpVectorBar;\",\"\":\"&rightharpoonup;\",\"\":\"&RightVectorBar;\",\"\":\"&reals;\",\"\":\"&RoundImplies;\",\"\":\"&rAarr;\",\"\":\"&realine;\",\"\":\"&rsh;\",\"\":\"&RuleDelayed;\",\"\":\"&SHCHcy;\",\"\":\"&SHcy;\",\"\":\"&SOFTcy;\",\"\":\"&Sacute;\",\"\":\"&Sc;\",\"\":\"&Scaron;\",\"\":\"&Scedil;\",\"\":\"&Scirc;\",\"\":\"&Scy;\",\"\":\"&Sfr;\",\"\":\"&uparrow;\",\"\":\"&Sigma;\",\"\":\"&compfn;\",\"\":\"&Sopf;\",\"\":\"&radic;\",\"\":\"&square;\",\"\":\"&sqcap;\",\"\":\"&sqsubset;\",\"\":\"&sqsubseteq;\",\"\":\"&sqsupset;\",\"\":\"&sqsupseteq;\",\"\":\"&sqcup;\",\"\":\"&Sscr;\",\"\":\"&sstarf;\",\"\":\"&Subset;\",\"\":\"&subseteq;\",\"\":\"&succ;\",\"\":\"&succeq;\",\"\":\"&succcurlyeq;\",\"\":\"&succsim;\",\"\":\"&sum;\",\"\":\"&Supset;\",\"\":\"&supset;\",\"\":\"&supseteq;\",\"\":\"&THORN;\",\"\":\"&trade;\",\"\":\"&TSHcy;\",\"\":\"&TScy;\",\"\\t\":\"&Tab;\",\"\":\"&Tau;\",\"\":\"&Tcaron;\",\"\":\"&Tcedil;\",\"\":\"&Tcy;\",\"\":\"&Tfr;\",\"\":\"&therefore;\",\"\":\"&Theta;\",\"\":\"&ThickSpace;\",\"\":\"&thinsp;\",\"\":\"&thksim;\",\"\":\"&simeq;\",\"\":\"&cong;\",\"\":\"&thkap;\",\"\":\"&Topf;\",\"\":\"&tdot;\",\"\":\"&Tscr;\",\"\":\"&Tstrok;\",\"\":\"&Uacute;\",\"\":\"&Uarr;\",\"\":\"&Uarrocir;\",\"\":\"&Ubrcy;\",\"\":\"&Ubreve;\",\"\":\"&Ucirc;\",\"\":\"&Ucy;\",\"\":\"&Udblac;\",\"\":\"&Ufr;\",\"\":\"&Ugrave;\",\"\":\"&Umacr;\",_:\"&lowbar;\",\"\":\"&UnderBrace;\",\"\":\"&bbrk;\",\"\":\"&UnderParenthesis;\",\"\":\"&xcup;\",\"\":\"&uplus;\",\"\":\"&Uogon;\",\"\":\"&Uopf;\",\"\":\"&UpArrowBar;\",\"\":\"&udarr;\",\"\":\"&varr;\",\"\":\"&udhar;\",\"\":\"&perp;\",\"\":\"&mapstoup;\",\"\":\"&nwarrow;\",\"\":\"&nearrow;\",\"\":\"&upsih;\",\"\":\"&Upsilon;\",\"\":\"&Uring;\",\"\":\"&Uscr;\",\"\":\"&Utilde;\",\"\":\"&Uuml;\",\"\":\"&VDash;\",\"\":\"&Vbar;\",\"\":\"&Vcy;\",\"\":\"&Vdash;\",\"\":\"&Vdashl;\",\"\":\"&xvee;\",\"\":\"&Vert;\",\"\":\"&smid;\",\"|\":\"&vert;\",\"\":\"&VerticalSeparator;\",\"\":\"&wreath;\",\"\":\"&hairsp;\",\"\":\"&Vfr;\",\"\":\"&Vopf;\",\"\":\"&Vscr;\",\"\":\"&Vvdash;\",\"\":\"&Wcirc;\",\"\":\"&xwedge;\",\"\":\"&Wfr;\",\"\":\"&Wopf;\",\"\":\"&Wscr;\",\"\":\"&Xfr;\",\"\":\"&Xi;\",\"\":\"&Xopf;\",\"\":\"&Xscr;\",\"\":\"&YAcy;\",\"\":\"&YIcy;\",\"\":\"&YUcy;\",\"\":\"&Yacute;\",\"\":\"&Ycirc;\",\"\":\"&Ycy;\",\"\":\"&Yfr;\",\"\":\"&Yopf;\",\"\":\"&Yscr;\",\"\":\"&Yuml;\",\"\":\"&ZHcy;\",\"\":\"&Zacute;\",\"\":\"&Zcaron;\",\"\":\"&Zcy;\",\"\":\"&Zdot;\",\"\":\"&Zeta;\",\"\":\"&zeetrf;\",\"\":\"&integers;\",\"\":\"&Zscr;\",\"\":\"&aacute;\",\"\":\"&abreve;\",\"\":\"&mstpos;\",\"\":\"&acE;\",\"\":\"&acd;\",\"\":\"&acirc;\",\"\":\"&acy;\",\"\":\"&aelig;\",\"\":\"&afr;\",\"\":\"&agrave;\",\"\":\"&aleph;\",\"\":\"&alpha;\",\"\":\"&amacr;\",\"\":\"&amalg;\",\"\":\"&wedge;\",\"\":\"&andand;\",\"\":\"&andd;\",\"\":\"&andslope;\",\"\":\"&andv;\",\"\":\"&angle;\",\"\":\"&ange;\",\"\":\"&measuredangle;\",\"\":\"&angmsdaa;\",\"\":\"&angmsdab;\",\"\":\"&angmsdac;\",\"\":\"&angmsdad;\",\"\":\"&angmsdae;\",\"\":\"&angmsdaf;\",\"\":\"&angmsdag;\",\"\":\"&angmsdah;\",\"\":\"&angrt;\",\"\":\"&angrtvb;\",\"\":\"&angrtvbd;\",\"\":\"&angsph;\",\"\":\"&angzarr;\",\"\":\"&aogon;\",\"\":\"&aopf;\",\"\":\"&apE;\",\"\":\"&apacir;\",\"\":\"&approxeq;\",\"\":\"&apid;\",\"'\":\"&apos;\",\"\":\"&aring;\",\"\":\"&ascr;\",\"*\":\"&midast;\",\"\":\"&atilde;\",\"\":\"&auml;\",\"\":\"&awint;\",\"\":\"&bNot;\",\"\":\"&bcong;\",\"\":\"&bepsi;\",\"\":\"&bprime;\",\"\":\"&bsim;\",\"\":\"&bsime;\",\"\":\"&barvee;\",\"\":\"&barwedge;\",\"\":\"&bbrktbrk;\",\"\":\"&bcy;\",\"\":\"&ldquor;\",\"\":\"&bemptyv;\",\"\":\"&beta;\",\"\":\"&beth;\",\"\":\"&twixt;\",\"\":\"&bfr;\",\"\":\"&xcirc;\",\"\":\"&xodot;\",\"\":\"&xoplus;\",\"\":\"&xotime;\",\"\":\"&xsqcup;\",\"\":\"&starf;\",\"\":\"&xdtri;\",\"\":\"&xutri;\",\"\":\"&xuplus;\",\"\":\"&rbarr;\",\"\":\"&lozf;\",\"\":\"&utrif;\",\"\":\"&dtrif;\",\"\":\"&ltrif;\",\"\":\"&rtrif;\",\"\":\"&blank;\",\"\":\"&blk12;\",\"\":\"&blk14;\",\"\":\"&blk34;\",\"\":\"&block;\",\"=\":\"&bne;\",\"\":\"&bnequiv;\",\"\":\"&bnot;\",\"\":\"&bopf;\",\"\":\"&bowtie;\",\"\":\"&boxDL;\",\"\":\"&boxDR;\",\"\":\"&boxDl;\",\"\":\"&boxDr;\",\"\":\"&boxH;\",\"\":\"&boxHD;\",\"\":\"&boxHU;\",\"\":\"&boxHd;\",\"\":\"&boxHu;\",\"\":\"&boxUL;\",\"\":\"&boxUR;\",\"\":\"&boxUl;\",\"\":\"&boxUr;\",\"\":\"&boxV;\",\"\":\"&boxVH;\",\"\":\"&boxVL;\",\"\":\"&boxVR;\",\"\":\"&boxVh;\",\"\":\"&boxVl;\",\"\":\"&boxVr;\",\"\":\"&boxbox;\",\"\":\"&boxdL;\",\"\":\"&boxdR;\",\"\":\"&boxdl;\",\"\":\"&boxdr;\",\"\":\"&boxhD;\",\"\":\"&boxhU;\",\"\":\"&boxhd;\",\"\":\"&boxhu;\",\"\":\"&minusb;\",\"\":\"&plusb;\",\"\":\"&timesb;\",\"\":\"&boxuL;\",\"\":\"&boxuR;\",\"\":\"&boxul;\",\"\":\"&boxur;\",\"\":\"&boxv;\",\"\":\"&boxvH;\",\"\":\"&boxvL;\",\"\":\"&boxvR;\",\"\":\"&boxvh;\",\"\":\"&boxvl;\",\"\":\"&boxvr;\",\"\":\"&brvbar;\",\"\":\"&bscr;\",\"\":\"&bsemi;\",\"\\\\\":\"&bsol;\",\"\":\"&bsolb;\",\"\":\"&bsolhsub;\",\"\":\"&bullet;\",\"\":\"&bumpE;\",\"\":\"&cacute;\",\"\":\"&cap;\",\"\":\"&capand;\",\"\":\"&capbrcup;\",\"\":\"&capcap;\",\"\":\"&capcup;\",\"\":\"&capdot;\",\"\":\"&caps;\",\"\":\"&caret;\",\"\":\"&ccaps;\",\"\":\"&ccaron;\",\"\":\"&ccedil;\",\"\":\"&ccirc;\",\"\":\"&ccups;\",\"\":\"&ccupssm;\",\"\":\"&cdot;\",\"\":\"&cemptyv;\",\"\":\"&cent;\",\"\":\"&cfr;\",\"\":\"&chcy;\",\"\":\"&checkmark;\",\"\":\"&chi;\",\"\":\"&cir;\",\"\":\"&cirE;\",\"\":\"&circ;\",\"\":\"&cire;\",\"\":\"&olarr;\",\"\":\"&orarr;\",\"\":\"&oS;\",\"\":\"&oast;\",\"\":\"&ocir;\",\"\":\"&odash;\",\"\":\"&cirfnint;\",\"\":\"&cirmid;\",\"\":\"&cirscir;\",\"\":\"&clubsuit;\",\":\":\"&colon;\",\",\":\"&comma;\",\"@\":\"&commat;\",\"\":\"&complement;\",\"\":\"&congdot;\",\"\":\"&copf;\",\"\":\"&copysr;\",\"\":\"&crarr;\",\"\":\"&cross;\",\"\":\"&cscr;\",\"\":\"&csub;\",\"\":\"&csube;\",\"\":\"&csup;\",\"\":\"&csupe;\",\"\":\"&ctdot;\",\"\":\"&cudarrl;\",\"\":\"&cudarrr;\",\"\":\"&curlyeqprec;\",\"\":\"&curlyeqsucc;\",\"\":\"&curvearrowleft;\",\"\":\"&cularrp;\",\"\":\"&cup;\",\"\":\"&cupbrcap;\",\"\":\"&cupcap;\",\"\":\"&cupcup;\",\"\":\"&cupdot;\",\"\":\"&cupor;\",\"\":\"&cups;\",\"\":\"&curvearrowright;\",\"\":\"&curarrm;\",\"\":\"&cuvee;\",\"\":\"&cuwed;\",\"\":\"&curren;\",\"\":\"&cwint;\",\"\":\"&cylcty;\",\"\":\"&dHar;\",\"\":\"&dagger;\",\"\":\"&daleth;\",\"\":\"&hyphen;\",\"\":\"&rBarr;\",\"\":\"&dcaron;\",\"\":\"&dcy;\",\"\":\"&downdownarrows;\",\"\":\"&eDDot;\",\"\":\"&deg;\",\"\":\"&delta;\",\"\":\"&demptyv;\",\"\":\"&dfisht;\",\"\":\"&dfr;\",\"\":\"&diams;\",\"\":\"&gammad;\",\"\":\"&disin;\",\"\":\"&divide;\",\"\":\"&divonx;\",\"\":\"&djcy;\",\"\":\"&llcorner;\",\"\":\"&dlcrop;\",$:\"&dollar;\",\"\":\"&dopf;\",\"\":\"&eDot;\",\"\":\"&minusd;\",\"\":\"&plusdo;\",\"\":\"&sdotb;\",\"\":\"&lrcorner;\",\"\":\"&drcrop;\",\"\":\"&dscr;\",\"\":\"&dscy;\",\"\":\"&dsol;\",\"\":\"&dstrok;\",\"\":\"&dtdot;\",\"\":\"&triangledown;\",\"\":\"&dwangle;\",\"\":\"&dzcy;\",\"\":\"&dzigrarr;\",\"\":\"&eacute;\",\"\":\"&easter;\",\"\":\"&ecaron;\",\"\":\"&eqcirc;\",\"\":\"&ecirc;\",\"\":\"&eqcolon;\",\"\":\"&ecy;\",\"\":\"&edot;\",\"\":\"&fallingdotseq;\",\"\":\"&efr;\",\"\":\"&eg;\",\"\":\"&egrave;\",\"\":\"&eqslantgtr;\",\"\":\"&egsdot;\",\"\":\"&el;\",\"\":\"&elinters;\",\"\":\"&ell;\",\"\":\"&eqslantless;\",\"\":\"&elsdot;\",\"\":\"&emacr;\",\"\":\"&varnothing;\",\"\":\"&emsp13;\",\"\":\"&emsp14;\",\"\":\"&emsp;\",\"\":\"&eng;\",\"\":\"&ensp;\",\"\":\"&eogon;\",\"\":\"&eopf;\",\"\":\"&epar;\",\"\":\"&eparsl;\",\"\":\"&eplus;\",\"\":\"&epsilon;\",\"\":\"&varepsilon;\",\"=\":\"&equals;\",\"\":\"&questeq;\",\"\":\"&equivDD;\",\"\":\"&eqvparsl;\",\"\":\"&risingdotseq;\",\"\":\"&erarr;\",\"\":\"&escr;\",\"\":\"&eta;\",\"\":\"&eth;\",\"\":\"&euml;\",\"\":\"&euro;\",\"!\":\"&excl;\",\"\":\"&fcy;\",\"\":\"&female;\",\"\":\"&ffilig;\",\"\":\"&fflig;\",\"\":\"&ffllig;\",\"\":\"&ffr;\",\"\":\"&filig;\",fj:\"&fjlig;\",\"\":\"&flat;\",\"\":\"&fllig;\",\"\":\"&fltns;\",\"\":\"&fnof;\",\"\":\"&fopf;\",\"\":\"&pitchfork;\",\"\":\"&forkv;\",\"\":\"&fpartint;\",\"\":\"&half;\",\"\":\"&frac13;\",\"\":\"&frac14;\",\"\":\"&frac15;\",\"\":\"&frac16;\",\"\":\"&frac18;\",\"\":\"&frac23;\",\"\":\"&frac25;\",\"\":\"&frac34;\",\"\":\"&frac35;\",\"\":\"&frac38;\",\"\":\"&frac45;\",\"\":\"&frac56;\",\"\":\"&frac58;\",\"\":\"&frac78;\",\"\":\"&frasl;\",\"\":\"&sfrown;\",\"\":\"&fscr;\",\"\":\"&gtreqqless;\",\"\":\"&gacute;\",\"\":\"&gamma;\",\"\":\"&gtrapprox;\",\"\":\"&gbreve;\",\"\":\"&gcirc;\",\"\":\"&gcy;\",\"\":\"&gdot;\",\"\":\"&gescc;\",\"\":\"&gesdot;\",\"\":\"&gesdoto;\",\"\":\"&gesdotol;\",\"\":\"&gesl;\",\"\":\"&gesles;\",\"\":\"&gfr;\",\"\":\"&gimel;\",\"\":\"&gjcy;\",\"\":\"&glE;\",\"\":\"&gla;\",\"\":\"&glj;\",\"\":\"&gneqq;\",\"\":\"&gnapprox;\",\"\":\"&gneq;\",\"\":\"&gnsim;\",\"\":\"&gopf;\",\"\":\"&gscr;\",\"\":\"&gsime;\",\"\":\"&gsiml;\",\"\":\"&gtcc;\",\"\":\"&gtcir;\",\"\":\"&gtrdot;\",\"\":\"&gtlPar;\",\"\":\"&gtquest;\",\"\":\"&gtrarr;\",\"\":\"&gvnE;\",\"\":\"&hardcy;\",\"\":\"&harrcir;\",\"\":\"&leftrightsquigarrow;\",\"\":\"&plankv;\",\"\":\"&hcirc;\",\"\":\"&heartsuit;\",\"\":\"&mldr;\",\"\":\"&hercon;\",\"\":\"&hfr;\",\"\":\"&searhk;\",\"\":\"&swarhk;\",\"\":\"&hoarr;\",\"\":\"&homtht;\",\"\":\"&larrhk;\",\"\":\"&rarrhk;\",\"\":\"&hopf;\",\"\":\"&horbar;\",\"\":\"&hscr;\",\"\":\"&hstrok;\",\"\":\"&hybull;\",\"\":\"&iacute;\",\"\":\"&icirc;\",\"\":\"&icy;\",\"\":\"&iecy;\",\"\":\"&iexcl;\",\"\":\"&ifr;\",\"\":\"&igrave;\",\"\":\"&qint;\",\"\":\"&tint;\",\"\":\"&iinfin;\",\"\":\"&iiota;\",\"\":\"&ijlig;\",\"\":\"&imacr;\",\"\":\"&inodot;\",\"\":\"&imof;\",\"\":\"&imped;\",\"\":\"&incare;\",\"\":\"&infin;\",\"\":\"&infintie;\",\"\":\"&intercal;\",\"\":\"&intlarhk;\",\"\":\"&iprod;\",\"\":\"&iocy;\",\"\":\"&iogon;\",\"\":\"&iopf;\",\"\":\"&iota;\",\"\":\"&iquest;\",\"\":\"&iscr;\",\"\":\"&isinE;\",\"\":\"&isindot;\",\"\":\"&isins;\",\"\":\"&isinsv;\",\"\":\"&itilde;\",\"\":\"&iukcy;\",\"\":\"&iuml;\",\"\":\"&jcirc;\",\"\":\"&jcy;\",\"\":\"&jfr;\",\"\":\"&jmath;\",\"\":\"&jopf;\",\"\":\"&jscr;\",\"\":\"&jsercy;\",\"\":\"&jukcy;\",\"\":\"&kappa;\",\"\":\"&varkappa;\",\"\":\"&kcedil;\",\"\":\"&kcy;\",\"\":\"&kfr;\",\"\":\"&kgreen;\",\"\":\"&khcy;\",\"\":\"&kjcy;\",\"\":\"&kopf;\",\"\":\"&kscr;\",\"\":\"&lAtail;\",\"\":\"&lBarr;\",\"\":\"&lesseqqgtr;\",\"\":\"&lHar;\",\"\":\"&lacute;\",\"\":\"&laemptyv;\",\"\":\"&lambda;\",\"\":\"&langd;\",\"\":\"&lessapprox;\",\"\":\"&laquo;\",\"\":\"&larrbfs;\",\"\":\"&larrfs;\",\"\":\"&looparrowleft;\",\"\":\"&larrpl;\",\"\":\"&larrsim;\",\"\":\"&leftarrowtail;\",\"\":\"&lat;\",\"\":\"&latail;\",\"\":\"&late;\",\"\":\"&lates;\",\"\":\"&lbarr;\",\"\":\"&lbbrk;\",\"{\":\"&lcub;\",\"[\":\"&lsqb;\",\"\":\"&lbrke;\",\"\":\"&lbrksld;\",\"\":\"&lbrkslu;\",\"\":\"&lcaron;\",\"\":\"&lcedil;\",\"\":\"&lcy;\",\"\":\"&ldca;\",\"\":\"&ldrdhar;\",\"\":\"&ldrushar;\",\"\":\"&ldsh;\",\"\":\"&leq;\",\"\":\"&llarr;\",\"\":\"&lthree;\",\"\":\"&lescc;\",\"\":\"&lesdot;\",\"\":\"&lesdoto;\",\"\":\"&lesdotor;\",\"\":\"&lesg;\",\"\":\"&lesges;\",\"\":\"&ltdot;\",\"\":\"&lfisht;\",\"\":\"&lfr;\",\"\":\"&lgE;\",\"\":\"&lharul;\",\"\":\"&lhblk;\",\"\":\"&ljcy;\",\"\":\"&llhard;\",\"\":\"&lltri;\",\"\":\"&lmidot;\",\"\":\"&lmoustache;\",\"\":\"&lneqq;\",\"\":\"&lnapprox;\",\"\":\"&lneq;\",\"\":\"&lnsim;\",\"\":\"&loang;\",\"\":\"&loarr;\",\"\":\"&xmap;\",\"\":\"&rarrlp;\",\"\":\"&lopar;\",\"\":\"&lopf;\",\"\":\"&loplus;\",\"\":\"&lotimes;\",\"\":\"&lowast;\",\"\":\"&lozenge;\",\"(\":\"&lpar;\",\"\":\"&lparlt;\",\"\":\"&lrhard;\",\"\":\"&lrm;\",\"\":\"&lrtri;\",\"\":\"&lsaquo;\",\"\":\"&lscr;\",\"\":\"&lsime;\",\"\":\"&lsimg;\",\"\":\"&sbquo;\",\"\":\"&lstrok;\",\"\":\"&ltcc;\",\"\":\"&ltcir;\",\"\":\"&ltimes;\",\"\":\"&ltlarr;\",\"\":\"&ltquest;\",\"\":\"&ltrPar;\",\"\":\"&triangleleft;\",\"\":\"&lurdshar;\",\"\":\"&luruhar;\",\"\":\"&lvnE;\",\"\":\"&mDDot;\",\"\":\"&strns;\",\"\":\"&male;\",\"\":\"&maltese;\",\"\":\"&marker;\",\"\":\"&mcomma;\",\"\":\"&mcy;\",\"\":\"&mdash;\",\"\":\"&mfr;\",\"\":\"&mho;\",\"\":\"&micro;\",\"\":\"&midcir;\",\"\":\"&minus;\",\"\":\"&minusdu;\",\"\":\"&mlcp;\",\"\":\"&models;\",\"\":\"&mopf;\",\"\":\"&mscr;\",\"\":\"&mu;\",\"\":\"&mumap;\",\"\":\"&nGg;\",\"\":\"&nGt;\",\"\":\"&nlArr;\",\"\":\"&nhArr;\",\"\":\"&nLl;\",\"\":\"&nLt;\",\"\":\"&nrArr;\",\"\":\"&nVDash;\",\"\":\"&nVdash;\",\"\":\"&nacute;\",\"\":\"&nang;\",\"\":\"&napE;\",\"\":\"&napid;\",\"\":\"&napos;\",\"\":\"&natural;\",\"\":\"&ncap;\",\"\":\"&ncaron;\",\"\":\"&ncedil;\",\"\":\"&ncongdot;\",\"\":\"&ncup;\",\"\":\"&ncy;\",\"\":\"&ndash;\",\"\":\"&neArr;\",\"\":\"&nearhk;\",\"\":\"&nedot;\",\"\":\"&toea;\",\"\":\"&nfr;\",\"\":\"&nleftrightarrow;\",\"\":\"&nhpar;\",\"\":\"&nis;\",\"\":\"&nisd;\",\"\":\"&njcy;\",\"\":\"&nleqq;\",\"\":\"&nleftarrow;\",\"\":\"&nldr;\",\"\":\"&nopf;\",\"\":\"&not;\",\"\":\"&notinE;\",\"\":\"&notindot;\",\"\":\"&notinvb;\",\"\":\"&notinvc;\",\"\":\"&notnivb;\",\"\":\"&notnivc;\",\"\":\"&nparsl;\",\"\":\"&npart;\",\"\":\"&npolint;\",\"\":\"&nrightarrow;\",\"\":\"&nrarrc;\",\"\":\"&nrarrw;\",\"\":\"&nscr;\",\"\":\"&nsub;\",\"\":\"&nsubseteqq;\",\"\":\"&nsup;\",\"\":\"&nsupseteqq;\",\"\":\"&ntilde;\",\"\":\"&nu;\",\"#\":\"&num;\",\"\":\"&numero;\",\"\":\"&numsp;\",\"\":\"&nvDash;\",\"\":\"&nvHarr;\",\"\":\"&nvap;\",\"\":\"&nvdash;\",\"\":\"&nvge;\",\">\":\"&nvgt;\",\"\":\"&nvinfin;\",\"\":\"&nvlArr;\",\"\":\"&nvle;\",\"<\":\"&nvlt;\",\"\":\"&nvltrie;\",\"\":\"&nvrArr;\",\"\":\"&nvrtrie;\",\"\":\"&nvsim;\",\"\":\"&nwArr;\",\"\":\"&nwarhk;\",\"\":\"&nwnear;\",\"\":\"&oacute;\",\"\":\"&ocirc;\",\"\":\"&ocy;\",\"\":\"&odblac;\",\"\":\"&odiv;\",\"\":\"&odsold;\",\"\":\"&oelig;\",\"\":\"&ofcir;\",\"\":\"&ofr;\",\"\":\"&ogon;\",\"\":\"&ograve;\",\"\":\"&ogt;\",\"\":\"&ohbar;\",\"\":\"&olcir;\",\"\":\"&olcross;\",\"\":\"&olt;\",\"\":\"&omacr;\",\"\":\"&omega;\",\"\":\"&omicron;\",\"\":\"&omid;\",\"\":\"&oopf;\",\"\":\"&opar;\",\"\":\"&operp;\",\"\":\"&vee;\",\"\":\"&ord;\",\"\":\"&oscr;\",\"\":\"&ordf;\",\"\":\"&ordm;\",\"\":\"&origof;\",\"\":\"&oror;\",\"\":\"&orslope;\",\"\":\"&orv;\",\"\":\"&oslash;\",\"\":\"&osol;\",\"\":\"&otilde;\",\"\":\"&otimesas;\",\"\":\"&ouml;\",\"\":\"&ovbar;\",\"\":\"&para;\",\"\":\"&parsim;\",\"\":\"&parsl;\",\"\":\"&pcy;\",\"%\":\"&percnt;\",\".\":\"&period;\",\"\":\"&permil;\",\"\":\"&pertenk;\",\"\":\"&pfr;\",\"\":\"&phi;\",\"\":\"&varphi;\",\"\":\"&phone;\",\"\":\"&pi;\",\"\":\"&varpi;\",\"\":\"&planckh;\",\"+\":\"&plus;\",\"\":\"&plusacir;\",\"\":\"&pluscir;\",\"\":\"&plusdu;\",\"\":\"&pluse;\",\"\":\"&plussim;\",\"\":\"&plustwo;\",\"\":\"&pointint;\",\"\":\"&popf;\",\"\":\"&pound;\",\"\":\"&prE;\",\"\":\"&precapprox;\",\"\":\"&prnap;\",\"\":\"&prnE;\",\"\":\"&prnsim;\",\"\":\"&prime;\",\"\":\"&profalar;\",\"\":\"&profline;\",\"\":\"&profsurf;\",\"\":\"&prurel;\",\"\":\"&pscr;\",\"\":\"&psi;\",\"\":\"&puncsp;\",\"\":\"&qfr;\",\"\":\"&qopf;\",\"\":\"&qprime;\",\"\":\"&qscr;\",\"\":\"&quatint;\",\"?\":\"&quest;\",\"\":\"&rAtail;\",\"\":\"&rHar;\",\"\":\"&race;\",\"\":\"&racute;\",\"\":\"&raemptyv;\",\"\":\"&rangd;\",\"\":\"&range;\",\"\":\"&raquo;\",\"\":\"&rarrap;\",\"\":\"&rarrbfs;\",\"\":\"&rarrc;\",\"\":\"&rarrfs;\",\"\":\"&rarrpl;\",\"\":\"&rarrsim;\",\"\":\"&rightarrowtail;\",\"\":\"&rightsquigarrow;\",\"\":\"&ratail;\",\"\":\"&ratio;\",\"\":\"&rbbrk;\",\"}\":\"&rcub;\",\"]\":\"&rsqb;\",\"\":\"&rbrke;\",\"\":\"&rbrksld;\",\"\":\"&rbrkslu;\",\"\":\"&rcaron;\",\"\":\"&rcedil;\",\"\":\"&rcy;\",\"\":\"&rdca;\",\"\":\"&rdldhar;\",\"\":\"&rdsh;\",\"\":\"&rect;\",\"\":\"&rfisht;\",\"\":\"&rfr;\",\"\":\"&rharul;\",\"\":\"&rho;\",\"\":\"&varrho;\",\"\":\"&rrarr;\",\"\":\"&rthree;\",\"\":\"&ring;\",\"\":\"&rlm;\",\"\":\"&rmoustache;\",\"\":\"&rnmid;\",\"\":\"&roang;\",\"\":\"&roarr;\",\"\":\"&ropar;\",\"\":\"&ropf;\",\"\":\"&roplus;\",\"\":\"&rotimes;\",\")\":\"&rpar;\",\"\":\"&rpargt;\",\"\":\"&rppolint;\",\"\":\"&rsaquo;\",\"\":\"&rscr;\",\"\":\"&rtimes;\",\"\":\"&triangleright;\",\"\":\"&rtriltri;\",\"\":\"&ruluhar;\",\"\":\"&rx;\",\"\":\"&sacute;\",\"\":\"&scE;\",\"\":\"&succapprox;\",\"\":\"&scaron;\",\"\":\"&scedil;\",\"\":\"&scirc;\",\"\":\"&succneqq;\",\"\":\"&succnapprox;\",\"\":\"&succnsim;\",\"\":\"&scpolint;\",\"\":\"&scy;\",\"\":\"&sdot;\",\"\":\"&sdote;\",\"\":\"&seArr;\",\"\":\"&sect;\",\";\":\"&semi;\",\"\":\"&tosa;\",\"\":\"&sext;\",\"\":\"&sfr;\",\"\":\"&sharp;\",\"\":\"&shchcy;\",\"\":\"&shcy;\",\"\":\"&shy;\",\"\":\"&sigma;\",\"\":\"&varsigma;\",\"\":\"&simdot;\",\"\":\"&simg;\",\"\":\"&simgE;\",\"\":\"&siml;\",\"\":\"&simlE;\",\"\":\"&simne;\",\"\":\"&simplus;\",\"\":\"&simrarr;\",\"\":\"&smashp;\",\"\":\"&smeparsl;\",\"\":\"&ssmile;\",\"\":\"&smt;\",\"\":\"&smte;\",\"\":\"&smtes;\",\"\":\"&softcy;\",\"/\":\"&sol;\",\"\":\"&solb;\",\"\":\"&solbar;\",\"\":\"&sopf;\",\"\":\"&spadesuit;\",\"\":\"&sqcaps;\",\"\":\"&sqcups;\",\"\":\"&sscr;\",\"\":\"&star;\",\"\":\"&subset;\",\"\":\"&subseteqq;\",\"\":\"&subdot;\",\"\":\"&subedot;\",\"\":\"&submult;\",\"\":\"&subsetneqq;\",\"\":\"&subsetneq;\",\"\":\"&subplus;\",\"\":\"&subrarr;\",\"\":\"&subsim;\",\"\":\"&subsub;\",\"\":\"&subsup;\",\"\":\"&sung;\",\"\":\"&sup1;\",\"\":\"&sup2;\",\"\":\"&sup3;\",\"\":\"&supseteqq;\",\"\":\"&supdot;\",\"\":\"&supdsub;\",\"\":\"&supedot;\",\"\":\"&suphsol;\",\"\":\"&suphsub;\",\"\":\"&suplarr;\",\"\":\"&supmult;\",\"\":\"&supsetneqq;\",\"\":\"&supsetneq;\",\"\":\"&supplus;\",\"\":\"&supsim;\",\"\":\"&supsub;\",\"\":\"&supsup;\",\"\":\"&swArr;\",\"\":\"&swnwar;\",\"\":\"&szlig;\",\"\":\"&target;\",\"\":\"&tau;\",\"\":\"&tcaron;\",\"\":\"&tcedil;\",\"\":\"&tcy;\",\"\":\"&telrec;\",\"\":\"&tfr;\",\"\":\"&theta;\",\"\":\"&vartheta;\",\"\":\"&thorn;\",\"\":\"&times;\",\"\":\"&timesbar;\",\"\":\"&timesd;\",\"\":\"&topbot;\",\"\":\"&topcir;\",\"\":\"&topf;\",\"\":\"&topfork;\",\"\":\"&tprime;\",\"\":\"&utri;\",\"\":\"&trie;\",\"\":\"&tridot;\",\"\":\"&triminus;\",\"\":\"&triplus;\",\"\":\"&trisb;\",\"\":\"&tritime;\",\"\":\"&trpezium;\",\"\":\"&tscr;\",\"\":\"&tscy;\",\"\":\"&tshcy;\",\"\":\"&tstrok;\",\"\":\"&uHar;\",\"\":\"&uacute;\",\"\":\"&ubrcy;\",\"\":\"&ubreve;\",\"\":\"&ucirc;\",\"\":\"&ucy;\",\"\":\"&udblac;\",\"\":\"&ufisht;\",\"\":\"&ufr;\",\"\":\"&ugrave;\",\"\":\"&uhblk;\",\"\":\"&ulcorner;\",\"\":\"&ulcrop;\",\"\":\"&ultri;\",\"\":\"&umacr;\",\"\":\"&uogon;\",\"\":\"&uopf;\",\"\":\"&upsilon;\",\"\":\"&uuarr;\",\"\":\"&urcorner;\",\"\":\"&urcrop;\",\"\":\"&uring;\",\"\":\"&urtri;\",\"\":\"&uscr;\",\"\":\"&utdot;\",\"\":\"&utilde;\",\"\":\"&uuml;\",\"\":\"&uwangle;\",\"\":\"&vBar;\",\"\":\"&vBarv;\",\"\":\"&vangrt;\",\"\":\"&vsubne;\",\"\":\"&vsubnE;\",\"\":\"&vsupne;\",\"\":\"&vsupnE;\",\"\":\"&vcy;\",\"\":\"&veebar;\",\"\":\"&veeeq;\",\"\":\"&vellip;\",\"\":\"&vfr;\",\"\":\"&vopf;\",\"\":\"&vscr;\",\"\":\"&vzigzag;\",\"\":\"&wcirc;\",\"\":\"&wedbar;\",\"\":\"&wedgeq;\",\"\":\"&wp;\",\"\":\"&wfr;\",\"\":\"&wopf;\",\"\":\"&wscr;\",\"\":\"&xfr;\",\"\":\"&xi;\",\"\":\"&xnis;\",\"\":\"&xopf;\",\"\":\"&xscr;\",\"\":\"&yacute;\",\"\":\"&yacy;\",\"\":\"&ycirc;\",\"\":\"&ycy;\",\"\":\"&yen;\",\"\":\"&yfr;\",\"\":\"&yicy;\",\"\":\"&yopf;\",\"\":\"&yscr;\",\"\":\"&yucy;\",\"\":\"&yuml;\",\"\":\"&zacute;\",\"\":\"&zcaron;\",\"\":\"&zcy;\",\"\":\"&zdot;\",\"\":\"&zeta;\",\"\":\"&zfr;\",\"\":\"&zhcy;\",\"\":\"&zigrarr;\",\"\":\"&zopf;\",\"\":\"&zscr;\",\"\":\"&zwj;\",\"\":\"&zwnj;\"}}};","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.fromCodePoint=String.fromCodePoint||function(astralCodePoint){return String.fromCharCode(Math.floor((astralCodePoint-65536)/1024)+55296,(astralCodePoint-65536)%1024+56320)};exports.getCodePoint=String.prototype.codePointAt?function(input,position){return input.codePointAt(position)}:function(input,position){return(input.charCodeAt(position)-55296)*1024+input.charCodeAt(position+1)-56320+65536};exports.highSurrogateFrom=55296;exports.highSurrogateTo=56319;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nimport { log } from \"../utils/log.js\";\n\nvar WebSocketClient = /*#__PURE__*/function () {\n  /**\n   * @param {string} url\n   */\n  function WebSocketClient(url) {\n    _classCallCheck(this, WebSocketClient);\n\n    this.client = new WebSocket(url);\n\n    this.client.onerror = function (error) {\n      log.error(error);\n    };\n  }\n  /**\n   * @param {(...args: any[]) => void} f\n   */\n\n\n  _createClass(WebSocketClient, [{\n    key: \"onOpen\",\n    value: function onOpen(f) {\n      this.client.onopen = f;\n    }\n    /**\n     * @param {(...args: any[]) => void} f\n     */\n\n  }, {\n    key: \"onClose\",\n    value: function onClose(f) {\n      this.client.onclose = f;\n    } // call f with the message string as the first argument\n\n    /**\n     * @param {(...args: any[]) => void} f\n     */\n\n  }, {\n    key: \"onMessage\",\n    value: function onMessage(f) {\n      this.client.onmessage = function (e) {\n        f(e.data);\n      };\n    }\n  }]);\n\n  return WebSocketClient;\n}();\n\nexport { WebSocketClient as default };","/* global __resourceQuery, __webpack_hash__ */\n/// <reference types=\"webpack/module\" />\nimport webpackHotLog from \"webpack/hot/log.js\";\nimport stripAnsi from \"./utils/stripAnsi.js\";\nimport parseURL from \"./utils/parseURL.js\";\nimport socket from \"./socket.js\";\nimport { formatProblem, show, hide } from \"./overlay.js\";\nimport { log, setLogLevel } from \"./utils/log.js\";\nimport sendMessage from \"./utils/sendMessage.js\";\nimport reloadApp from \"./utils/reloadApp.js\";\nimport createSocketURL from \"./utils/createSocketURL.js\";\n/**\n * @typedef {Object} Options\n * @property {boolean} hot\n * @property {boolean} liveReload\n * @property {boolean} progress\n * @property {boolean | { warnings?: boolean, errors?: boolean }} overlay\n * @property {string} [logging]\n * @property {number} [reconnect]\n */\n\n/**\n * @typedef {Object} Status\n * @property {boolean} isUnloading\n * @property {string} currentHash\n * @property {string} [previousHash]\n */\n\n/**\n * @type {Status}\n */\n\nvar status = {\n  isUnloading: false,\n  // TODO Workaround for webpack v4, `__webpack_hash__` is not replaced without HotModuleReplacement\n  // eslint-disable-next-line camelcase\n  currentHash: typeof __webpack_hash__ !== \"undefined\" ? __webpack_hash__ : \"\"\n};\n/** @type {Options} */\n\nvar options = {\n  hot: false,\n  liveReload: false,\n  progress: false,\n  overlay: false\n};\nvar parsedResourceQuery = parseURL(__resourceQuery);\n\nif (parsedResourceQuery.hot === \"true\") {\n  options.hot = true;\n  log.info(\"Hot Module Replacement enabled.\");\n}\n\nif (parsedResourceQuery[\"live-reload\"] === \"true\") {\n  options.liveReload = true;\n  log.info(\"Live Reloading enabled.\");\n}\n\nif (parsedResourceQuery.logging) {\n  options.logging = parsedResourceQuery.logging;\n}\n\nif (typeof parsedResourceQuery.reconnect !== \"undefined\") {\n  options.reconnect = Number(parsedResourceQuery.reconnect);\n}\n/**\n * @param {string} level\n */\n\n\nfunction setAllLogLevel(level) {\n  // This is needed because the HMR logger operate separately from dev server logger\n  webpackHotLog.setLogLevel(level === \"verbose\" || level === \"log\" ? \"info\" : level);\n  setLogLevel(level);\n}\n\nif (options.logging) {\n  setAllLogLevel(options.logging);\n}\n\nself.addEventListener(\"beforeunload\", function () {\n  status.isUnloading = true;\n});\nvar onSocketMessage = {\n  hot: function hot() {\n    if (parsedResourceQuery.hot === \"false\") {\n      return;\n    }\n\n    options.hot = true;\n    log.info(\"Hot Module Replacement enabled.\");\n  },\n  liveReload: function liveReload() {\n    if (parsedResourceQuery[\"live-reload\"] === \"false\") {\n      return;\n    }\n\n    options.liveReload = true;\n    log.info(\"Live Reloading enabled.\");\n  },\n  invalid: function invalid() {\n    log.info(\"App updated. Recompiling...\"); // Fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\n\n    if (options.overlay) {\n      hide();\n    }\n\n    sendMessage(\"Invalid\");\n  },\n\n  /**\n   * @param {string} hash\n   */\n  hash: function hash(_hash) {\n    status.previousHash = status.currentHash;\n    status.currentHash = _hash;\n  },\n  logging: setAllLogLevel,\n\n  /**\n   * @param {boolean} value\n   */\n  overlay: function overlay(value) {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    options.overlay = value;\n  },\n\n  /**\n   * @param {number} value\n   */\n  reconnect: function reconnect(value) {\n    if (parsedResourceQuery.reconnect === \"false\") {\n      return;\n    }\n\n    options.reconnect = value;\n  },\n\n  /**\n   * @param {boolean} value\n   */\n  progress: function progress(value) {\n    options.progress = value;\n  },\n\n  /**\n   * @param {{ pluginName?: string, percent: number, msg: string }} data\n   */\n  \"progress-update\": function progressUpdate(data) {\n    if (options.progress) {\n      log.info(\"\".concat(data.pluginName ? \"[\".concat(data.pluginName, \"] \") : \"\").concat(data.percent, \"% - \").concat(data.msg, \".\"));\n    }\n\n    sendMessage(\"Progress\", data);\n  },\n  \"still-ok\": function stillOk() {\n    log.info(\"Nothing changed.\");\n\n    if (options.overlay) {\n      hide();\n    }\n\n    sendMessage(\"StillOk\");\n  },\n  ok: function ok() {\n    sendMessage(\"Ok\");\n\n    if (options.overlay) {\n      hide();\n    }\n\n    reloadApp(options, status);\n  },\n  // TODO: remove in v5 in favor of 'static-changed'\n\n  /**\n   * @param {string} file\n   */\n  \"content-changed\": function contentChanged(file) {\n    log.info(\"\".concat(file ? \"\\\"\".concat(file, \"\\\"\") : \"Content\", \" from static directory was changed. Reloading...\"));\n    self.location.reload();\n  },\n\n  /**\n   * @param {string} file\n   */\n  \"static-changed\": function staticChanged(file) {\n    log.info(\"\".concat(file ? \"\\\"\".concat(file, \"\\\"\") : \"Content\", \" from static directory was changed. Reloading...\"));\n    self.location.reload();\n  },\n\n  /**\n   * @param {Error[]} warnings\n   * @param {any} params\n   */\n  warnings: function warnings(_warnings, params) {\n    log.warn(\"Warnings while compiling.\");\n\n    var printableWarnings = _warnings.map(function (error) {\n      var _formatProblem = formatProblem(\"warning\", error),\n          header = _formatProblem.header,\n          body = _formatProblem.body;\n\n      return \"\".concat(header, \"\\n\").concat(stripAnsi(body));\n    });\n\n    sendMessage(\"Warnings\", printableWarnings);\n\n    for (var i = 0; i < printableWarnings.length; i++) {\n      log.warn(printableWarnings[i]);\n    }\n\n    var needShowOverlayForWarnings = typeof options.overlay === \"boolean\" ? options.overlay : options.overlay && options.overlay.warnings;\n\n    if (needShowOverlayForWarnings) {\n      show(\"warning\", _warnings);\n    }\n\n    if (params && params.preventReloading) {\n      return;\n    }\n\n    reloadApp(options, status);\n  },\n\n  /**\n   * @param {Error[]} errors\n   */\n  errors: function errors(_errors) {\n    log.error(\"Errors while compiling. Reload prevented.\");\n\n    var printableErrors = _errors.map(function (error) {\n      var _formatProblem2 = formatProblem(\"error\", error),\n          header = _formatProblem2.header,\n          body = _formatProblem2.body;\n\n      return \"\".concat(header, \"\\n\").concat(stripAnsi(body));\n    });\n\n    sendMessage(\"Errors\", printableErrors);\n\n    for (var i = 0; i < printableErrors.length; i++) {\n      log.error(printableErrors[i]);\n    }\n\n    var needShowOverlayForErrors = typeof options.overlay === \"boolean\" ? options.overlay : options.overlay && options.overlay.errors;\n\n    if (needShowOverlayForErrors) {\n      show(\"error\", _errors);\n    }\n  },\n\n  /**\n   * @param {Error} error\n   */\n  error: function error(_error) {\n    log.error(_error);\n  },\n  close: function close() {\n    log.info(\"Disconnected!\");\n\n    if (options.overlay) {\n      hide();\n    }\n\n    sendMessage(\"Close\");\n  }\n};\nvar socketURL = createSocketURL(parsedResourceQuery);\nsocket(socketURL, onSocketMessage, options.reconnect);","/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./client-src/modules/logger/SyncBailHookFake.js\":\n/*!*******************************************************!*\\\n  !*** ./client-src/modules/logger/SyncBailHookFake.js ***!\n  \\*******************************************************/\n/***/ (function(module) {\n\n\n/**\n * Client stub for tapable SyncBailHook\n */\n\nmodule.exports = function clientTapableSyncBailHook() {\n  return {\n    call: function call() {}\n  };\n};\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/lib/logging/Logger.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/webpack/lib/logging/Logger.js ***!\n  \\****************************************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof (typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; }) !== \"undefined\" && iter[(typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; }).iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nvar LogType = Object.freeze({\n  error:\n  /** @type {\"error\"} */\n  \"error\",\n  // message, c style arguments\n  warn:\n  /** @type {\"warn\"} */\n  \"warn\",\n  // message, c style arguments\n  info:\n  /** @type {\"info\"} */\n  \"info\",\n  // message, c style arguments\n  log:\n  /** @type {\"log\"} */\n  \"log\",\n  // message, c style arguments\n  debug:\n  /** @type {\"debug\"} */\n  \"debug\",\n  // message, c style arguments\n  trace:\n  /** @type {\"trace\"} */\n  \"trace\",\n  // no arguments\n  group:\n  /** @type {\"group\"} */\n  \"group\",\n  // [label]\n  groupCollapsed:\n  /** @type {\"groupCollapsed\"} */\n  \"groupCollapsed\",\n  // [label]\n  groupEnd:\n  /** @type {\"groupEnd\"} */\n  \"groupEnd\",\n  // [label]\n  profile:\n  /** @type {\"profile\"} */\n  \"profile\",\n  // [profileName]\n  profileEnd:\n  /** @type {\"profileEnd\"} */\n  \"profileEnd\",\n  // [profileName]\n  time:\n  /** @type {\"time\"} */\n  \"time\",\n  // name, time as [seconds, nanoseconds]\n  clear:\n  /** @type {\"clear\"} */\n  \"clear\",\n  // no arguments\n  status:\n  /** @type {\"status\"} */\n  \"status\" // message, arguments\n\n});\nexports.LogType = LogType;\n/** @typedef {typeof LogType[keyof typeof LogType]} LogTypeEnum */\n\nvar LOG_SYMBOL = (typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; })(\"webpack logger raw log method\");\nvar TIMERS_SYMBOL = (typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; })(\"webpack logger times\");\nvar TIMERS_AGGREGATES_SYMBOL = (typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; })(\"webpack logger aggregated times\");\n\nvar WebpackLogger = /*#__PURE__*/function () {\n  /**\n   * @param {function(LogTypeEnum, any[]=): void} log log function\n   * @param {function(string | function(): string): WebpackLogger} getChildLogger function to create child logger\n   */\n  function WebpackLogger(log, getChildLogger) {\n    _classCallCheck(this, WebpackLogger);\n\n    this[LOG_SYMBOL] = log;\n    this.getChildLogger = getChildLogger;\n  }\n\n  _createClass(WebpackLogger, [{\n    key: \"error\",\n    value: function error() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this[LOG_SYMBOL](LogType.error, args);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this[LOG_SYMBOL](LogType.warn, args);\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this[LOG_SYMBOL](LogType.info, args);\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this[LOG_SYMBOL](LogType.log, args);\n    }\n  }, {\n    key: \"debug\",\n    value: function debug() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this[LOG_SYMBOL](LogType.debug, args);\n    }\n  }, {\n    key: \"assert\",\n    value: function assert(assertion) {\n      if (!assertion) {\n        for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n          args[_key6 - 1] = arguments[_key6];\n        }\n\n        this[LOG_SYMBOL](LogType.error, args);\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      this[LOG_SYMBOL](LogType.trace, [\"Trace\"]);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this[LOG_SYMBOL](LogType.clear);\n    }\n  }, {\n    key: \"status\",\n    value: function status() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      this[LOG_SYMBOL](LogType.status, args);\n    }\n  }, {\n    key: \"group\",\n    value: function group() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      this[LOG_SYMBOL](LogType.group, args);\n    }\n  }, {\n    key: \"groupCollapsed\",\n    value: function groupCollapsed() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      this[LOG_SYMBOL](LogType.groupCollapsed, args);\n    }\n  }, {\n    key: \"groupEnd\",\n    value: function groupEnd() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      this[LOG_SYMBOL](LogType.groupEnd, args);\n    }\n  }, {\n    key: \"profile\",\n    value: function profile(label) {\n      this[LOG_SYMBOL](LogType.profile, [label]);\n    }\n  }, {\n    key: \"profileEnd\",\n    value: function profileEnd(label) {\n      this[LOG_SYMBOL](LogType.profileEnd, [label]);\n    }\n  }, {\n    key: \"time\",\n    value: function time(label) {\n      this[TIMERS_SYMBOL] = this[TIMERS_SYMBOL] || new Map();\n      this[TIMERS_SYMBOL].set(label, process.hrtime());\n    }\n  }, {\n    key: \"timeLog\",\n    value: function timeLog(label) {\n      var prev = this[TIMERS_SYMBOL] && this[TIMERS_SYMBOL].get(label);\n\n      if (!prev) {\n        throw new Error(\"No such label '\".concat(label, \"' for WebpackLogger.timeLog()\"));\n      }\n\n      var time = process.hrtime(prev);\n      this[LOG_SYMBOL](LogType.time, [label].concat(_toConsumableArray(time)));\n    }\n  }, {\n    key: \"timeEnd\",\n    value: function timeEnd(label) {\n      var prev = this[TIMERS_SYMBOL] && this[TIMERS_SYMBOL].get(label);\n\n      if (!prev) {\n        throw new Error(\"No such label '\".concat(label, \"' for WebpackLogger.timeEnd()\"));\n      }\n\n      var time = process.hrtime(prev);\n      this[TIMERS_SYMBOL].delete(label);\n      this[LOG_SYMBOL](LogType.time, [label].concat(_toConsumableArray(time)));\n    }\n  }, {\n    key: \"timeAggregate\",\n    value: function timeAggregate(label) {\n      var prev = this[TIMERS_SYMBOL] && this[TIMERS_SYMBOL].get(label);\n\n      if (!prev) {\n        throw new Error(\"No such label '\".concat(label, \"' for WebpackLogger.timeAggregate()\"));\n      }\n\n      var time = process.hrtime(prev);\n      this[TIMERS_SYMBOL].delete(label);\n      this[TIMERS_AGGREGATES_SYMBOL] = this[TIMERS_AGGREGATES_SYMBOL] || new Map();\n      var current = this[TIMERS_AGGREGATES_SYMBOL].get(label);\n\n      if (current !== undefined) {\n        if (time[1] + current[1] > 1e9) {\n          time[0] += current[0] + 1;\n          time[1] = time[1] - 1e9 + current[1];\n        } else {\n          time[0] += current[0];\n          time[1] += current[1];\n        }\n      }\n\n      this[TIMERS_AGGREGATES_SYMBOL].set(label, time);\n    }\n  }, {\n    key: \"timeAggregateEnd\",\n    value: function timeAggregateEnd(label) {\n      if (this[TIMERS_AGGREGATES_SYMBOL] === undefined) return;\n      var time = this[TIMERS_AGGREGATES_SYMBOL].get(label);\n      if (time === undefined) return;\n      this[TIMERS_AGGREGATES_SYMBOL].delete(label);\n      this[LOG_SYMBOL](LogType.time, [label].concat(_toConsumableArray(time)));\n    }\n  }]);\n\n  return WebpackLogger;\n}();\n\nexports.Logger = WebpackLogger;\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/lib/logging/createConsoleLogger.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/webpack/lib/logging/createConsoleLogger.js ***!\n  \\*****************************************************************/\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof (typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; }) !== \"undefined\" && iter[(typeof Symbol !== \"undefined\" ? Symbol : function (i) { return i; }).iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar _require = __webpack_require__(/*! ./Logger */ \"./node_modules/webpack/lib/logging/Logger.js\"),\n    LogType = _require.LogType;\n/** @typedef {import(\"../../declarations/WebpackOptions\").FilterItemTypes} FilterItemTypes */\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").FilterTypes} FilterTypes */\n\n/** @typedef {import(\"./Logger\").LogTypeEnum} LogTypeEnum */\n\n/** @typedef {function(string): boolean} FilterFunction */\n\n/**\n * @typedef {Object} LoggerConsole\n * @property {function(): void} clear\n * @property {function(): void} trace\n * @property {(...args: any[]) => void} info\n * @property {(...args: any[]) => void} log\n * @property {(...args: any[]) => void} warn\n * @property {(...args: any[]) => void} error\n * @property {(...args: any[]) => void=} debug\n * @property {(...args: any[]) => void=} group\n * @property {(...args: any[]) => void=} groupCollapsed\n * @property {(...args: any[]) => void=} groupEnd\n * @property {(...args: any[]) => void=} status\n * @property {(...args: any[]) => void=} profile\n * @property {(...args: any[]) => void=} profileEnd\n * @property {(...args: any[]) => void=} logTime\n */\n\n/**\n * @typedef {Object} LoggerOptions\n * @property {false|true|\"none\"|\"error\"|\"warn\"|\"info\"|\"log\"|\"verbose\"} level loglevel\n * @property {FilterTypes|boolean} debug filter for debug logging\n * @property {LoggerConsole} console the console to log to\n */\n\n/**\n * @param {FilterItemTypes} item an input item\n * @returns {FilterFunction} filter function\n */\n\n\nvar filterToFunction = function filterToFunction(item) {\n  if (typeof item === \"string\") {\n    var regExp = new RegExp(\"[\\\\\\\\/]\".concat(item.replace( // eslint-disable-next-line no-useless-escape\n    /[-[\\]{}()*+?.\\\\^$|]/g, \"\\\\$&\"), \"([\\\\\\\\/]|$|!|\\\\?)\"));\n    return function (ident) {\n      return regExp.test(ident);\n    };\n  }\n\n  if (item && typeof item === \"object\" && typeof item.test === \"function\") {\n    return function (ident) {\n      return item.test(ident);\n    };\n  }\n\n  if (typeof item === \"function\") {\n    return item;\n  }\n\n  if (typeof item === \"boolean\") {\n    return function () {\n      return item;\n    };\n  }\n};\n/**\n * @enum {number}\n */\n\n\nvar LogLevel = {\n  none: 6,\n  false: 6,\n  error: 5,\n  warn: 4,\n  info: 3,\n  log: 2,\n  true: 2,\n  verbose: 1\n};\n/**\n * @param {LoggerOptions} options options object\n * @returns {function(string, LogTypeEnum, any[]): void} logging function\n */\n\nmodule.exports = function (_ref) {\n  var _ref$level = _ref.level,\n      level = _ref$level === void 0 ? \"info\" : _ref$level,\n      _ref$debug = _ref.debug,\n      debug = _ref$debug === void 0 ? false : _ref$debug,\n      console = _ref.console;\n  var debugFilters = typeof debug === \"boolean\" ? [function () {\n    return debug;\n  }] :\n  /** @type {FilterItemTypes[]} */\n  [].concat(debug).map(filterToFunction);\n  /** @type {number} */\n\n  var loglevel = LogLevel[\"\".concat(level)] || 0;\n  /**\n   * @param {string} name name of the logger\n   * @param {LogTypeEnum} type type of the log entry\n   * @param {any[]} args arguments of the log entry\n   * @returns {void}\n   */\n\n  var logger = function logger(name, type, args) {\n    var labeledArgs = function labeledArgs() {\n      if (Array.isArray(args)) {\n        if (args.length > 0 && typeof args[0] === \"string\") {\n          return [\"[\".concat(name, \"] \").concat(args[0])].concat(_toConsumableArray(args.slice(1)));\n        } else {\n          return [\"[\".concat(name, \"]\")].concat(_toConsumableArray(args));\n        }\n      } else {\n        return [];\n      }\n    };\n\n    var debug = debugFilters.some(function (f) {\n      return f(name);\n    });\n\n    switch (type) {\n      case LogType.debug:\n        if (!debug) return; // eslint-disable-next-line node/no-unsupported-features/node-builtins\n\n        if (typeof console.debug === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.debug.apply(console, _toConsumableArray(labeledArgs()));\n        } else {\n          console.log.apply(console, _toConsumableArray(labeledArgs()));\n        }\n\n        break;\n\n      case LogType.log:\n        if (!debug && loglevel > LogLevel.log) return;\n        console.log.apply(console, _toConsumableArray(labeledArgs()));\n        break;\n\n      case LogType.info:\n        if (!debug && loglevel > LogLevel.info) return;\n        console.info.apply(console, _toConsumableArray(labeledArgs()));\n        break;\n\n      case LogType.warn:\n        if (!debug && loglevel > LogLevel.warn) return;\n        console.warn.apply(console, _toConsumableArray(labeledArgs()));\n        break;\n\n      case LogType.error:\n        if (!debug && loglevel > LogLevel.error) return;\n        console.error.apply(console, _toConsumableArray(labeledArgs()));\n        break;\n\n      case LogType.trace:\n        if (!debug) return;\n        console.trace();\n        break;\n\n      case LogType.groupCollapsed:\n        if (!debug && loglevel > LogLevel.log) return;\n\n        if (!debug && loglevel > LogLevel.verbose) {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          if (typeof console.groupCollapsed === \"function\") {\n            // eslint-disable-next-line node/no-unsupported-features/node-builtins\n            console.groupCollapsed.apply(console, _toConsumableArray(labeledArgs()));\n          } else {\n            console.log.apply(console, _toConsumableArray(labeledArgs()));\n          }\n\n          break;\n        }\n\n      // falls through\n\n      case LogType.group:\n        if (!debug && loglevel > LogLevel.log) return; // eslint-disable-next-line node/no-unsupported-features/node-builtins\n\n        if (typeof console.group === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.group.apply(console, _toConsumableArray(labeledArgs()));\n        } else {\n          console.log.apply(console, _toConsumableArray(labeledArgs()));\n        }\n\n        break;\n\n      case LogType.groupEnd:\n        if (!debug && loglevel > LogLevel.log) return; // eslint-disable-next-line node/no-unsupported-features/node-builtins\n\n        if (typeof console.groupEnd === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.groupEnd();\n        }\n\n        break;\n\n      case LogType.time:\n        {\n          if (!debug && loglevel > LogLevel.log) return;\n          var ms = args[1] * 1000 + args[2] / 1000000;\n          var msg = \"[\".concat(name, \"] \").concat(args[0], \": \").concat(ms, \" ms\");\n\n          if (typeof console.logTime === \"function\") {\n            console.logTime(msg);\n          } else {\n            console.log(msg);\n          }\n\n          break;\n        }\n\n      case LogType.profile:\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        if (typeof console.profile === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.profile.apply(console, _toConsumableArray(labeledArgs()));\n        }\n\n        break;\n\n      case LogType.profileEnd:\n        // eslint-disable-next-line node/no-unsupported-features/node-builtins\n        if (typeof console.profileEnd === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.profileEnd.apply(console, _toConsumableArray(labeledArgs()));\n        }\n\n        break;\n\n      case LogType.clear:\n        if (!debug && loglevel > LogLevel.log) return; // eslint-disable-next-line node/no-unsupported-features/node-builtins\n\n        if (typeof console.clear === \"function\") {\n          // eslint-disable-next-line node/no-unsupported-features/node-builtins\n          console.clear();\n        }\n\n        break;\n\n      case LogType.status:\n        if (!debug && loglevel > LogLevel.info) return;\n\n        if (typeof console.status === \"function\") {\n          if (args.length === 0) {\n            console.status();\n          } else {\n            console.status.apply(console, _toConsumableArray(labeledArgs()));\n          }\n        } else {\n          if (args.length !== 0) {\n            console.info.apply(console, _toConsumableArray(labeledArgs()));\n          }\n        }\n\n        break;\n\n      default:\n        throw new Error(\"Unexpected LogType \".concat(type));\n    }\n  };\n\n  return logger;\n};\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/lib/logging/runtime.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/webpack/lib/logging/runtime.js ***!\n  \\*****************************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar SyncBailHook = __webpack_require__(/*! tapable/lib/SyncBailHook */ \"./client-src/modules/logger/SyncBailHookFake.js\");\n\nvar _require = __webpack_require__(/*! ./Logger */ \"./node_modules/webpack/lib/logging/Logger.js\"),\n    Logger = _require.Logger;\n\nvar createConsoleLogger = __webpack_require__(/*! ./createConsoleLogger */ \"./node_modules/webpack/lib/logging/createConsoleLogger.js\");\n/** @type {createConsoleLogger.LoggerOptions} */\n\n\nvar currentDefaultLoggerOptions = {\n  level: \"info\",\n  debug: false,\n  console: console\n};\nvar currentDefaultLogger = createConsoleLogger(currentDefaultLoggerOptions);\n/**\n * @param {string} name name of the logger\n * @returns {Logger} a logger\n */\n\nexports.getLogger = function (name) {\n  return new Logger(function (type, args) {\n    if (exports.hooks.log.call(name, type, args) === undefined) {\n      currentDefaultLogger(name, type, args);\n    }\n  }, function (childName) {\n    return exports.getLogger(\"\".concat(name, \"/\").concat(childName));\n  });\n};\n/**\n * @param {createConsoleLogger.LoggerOptions} options new options, merge with old options\n * @returns {void}\n */\n\n\nexports.configureDefaultLogger = function (options) {\n  _extends(currentDefaultLoggerOptions, options);\n\n  currentDefaultLogger = createConsoleLogger(currentDefaultLoggerOptions);\n};\n\nexports.hooks = {\n  log: new SyncBailHook([\"origin\", \"type\", \"args\"])\n};\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.\n!function() {\n/*!********************************************!*\\\n  !*** ./client-src/modules/logger/index.js ***!\n  \\********************************************/\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* reexport default export from named module */ webpack_lib_logging_runtime_js__WEBPACK_IMPORTED_MODULE_0__; }\n/* harmony export */ });\n/* harmony import */ var webpack_lib_logging_runtime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webpack/lib/logging/runtime.js */ \"./node_modules/webpack/lib/logging/runtime.js\");\n\n}();\nvar __webpack_export_target__ = exports;\nfor(var i in __webpack_exports__) __webpack_export_target__[i] = __webpack_exports__[i];\nif(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, \"__esModule\", { value: true });\n/******/ })()\n;","// The error overlay is inspired (and mostly copied) from Create React App (https://github.com/facebookincubator/create-react-app)\n// They, in turn, got inspired by webpack-hot-middleware (https://github.com/glenjamin/webpack-hot-middleware).\nimport ansiHTML from \"ansi-html-community\";\nimport { encode } from \"html-entities\";\nvar colors = {\n  reset: [\"transparent\", \"transparent\"],\n  black: \"181818\",\n  red: \"E36049\",\n  green: \"B3CB74\",\n  yellow: \"FFD080\",\n  blue: \"7CAFC2\",\n  magenta: \"7FACCA\",\n  cyan: \"C3C2EF\",\n  lightgrey: \"EBE7E3\",\n  darkgrey: \"6D7891\"\n};\n/** @type {HTMLIFrameElement | null | undefined} */\n\nvar iframeContainerElement;\n/** @type {HTMLDivElement | null | undefined} */\n\nvar containerElement;\n/** @type {Array<(element: HTMLDivElement) => void>} */\n\nvar onLoadQueue = [];\nansiHTML.setColors(colors);\n\nfunction createContainer() {\n  iframeContainerElement = document.createElement(\"iframe\");\n  iframeContainerElement.id = \"webpack-dev-server-client-overlay\";\n  iframeContainerElement.src = \"about:blank\";\n  iframeContainerElement.style.position = \"fixed\";\n  iframeContainerElement.style.left = 0;\n  iframeContainerElement.style.top = 0;\n  iframeContainerElement.style.right = 0;\n  iframeContainerElement.style.bottom = 0;\n  iframeContainerElement.style.width = \"100vw\";\n  iframeContainerElement.style.height = \"100vh\";\n  iframeContainerElement.style.border = \"none\";\n  iframeContainerElement.style.zIndex = 9999999999;\n\n  iframeContainerElement.onload = function () {\n    containerElement =\n    /** @type {Document} */\n\n    /** @type {HTMLIFrameElement} */\n    iframeContainerElement.contentDocument.createElement(\"div\");\n    containerElement.id = \"webpack-dev-server-client-overlay-div\";\n    containerElement.style.position = \"fixed\";\n    containerElement.style.boxSizing = \"border-box\";\n    containerElement.style.left = 0;\n    containerElement.style.top = 0;\n    containerElement.style.right = 0;\n    containerElement.style.bottom = 0;\n    containerElement.style.width = \"100vw\";\n    containerElement.style.height = \"100vh\";\n    containerElement.style.backgroundColor = \"rgba(0, 0, 0, 0.85)\";\n    containerElement.style.color = \"#E8E8E8\";\n    containerElement.style.fontFamily = \"Menlo, Consolas, monospace\";\n    containerElement.style.fontSize = \"large\";\n    containerElement.style.padding = \"2rem\";\n    containerElement.style.lineHeight = \"1.2\";\n    containerElement.style.whiteSpace = \"pre-wrap\";\n    containerElement.style.overflow = \"auto\";\n    var headerElement = document.createElement(\"span\");\n    headerElement.innerText = \"Compiled with problems:\";\n    var closeButtonElement = document.createElement(\"button\");\n    closeButtonElement.innerText = \"X\";\n    closeButtonElement.style.background = \"transparent\";\n    closeButtonElement.style.border = \"none\";\n    closeButtonElement.style.fontSize = \"20px\";\n    closeButtonElement.style.fontWeight = \"bold\";\n    closeButtonElement.style.color = \"white\";\n    closeButtonElement.style.cursor = \"pointer\";\n    closeButtonElement.style.cssFloat = \"right\"; // @ts-ignore\n\n    closeButtonElement.style.styleFloat = \"right\";\n    closeButtonElement.addEventListener(\"click\", function () {\n      hide();\n    });\n    containerElement.appendChild(headerElement);\n    containerElement.appendChild(closeButtonElement);\n    containerElement.appendChild(document.createElement(\"br\"));\n    containerElement.appendChild(document.createElement(\"br\"));\n    /** @type {Document} */\n\n    /** @type {HTMLIFrameElement} */\n    iframeContainerElement.contentDocument.body.appendChild(containerElement);\n    onLoadQueue.forEach(function (onLoad) {\n      onLoad(\n      /** @type {HTMLDivElement} */\n      containerElement);\n    });\n    onLoadQueue = [];\n    /** @type {HTMLIFrameElement} */\n\n    iframeContainerElement.onload = null;\n  };\n\n  document.body.appendChild(iframeContainerElement);\n}\n/**\n * @param {(element: HTMLDivElement) => void} callback\n */\n\n\nfunction ensureOverlayExists(callback) {\n  if (containerElement) {\n    // Everything is ready, call the callback right away.\n    callback(containerElement);\n    return;\n  }\n\n  onLoadQueue.push(callback);\n\n  if (iframeContainerElement) {\n    return;\n  }\n\n  createContainer();\n} // Successful compilation.\n\n\nfunction hide() {\n  if (!iframeContainerElement) {\n    return;\n  } // Clean up and reset internal state.\n\n\n  document.body.removeChild(iframeContainerElement);\n  iframeContainerElement = null;\n  containerElement = null;\n}\n/**\n * @param {string} type\n * @param {string  | { file?: string, moduleName?: string, loc?: string, message?: string }} item\n * @returns {{ header: string, body: string }}\n */\n\n\nfunction formatProblem(type, item) {\n  var header = type === \"warning\" ? \"WARNING\" : \"ERROR\";\n  var body = \"\";\n\n  if (typeof item === \"string\") {\n    body += item;\n  } else {\n    var file = item.file || \"\"; // eslint-disable-next-line no-nested-ternary\n\n    var moduleName = item.moduleName ? item.moduleName.indexOf(\"!\") !== -1 ? \"\".concat(item.moduleName.replace(/^(\\s|\\S)*!/, \"\"), \" (\").concat(item.moduleName, \")\") : \"\".concat(item.moduleName) : \"\";\n    var loc = item.loc;\n    header += \"\".concat(moduleName || file ? \" in \".concat(moduleName ? \"\".concat(moduleName).concat(file ? \" (\".concat(file, \")\") : \"\") : file).concat(loc ? \" \".concat(loc) : \"\") : \"\");\n    body += item.message || \"\";\n  }\n\n  return {\n    header: header,\n    body: body\n  };\n} // Compilation with errors (e.g. syntax error or missing modules).\n\n/**\n * @param {string} type\n * @param {Array<string  | { file?: string, moduleName?: string, loc?: string, message?: string }>} messages\n */\n\n\nfunction show(type, messages) {\n  ensureOverlayExists(function () {\n    messages.forEach(function (message) {\n      var entryElement = document.createElement(\"div\");\n      var typeElement = document.createElement(\"span\");\n\n      var _formatProblem = formatProblem(type, message),\n          header = _formatProblem.header,\n          body = _formatProblem.body;\n\n      typeElement.innerText = header;\n      typeElement.style.color = \"#\".concat(colors.red); // Make it look similar to our terminal.\n\n      var text = ansiHTML(encode(body));\n      var messageTextNode = document.createElement(\"div\");\n      messageTextNode.innerHTML = text;\n      entryElement.appendChild(typeElement);\n      entryElement.appendChild(document.createElement(\"br\"));\n      entryElement.appendChild(document.createElement(\"br\"));\n      entryElement.appendChild(messageTextNode);\n      entryElement.appendChild(document.createElement(\"br\"));\n      entryElement.appendChild(document.createElement(\"br\"));\n      /** @type {HTMLDivElement} */\n\n      containerElement.appendChild(entryElement);\n    });\n  });\n}\n\nexport { formatProblem, show, hide };","/* global __webpack_dev_server_client__ */\nimport WebSocketClient from \"./clients/WebSocketClient.js\";\nimport { log } from \"./utils/log.js\"; // this WebsocketClient is here as a default fallback, in case the client is not injected\n\n/* eslint-disable camelcase */\n\nvar Client = // eslint-disable-next-line no-nested-ternary\ntypeof __webpack_dev_server_client__ !== \"undefined\" ? typeof __webpack_dev_server_client__.default !== \"undefined\" ? __webpack_dev_server_client__.default : __webpack_dev_server_client__ : WebSocketClient;\n/* eslint-enable camelcase */\n\nvar retries = 0;\nvar maxRetries = 10; // Initialized client is exported so external consumers can utilize the same instance\n// It is mutable to enforce singleton\n// eslint-disable-next-line import/no-mutable-exports\n\nexport var client = null;\n/**\n * @param {string} url\n * @param {{ [handler: string]: (data?: any, params?: any) => any }} handlers\n * @param {number} [reconnect]\n */\n\nvar socket = function initSocket(url, handlers, reconnect) {\n  client = new Client(url);\n  client.onOpen(function () {\n    retries = 0;\n\n    if (typeof reconnect !== \"undefined\") {\n      maxRetries = reconnect;\n    }\n  });\n  client.onClose(function () {\n    if (retries === 0) {\n      handlers.close();\n    } // Try to reconnect.\n\n\n    client = null; // After 10 retries stop trying, to prevent logspam.\n\n    if (retries < maxRetries) {\n      // Exponentially increase timeout to reconnect.\n      // Respectfully copied from the package `got`.\n      // eslint-disable-next-line no-restricted-properties\n      var retryInMs = 1000 * Math.pow(2, retries) + Math.random() * 100;\n      retries += 1;\n      log.info(\"Trying to reconnect...\");\n      setTimeout(function () {\n        socket(url, handlers, reconnect);\n      }, retryInMs);\n    }\n  });\n  client.onMessage(\n  /**\n   * @param {any} data\n   */\n  function (data) {\n    var message = JSON.parse(data);\n\n    if (handlers[message.type]) {\n      handlers[message.type](message.data, message.params);\n    }\n  });\n};\n\nexport default socket;","/**\n * @param {{ protocol?: string, auth?: string, hostname?: string, port?: string, pathname?: string, search?: string, hash?: string, slashes?: boolean }} objURL\n * @returns {string}\n */\nfunction format(objURL) {\n  var protocol = objURL.protocol || \"\";\n\n  if (protocol && !protocol.endsWith(\":\")) {\n    protocol += \":\";\n  }\n\n  var auth = objURL.auth || \"\";\n\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, \":\");\n    auth += \"@\";\n  }\n\n  var host = \"\";\n\n  if (objURL.hostname) {\n    host = auth + (objURL.hostname.indexOf(\":\") === -1 ? objURL.hostname : \"[\".concat(objURL.hostname, \"]\"));\n\n    if (objURL.port) {\n      host += \":\".concat(objURL.port);\n    }\n  }\n\n  var pathname = objURL.pathname || \"\";\n\n  if (objURL.slashes) {\n    host = \"//\".concat(host || \"\");\n\n    if (pathname && pathname.charAt(0) !== \"/\") {\n      pathname = \"/\".concat(pathname);\n    }\n  } else if (!host) {\n    host = \"\";\n  }\n\n  var search = objURL.search || \"\";\n\n  if (search && search.charAt(0) !== \"?\") {\n    search = \"?\".concat(search);\n  }\n\n  var hash = objURL.hash || \"\";\n\n  if (hash && hash.charAt(0) !== \"#\") {\n    hash = \"#\".concat(hash);\n  }\n\n  pathname = pathname.replace(/[?#]/g,\n  /**\n   * @param {string} match\n   * @returns {string}\n   */\n  function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace(\"#\", \"%23\");\n  return \"\".concat(protocol).concat(host).concat(pathname).concat(search).concat(hash);\n}\n/**\n * @param {URL & { fromCurrentScript?: boolean }} parsedURL\n * @returns {string}\n */\n\n\nfunction createSocketURL(parsedURL) {\n  var hostname = parsedURL.hostname; // Node.js module parses it as `::`\n  // `new URL(urlString, [baseURLString])` parses it as '[::]'\n\n  var isInAddrAny = hostname === \"0.0.0.0\" || hostname === \"::\" || hostname === \"[::]\"; // why do we need this check?\n  // hostname n/a for file protocol (example, when using electron, ionic)\n  // see: https://github.com/webpack/webpack-dev-server/pull/384\n\n  if (isInAddrAny && self.location.hostname && self.location.protocol.indexOf(\"http\") === 0) {\n    hostname = self.location.hostname;\n  }\n\n  var socketURLProtocol = parsedURL.protocol || self.location.protocol; // When https is used in the app, secure web sockets are always necessary because the browser doesn't accept non-secure web sockets.\n\n  if (socketURLProtocol === \"auto:\" || hostname && isInAddrAny && self.location.protocol === \"https:\") {\n    socketURLProtocol = self.location.protocol;\n  }\n\n  socketURLProtocol = socketURLProtocol.replace(/^(?:http|.+-extension|file)/i, \"ws\");\n  var socketURLAuth = \"\"; // `new URL(urlString, [baseURLstring])` doesn't have `auth` property\n  // Parse authentication credentials in case we need them\n\n  if (parsedURL.username) {\n    socketURLAuth = parsedURL.username; // Since HTTP basic authentication does not allow empty username,\n    // we only include password if the username is not empty.\n\n    if (parsedURL.password) {\n      // Result: <username>:<password>\n      socketURLAuth = socketURLAuth.concat(\":\", parsedURL.password);\n    }\n  } // In case the host is a raw IPv6 address, it can be enclosed in\n  // the brackets as the brackets are needed in the final URL string.\n  // Need to remove those as url.format blindly adds its own set of brackets\n  // if the host string contains colons. That would lead to non-working\n  // double brackets (e.g. [[::]]) host\n  //\n  // All of these web socket url params are optionally passed in through resourceQuery,\n  // so we need to fall back to the default if they are not provided\n\n\n  var socketURLHostname = (hostname || self.location.hostname || \"localhost\").replace(/^\\[(.*)\\]$/, \"$1\");\n  var socketURLPort = parsedURL.port;\n\n  if (!socketURLPort || socketURLPort === \"0\") {\n    socketURLPort = self.location.port;\n  } // If path is provided it'll be passed in via the resourceQuery as a\n  // query param so it has to be parsed out of the querystring in order for the\n  // client to open the socket to the correct location.\n\n\n  var socketURLPathname = \"/ws\";\n\n  if (parsedURL.pathname && !parsedURL.fromCurrentScript) {\n    socketURLPathname = parsedURL.pathname;\n  }\n\n  return format({\n    protocol: socketURLProtocol,\n    auth: socketURLAuth,\n    hostname: socketURLHostname,\n    port: socketURLPort,\n    pathname: socketURLPathname,\n    slashes: true\n  });\n}\n\nexport default createSocketURL;","/**\n * @returns {string}\n */\nfunction getCurrentScriptSource() {\n  // `document.currentScript` is the most accurate way to find the current script,\n  // but is not supported in all browsers.\n  if (document.currentScript) {\n    return document.currentScript.getAttribute(\"src\");\n  } // Fallback to getting all scripts running in the document.\n\n\n  var scriptElements = document.scripts || [];\n  var scriptElementsWithSrc = Array.prototype.filter.call(scriptElements, function (element) {\n    return element.getAttribute(\"src\");\n  });\n\n  if (scriptElementsWithSrc.length > 0) {\n    var currentScript = scriptElementsWithSrc[scriptElementsWithSrc.length - 1];\n    return currentScript.getAttribute(\"src\");\n  } // Fail as there was no script to use.\n\n\n  throw new Error(\"[webpack-dev-server] Failed to get current script source.\");\n}\n\nexport default getCurrentScriptSource;","import logger from \"../modules/logger/index.js\";\nvar name = \"webpack-dev-server\"; // default level is set on the client side, so it does not need\n// to be set by the CLI or API\n\nvar defaultLevel = \"info\"; // options new options, merge with old options\n\n/**\n * @param {false | true | \"none\" | \"error\" | \"warn\" | \"info\" | \"log\" | \"verbose\"} level\n * @returns {void}\n */\n\nfunction setLogLevel(level) {\n  logger.configureDefaultLogger({\n    level: level\n  });\n}\n\nsetLogLevel(defaultLevel);\nvar log = logger.getLogger(name);\nexport { log, setLogLevel };","import getCurrentScriptSource from \"./getCurrentScriptSource.js\";\n/**\n * @param {string} resourceQuery\n * @returns {{ [key: string]: string | boolean }}\n */\n\nfunction parseURL(resourceQuery) {\n  /** @type {{ [key: string]: string }} */\n  var options = {};\n\n  if (typeof resourceQuery === \"string\" && resourceQuery !== \"\") {\n    var searchParams = resourceQuery.slice(1).split(\"&\");\n\n    for (var i = 0; i < searchParams.length; i++) {\n      var pair = searchParams[i].split(\"=\");\n      options[pair[0]] = decodeURIComponent(pair[1]);\n    }\n  } else {\n    // Else, get the url from the <script> this file was called with.\n    var scriptSource = getCurrentScriptSource();\n    var scriptSourceURL;\n\n    try {\n      // The placeholder `baseURL` with `window.location.href`,\n      // is to allow parsing of path-relative or protocol-relative URLs,\n      // and will have no effect if `scriptSource` is a fully valid URL.\n      scriptSourceURL = new URL(scriptSource, self.location.href);\n    } catch (error) {// URL parsing failed, do nothing.\n      // We will still proceed to see if we can recover using `resourceQuery`\n    }\n\n    if (scriptSourceURL) {\n      options = scriptSourceURL;\n      options.fromCurrentScript = true;\n    }\n  }\n\n  return options;\n}\n\nexport default parseURL;","import hotEmitter from \"webpack/hot/emitter.js\";\nimport { log } from \"./log.js\";\n/** @typedef {import(\"../index\").Options} Options\n/** @typedef {import(\"../index\").Status} Status\n\n/**\n * @param {Options} options\n * @param {Status} status\n */\n\nfunction reloadApp(_ref, status) {\n  var hot = _ref.hot,\n      liveReload = _ref.liveReload;\n\n  if (status.isUnloading) {\n    return;\n  }\n\n  var currentHash = status.currentHash,\n      previousHash = status.previousHash;\n  var isInitial = currentHash.indexOf(\n  /** @type {string} */\n  previousHash) >= 0;\n\n  if (isInitial) {\n    return;\n  }\n  /**\n   * @param {Window} rootWindow\n   * @param {number} intervalId\n   */\n\n\n  function applyReload(rootWindow, intervalId) {\n    clearInterval(intervalId);\n    log.info(\"App updated. Reloading...\");\n    rootWindow.location.reload();\n  }\n\n  var search = self.location.search.toLowerCase();\n  var allowToHot = search.indexOf(\"webpack-dev-server-hot=false\") === -1;\n  var allowToLiveReload = search.indexOf(\"webpack-dev-server-live-reload=false\") === -1;\n\n  if (hot && allowToHot) {\n    log.info(\"App hot update...\");\n    hotEmitter.emit(\"webpackHotUpdate\", status.currentHash);\n\n    if (typeof self !== \"undefined\" && self.window) {\n      // broadcast update to window\n      self.postMessage(\"webpackHotUpdate\".concat(status.currentHash), \"*\");\n    }\n  } // allow refreshing the page only if liveReload isn't disabled\n  else if (liveReload && allowToLiveReload) {\n    var rootWindow = self; // use parent window for reload (in case we're in an iframe with no valid src)\n\n    var intervalId = self.setInterval(function () {\n      if (rootWindow.location.protocol !== \"about:\") {\n        // reload immediately if protocol is valid\n        applyReload(rootWindow, intervalId);\n      } else {\n        rootWindow = rootWindow.parent;\n\n        if (rootWindow.parent === rootWindow) {\n          // if parent equals current window we've reached the root which would continue forever, so trigger a reload anyways\n          applyReload(rootWindow, intervalId);\n        }\n      }\n    });\n  }\n}\n\nexport default reloadApp;","/* global __resourceQuery WorkerGlobalScope */\n// Send messages to the outside, so plugins can consume it.\n\n/**\n * @param {string} type\n * @param {any} [data]\n */\nfunction sendMsg(type, data) {\n  if (typeof self !== \"undefined\" && (typeof WorkerGlobalScope === \"undefined\" || !(self instanceof WorkerGlobalScope))) {\n    self.postMessage({\n      type: \"webpack\".concat(type),\n      data: data\n    }, \"*\");\n  }\n}\n\nexport default sendMsg;","var ansiRegex = new RegExp([\"[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]+)*|[a-zA-Z\\\\d]+(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)\", \"(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-nq-uy=><~]))\"].join(\"|\"), \"g\");\n/**\n *\n * Strip [ANSI escape codes](https://en.wikipedia.org/wiki/ANSI_escape_code) from a string.\n * Adapted from code originally released by Sindre Sorhus\n * Licensed the MIT License\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction stripAnsi(string) {\n  if (typeof string !== \"string\") {\n    throw new TypeError(\"Expected a `string`, got `\".concat(typeof string, \"`\"));\n  }\n\n  return string.replace(ansiRegex, \"\");\n}\n\nexport default stripAnsi;","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n/* globals __webpack_hash__ */\nif (module.hot) {\n\tvar lastHash;\n\tvar upToDate = function upToDate() {\n\t\treturn lastHash.indexOf(__webpack_hash__) >= 0;\n\t};\n\tvar log = require(\"./log\");\n\tvar check = function check() {\n\t\tmodule.hot\n\t\t\t.check(true)\n\t\t\t.then(function (updatedModules) {\n\t\t\t\tif (!updatedModules) {\n\t\t\t\t\tlog(\"warning\", \"[HMR] Cannot find update. Need to do a full reload!\");\n\t\t\t\t\tlog(\n\t\t\t\t\t\t\"warning\",\n\t\t\t\t\t\t\"[HMR] (Probably because of restarting the webpack-dev-server)\"\n\t\t\t\t\t);\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!upToDate()) {\n\t\t\t\t\tcheck();\n\t\t\t\t}\n\n\t\t\t\trequire(\"./log-apply-result\")(updatedModules, updatedModules);\n\n\t\t\t\tif (upToDate()) {\n\t\t\t\t\tlog(\"info\", \"[HMR] App is up to date.\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (err) {\n\t\t\t\tvar status = module.hot.status();\n\t\t\t\tif ([\"abort\", \"fail\"].indexOf(status) >= 0) {\n\t\t\t\t\tlog(\n\t\t\t\t\t\t\"warning\",\n\t\t\t\t\t\t\"[HMR] Cannot apply update. Need to do a full reload!\"\n\t\t\t\t\t);\n\t\t\t\t\tlog(\"warning\", \"[HMR] \" + log.formatError(err));\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\tlog(\"warning\", \"[HMR] Update failed: \" + log.formatError(err));\n\t\t\t\t}\n\t\t\t});\n\t};\n\tvar hotEmitter = require(\"./emitter\");\n\thotEmitter.on(\"webpackHotUpdate\", function (currentHash) {\n\t\tlastHash = currentHash;\n\t\tif (!upToDate() && module.hot.status() === \"idle\") {\n\t\t\tlog(\"info\", \"[HMR] Checking for updates on the server...\");\n\t\t\tcheck();\n\t\t}\n\t});\n\tlog(\"info\", \"[HMR] Waiting for update signal from WDS...\");\n} else {\n\tthrow new Error(\"[HMR] Hot Module Replacement is disabled.\");\n}\n","var EventEmitter = require(\"events\");\nmodule.exports = new EventEmitter();\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nmodule.exports = function (updatedModules, renewedModules) {\n\tvar unacceptedModules = updatedModules.filter(function (moduleId) {\n\t\treturn renewedModules && renewedModules.indexOf(moduleId) < 0;\n\t});\n\tvar log = require(\"./log\");\n\n\tif (unacceptedModules.length > 0) {\n\t\tlog(\n\t\t\t\"warning\",\n\t\t\t\"[HMR] The following modules couldn't be hot updated: (They would need a full reload!)\"\n\t\t);\n\t\tunacceptedModules.forEach(function (moduleId) {\n\t\t\tlog(\"warning\", \"[HMR]  - \" + moduleId);\n\t\t});\n\t}\n\n\tif (!renewedModules || renewedModules.length === 0) {\n\t\tlog(\"info\", \"[HMR] Nothing hot updated.\");\n\t} else {\n\t\tlog(\"info\", \"[HMR] Updated modules:\");\n\t\trenewedModules.forEach(function (moduleId) {\n\t\t\tif (typeof moduleId === \"string\" && moduleId.indexOf(\"!\") !== -1) {\n\t\t\t\tvar parts = moduleId.split(\"!\");\n\t\t\t\tlog.groupCollapsed(\"info\", \"[HMR]  - \" + parts.pop());\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t\tlog.groupEnd(\"info\");\n\t\t\t} else {\n\t\t\t\tlog(\"info\", \"[HMR]  - \" + moduleId);\n\t\t\t}\n\t\t});\n\t\tvar numberIds = renewedModules.every(function (moduleId) {\n\t\t\treturn typeof moduleId === \"number\";\n\t\t});\n\t\tif (numberIds)\n\t\t\tlog(\n\t\t\t\t\"info\",\n\t\t\t\t'[HMR] Consider using the optimization.moduleIds: \"named\" for module names.'\n\t\t\t);\n\t}\n};\n","var logLevel = \"info\";\n\nfunction dummy() {}\n\nfunction shouldLog(level) {\n\tvar shouldLog =\n\t\t(logLevel === \"info\" && level === \"info\") ||\n\t\t([\"info\", \"warning\"].indexOf(logLevel) >= 0 && level === \"warning\") ||\n\t\t([\"info\", \"warning\", \"error\"].indexOf(logLevel) >= 0 && level === \"error\");\n\treturn shouldLog;\n}\n\nfunction logGroup(logFn) {\n\treturn function (level, msg) {\n\t\tif (shouldLog(level)) {\n\t\t\tlogFn(msg);\n\t\t}\n\t};\n}\n\nmodule.exports = function (level, msg) {\n\tif (shouldLog(level)) {\n\t\tif (level === \"info\") {\n\t\t\tconsole.log(msg);\n\t\t} else if (level === \"warning\") {\n\t\t\tconsole.warn(msg);\n\t\t} else if (level === \"error\") {\n\t\t\tconsole.error(msg);\n\t\t}\n\t}\n};\n\n/* eslint-disable node/no-unsupported-features/node-builtins */\nvar group = console.group || dummy;\nvar groupCollapsed = console.groupCollapsed || dummy;\nvar groupEnd = console.groupEnd || dummy;\n/* eslint-enable node/no-unsupported-features/node-builtins */\n\nmodule.exports.group = logGroup(group);\n\nmodule.exports.groupCollapsed = logGroup(groupCollapsed);\n\nmodule.exports.groupEnd = logGroup(groupEnd);\n\nmodule.exports.setLogLevel = function (level) {\n\tlogLevel = level;\n};\n\nmodule.exports.formatError = function (err) {\n\tvar message = err.message;\n\tvar stack = err.stack;\n\tif (!stack) {\n\t\treturn message;\n\t} else if (stack.indexOf(message) < 0) {\n\t\treturn message + \"\\n\" + stack;\n\t} else {\n\t\treturn stack;\n\t}\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Messenger from './Messenger';\r\n\r\n/**\r\n * Base class for all host features. Keeps a reference to the host object managing\r\n * the feature.\r\n *\r\n * @abstract\r\n *\r\n * @property {Object} EVENTS - Built-in messages that the feature emits. When the\r\n * feature is added to a {@link core/HostObject}, event names will be prefixed by the\r\n * name of the feature class + '.'.\r\n * @property {string} [EVENTS.update=onUpdate] - Message that is emitted after\r\n * each call to [update]{@link AbstractHostFeature#update}.\r\n * @property {Object} SERVICES - Any AWS services that are necessary for the\r\n * feature to function.\r\n */\r\nclass AbstractHostFeature {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - The HostObject managing the feature.\r\n   */\r\n  constructor(host) {\r\n    this._host = host;\r\n  }\r\n\r\n  /**\r\n   * Adds a namespace to the host with the name of the feature to contain properties\r\n   * and methods from the feature that users of the host need access to.\r\n   */\r\n  installApi() {\r\n    const events = {};\r\n    const api = {EVENTS: events};\r\n\r\n    // Add the class name to event names\r\n    Object.entries(this.constructor.EVENTS).forEach(([name, value]) => {\r\n      events[name] = `${this.constructor.name}.${value}`;\r\n    });\r\n\r\n    this._host[this.constructor.name] = api;\r\n\r\n    return api;\r\n  }\r\n\r\n  /**\r\n   * Gets the host that manages the feature.\r\n   *\r\n   * @readonly\r\n   */\r\n  get host() {\r\n    return this._host;\r\n  }\r\n\r\n  /**\r\n   * Gets the engine owner object of the host.\r\n   *\r\n   * @readonly\r\n   */\r\n  get owner() {\r\n    return this._host.owner;\r\n  }\r\n\r\n  /**\r\n   * Listen to a feature message from the host object.\r\n   *\r\n   * @param {string} message - Message to listen for.\r\n   * @param {Function} callback - The callback to execute when the message is received.\r\n   */\r\n  listenTo(message, callback) {\r\n    this._host.listenTo(message, callback);\r\n  }\r\n\r\n  /**\r\n   * Listen to a feature message from the global messenger. Feature messages will\r\n   * be prefixed with the class name of the feature.\r\n   *\r\n   * @param {string} message - Message to listen for.\r\n   * @param {Function} callback - The callback to execute when the message is received.\r\n   */\r\n  static listenTo(message, callback) {\r\n    message = `${this.name}.${message}`;\r\n    Messenger.listenTo(message, callback);\r\n  }\r\n\r\n  /**\r\n   * Stop listening to a message from the host object.\r\n   *\r\n   * @param {string} message - Message to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  stopListening(message, callback) {\r\n    this._host.stopListening(message, callback);\r\n  }\r\n\r\n  /**\r\n   * Stop listening to a message from the global messenger.\r\n   *\r\n   * @param {string} message - Message to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  static stopListening(message, callback) {\r\n    message = `${this.name}.${message}`;\r\n    Messenger.stopListening(message, callback);\r\n  }\r\n\r\n  /**\r\n   * Stop listening to a message matching the given regular expression from the\r\n   * host object.\r\n   *\r\n   * @param {Regexp} regexp - The regular expression to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  stopListeningByRegexp(regexp, callback) {\r\n    this._host.stopListeningByRegexp(regexp, callback);\r\n  }\r\n\r\n  /**\r\n   * Stop listening to a message matching the given regular expression from the\r\n   * global messenger.\r\n   *\r\n   * @param {Regexp} regexp - The regular expression to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  static stopListeningByRegexp(regexp, callback) {\r\n    regexp = new RegExp(`^${this.name}.${regexp.source.replace(/\\^/, '')}`);\r\n    Messenger.stopListeningByRegexp(regexp, callback);\r\n  }\r\n\r\n  /**\r\n   * Stop listening to all messages.\r\n   */\r\n  stopListeningToAll() {\r\n    this._host.stopListeningToAll();\r\n  }\r\n\r\n  /**\r\n   * Stop listening to all feature messages.\r\n   */\r\n  static stopListeningToAll() {\r\n    Messenger.stopListeningByRegexp(new RegExp(`^${this.name}.`));\r\n  }\r\n\r\n  /**\r\n   * Emit feature messages from the host. Feature messages will be prefixed with\r\n   * the class name of the feature.\r\n   *\r\n   * @param {string} message - The message to emit.\r\n   * @param {any=} value - Optional parameter to pass to listener callbacks.\r\n   */\r\n  emit(message, value) {\r\n    message = `${this.constructor.name}.${message}`;\r\n    this._host.emit(message, value);\r\n  }\r\n\r\n  /**\r\n   * Emit feature messages from the global messenger. Feature messages will be prefixed\r\n   * with the class name of the feature.\r\n   *\r\n   * @param {string} message - The message to emit.\r\n   * @param {any=} value - Optional parameter to pass to listener callbacks.\r\n   */\r\n  static emit(message, value) {\r\n    message = `${this.name}.${message}`;\r\n    Messenger.emit(message, value);\r\n  }\r\n\r\n  /**\r\n   * Executes each time the host is updated.\r\n   *\r\n   * @param {number} deltaTime - Amount of time since the last host update was\r\n   * called.\r\n   */\r\n  update(deltaTime) {\r\n    this.emit(this.constructor.EVENTS.update, deltaTime);\r\n  }\r\n\r\n  /**\r\n   * Clean up once the feature is no longer in use. Remove the feature namespace\r\n   * from the host and remove reference to the host.\r\n   */\r\n  discard() {\r\n    Object.keys(this._host[this.constructor.name]).forEach(name => {\r\n      delete this._host[this.constructor.name][name];\r\n    });\r\n\r\n    delete this._host[this.constructor.name];\r\n    delete this._host;\r\n  }\r\n\r\n  /**\r\n   * Applies a sequence of mixin class factory functions to this class and\r\n   * returns the result. Each function is expected to return a class that\r\n   * extends the class it was given. The functions are applied in the order\r\n   * that parameters are given, meaning that the first factory will\r\n   * extend this base class.\r\n   *\r\n   * @param {...Function} mixinClassFactories Class factory functions that will\r\n   * be applied.\r\n   *\r\n   * @returns {Class} A class that is the result of applying the factory functions.\r\n   * The resulting class will always inherit from AbstractHostFeature.\r\n   */\r\n  static mix(...mixinClassFactories) {\r\n    let ResultClass = this;\r\n\r\n    mixinClassFactories.forEach(mixinClassFactory => {\r\n      ResultClass = mixinClassFactory(ResultClass);\r\n    });\r\n\r\n    return ResultClass;\r\n  }\r\n}\r\n\r\nObject.defineProperties(AbstractHostFeature, {\r\n  EVENTS: {\r\n    value: {\r\n      update: 'onUpdate',\r\n    },\r\n    writable: false,\r\n  },\r\n  SERVICES: {\r\n    value: {},\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default AbstractHostFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * The built-in class for asynchronous Promises.\r\n * @external Promise\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\r\n */\r\n\r\n/**\r\n * A Promise object that can be resolved, rejected or canceled at any time by the\r\n * user.\r\n *\r\n * @extends external:Promise\r\n */\r\nclass Deferred extends Promise {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Function} [executable=() => {}] - The function to be executed by the\r\n   * constructor, during the process of constructing the promise. The signature\r\n   * of this is expected to be: executable(  resolutionFunc, rejectionFunc, cancellationFunc ).\r\n   * @param {Function=} onResolve - Optional function to execute once the promise\r\n   * is resolved.\r\n   * @param {Function=} onReject - Optional function to execute once the promise\r\n   * is rejected.\r\n   * @param {Function=} onCancel - Optional function to execute if the user cancels\r\n   * the promise. Canceling results in the promise having a status of 'resolved'.\r\n   */\r\n  constructor(executable = () => {}, onResolve, onReject, onCancel) {\r\n    if (typeof executable !== 'function') {\r\n      throw new Error(\r\n        `Cannot create new Deferred. Executable must be a function.`\r\n      );\r\n    }\r\n\r\n    if (typeof onResolve !== 'undefined' && typeof onResolve !== 'function') {\r\n      throw new Error(\r\n        `Cannot create new Deferred. OnResolve must be a function.`\r\n      );\r\n    }\r\n\r\n    if (typeof onReject !== 'undefined' && typeof onReject !== 'function') {\r\n      throw new Error(\r\n        `Cannot create new Deferred. OnReject must be a function.`\r\n      );\r\n    }\r\n\r\n    if (typeof onCancel !== 'undefined' && typeof onCancel !== 'function') {\r\n      throw new Error(\r\n        `Cannot create new Deferred. OnCancel must be a function.`\r\n      );\r\n    }\r\n\r\n    let res;\r\n    let rej;\r\n    let cancel;\r\n    const status = {\r\n      resolved: false,\r\n      rejected: false,\r\n      canceled: false,\r\n      pending: true,\r\n    };\r\n\r\n    super((resolve, reject) => {\r\n      // Store the resolver\r\n      res = value => {\r\n        if (status.pending) {\r\n          status.resolved = true;\r\n          status.pending = false;\r\n\r\n          if (typeof onResolve === 'function') {\r\n            value = onResolve(value);\r\n          }\r\n\r\n          return resolve(value);\r\n        }\r\n      };\r\n\r\n      // Store the rejecter\r\n      rej = value => {\r\n        if (status.pending) {\r\n          status.rejected = true;\r\n          status.pending = false;\r\n\r\n          if (typeof onReject === 'function') {\r\n            value = onReject(value);\r\n          }\r\n\r\n          return reject(value);\r\n        }\r\n      };\r\n\r\n      // Store the canceler\r\n      cancel = value => {\r\n        if (status.pending) {\r\n          status.canceled = true;\r\n          status.pending = false;\r\n\r\n          if (typeof onCancel === 'function') {\r\n            value = onCancel(value);\r\n          }\r\n\r\n          return resolve(value);\r\n        }\r\n      };\r\n\r\n      // Run the executable with custom resolver and rejecter\r\n      executable(res, rej, cancel);\r\n    });\r\n\r\n    this._status = status;\r\n    this._resolve = res;\r\n    this._reject = rej;\r\n    this._cancel = cancel;\r\n    this._executable = executable;\r\n  }\r\n\r\n  /**\r\n   * Gets the resolved state of the promise.\r\n   *\r\n   * @readonly\r\n   */\r\n  get resolved() {\r\n    return this._status.resolved;\r\n  }\r\n\r\n  /**\r\n   * Gets the rejected state of the promise.\r\n   *\r\n   * @readonly\r\n   */\r\n  get rejected() {\r\n    return this._status.rejected;\r\n  }\r\n\r\n  /**\r\n   * Gets the canceled state of the promise.\r\n   *\r\n   * @readonly\r\n   */\r\n  get canceled() {\r\n    return this._status.canceled;\r\n  }\r\n\r\n  /**\r\n   * Gets the pending state of the promise.\r\n   *\r\n   * @readonly\r\n   */\r\n  get pending() {\r\n    return this._status.pending;\r\n  }\r\n\r\n  /**\r\n   * Force the promise to resolve.\r\n   *\r\n   * @param {any=} value - Value to pass to the resolver.\r\n   *\r\n   * @returns {any} - The return value of the resolver function.\r\n   */\r\n  resolve(value) {\r\n    return this._resolve(value);\r\n  }\r\n\r\n  /**\r\n   * Force the promise to reject.\r\n   *\r\n   * @param {any=} value - Value to pass to the rejecter.\r\n   *\r\n   * @returns {any} - The return value of the rejecter function.\r\n   */\r\n  reject(value) {\r\n    return this._reject(value);\r\n  }\r\n\r\n  /**\r\n   * Force the promise to resolve and set the canceled state to true.\r\n   *\r\n   * @param {any=} value - Value to pass to the canceller.\r\n   *\r\n   * @returns {any} - The return value of the canceller function.\r\n   */\r\n  cancel(value) {\r\n    return this._cancel(value);\r\n  }\r\n\r\n  /**\r\n   * Run the promise function to try to resolve the promise. Promise must be\r\n   * pending.\r\n   *\r\n   * @param {...any} args - Optional arguments to pass after resolve and reject.\r\n   */\r\n  execute(...args) {\r\n    if (this.pending) {\r\n      this._executable(this._resolve, this._reject, this._cancel, ...args);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return a canceled deferred promise.\r\n   *\r\n   * @param {any=} value - Value to cancel the promise with.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  static cancel(value) {\r\n    return new Deferred((_resolve, _reject, cancel) => {\r\n      cancel(value);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return a new Deferred promise that will resolve or reject once all promises\r\n   * in the input array have been resolved or one promise is canceled or rejected.\r\n   * Promises in the array that are Deferred promises will be manually resolved,\r\n   * rejected or canceled when calling resolve, reject or cancel on the return promise.\r\n   *\r\n   * @param {Array.<any>} iterable - An iterable such as an array.\r\n   * @param {Function=} onResolve - Optional function to execute once the promise\r\n   * is resolved.\r\n   * @param {Function=} onReject - Optional function to execute once the promise\r\n   * is rejected.\r\n   * @param {Function=} onCancel - Optional function to execute if the user cancels\r\n   * the promise. Canceling results in the promise having a status of 'canceled'.\r\n   *\r\n   * @returns Deferred\r\n   */\r\n  static all(iterable, onResolve, onReject, onCancel) {\r\n    if (iterable == null || typeof iterable[Symbol.iterator] !== 'function') {\r\n      let e = `Cannot execute Deferred.all. First argument must be iterable.`;\r\n\r\n      if (typeof onReject === 'function') {\r\n        e = onReject(e);\r\n      }\r\n\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    const array = [...iterable];\r\n    const deferred = array.filter(item => item instanceof Deferred);\r\n\r\n    const result = new Deferred(\r\n      undefined,\r\n      resolveValue => {\r\n        deferred.forEach(item => {\r\n          item.resolve(resolveValue);\r\n        });\r\n        deferred.length = 0;\r\n\r\n        if (typeof onResolve === 'function') {\r\n          return onResolve(resolveValue);\r\n        } else {\r\n          return resolveValue;\r\n        }\r\n      },\r\n      error => {\r\n        deferred.forEach(item => {\r\n          item.reject(error);\r\n        });\r\n        deferred.length = 0;\r\n\r\n        if (typeof onReject === 'function') {\r\n          return onReject(error);\r\n        } else {\r\n          return error;\r\n        }\r\n      },\r\n      cancelValue => {\r\n        deferred.forEach(item => {\r\n          item.cancel(cancelValue);\r\n        });\r\n        deferred.length = 0;\r\n\r\n        if (typeof onCancel === 'function') {\r\n          return onCancel(cancelValue);\r\n        } else {\r\n          return cancelValue;\r\n        }\r\n      }\r\n    );\r\n\r\n    const numItems = array.length;\r\n    const itemTracker = {\r\n      failed: false,\r\n      numResolved: 0,\r\n      resolutions: [],\r\n    };\r\n\r\n    array.forEach((item, index) => {\r\n      if (itemTracker.failed) {\r\n        return;\r\n      } else if (!(item instanceof Promise)) {\r\n        itemTracker.resolutions[index] = item;\r\n        itemTracker.numResolved += 1;\r\n\r\n        if (itemTracker.numResolved === numItems) {\r\n          result.resolve(itemTracker.resolutions);\r\n        }\r\n        return;\r\n      }\r\n\r\n      item.then(\r\n        value => {\r\n          if (!itemTracker.failed && !item.canceled) {\r\n            itemTracker.resolutions[index] = value;\r\n            itemTracker.numResolved += 1;\r\n\r\n            if (itemTracker.numResolved === numItems) {\r\n              result.resolve(itemTracker.resolutions);\r\n            }\r\n          } else if (!itemTracker.failed) {\r\n            itemTracker.failed = true;\r\n            result.cancel(value);\r\n          }\r\n        },\r\n        error => {\r\n          if (!itemTracker.failed) {\r\n            itemTracker.failed = true;\r\n            result.reject(error);\r\n          }\r\n        }\r\n      );\r\n    });\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default Deferred;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable max-classes-per-file */\r\nimport HostObject from './HostObject';\r\n\r\n/**\r\n * Class factory interface for features that are dependent on other features being\r\n * present on the host. Event dependencies will be listened for when a feature of\r\n * matching type is added to the host and will stop being listened for when one\r\n * is removed. If the feature is already present when constructed, events will\r\n * be listened for right away.\r\n *\r\n * @interface\r\n *\r\n * @property {Object} EVENT_DEPENDENCIES - Events that the feature should start/stop\r\n * listening for when a feature of type FeatureName is added/removed from the host.\r\n * Event dependencies should follow the signature:\r\n *  { FeatureName: { eventName: callbackName, ... }, ... }\r\n */\r\nclass FeatureDependentInterface {\r\n  /**\r\n   * Start listening for event dependencies that match the given feature type.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} typeName - type of feature to listen for.\r\n   */\r\n  _onFeatureAdded(typeName) {}\r\n\r\n  /**\r\n   * Stop listening for event dependencies that match the given feature type.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} typeName - type of feature to stop listening for.\r\n   */\r\n  _onFeatureRemoved(typeName) {}\r\n\r\n  /**\r\n   * @augments {@link AbstractHostFeature#discard}\r\n   */\r\n  discard() {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link FeatureDependentInterface} and extends\r\n   * a specified base class.\r\n   *\r\n   * @param {Class} BaseClass - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link FeatureDependentInterface}.\r\n   */\r\n  static Mixin(BaseClass) {\r\n    const FeatureDependentMixin = class extends BaseClass {\r\n      constructor(host) {\r\n        super(host);\r\n        this._host = host;\r\n\r\n        // No need to listen for events if the mixin is in the prototype chain multiple times\r\n        if (!this._initialized) {\r\n          this._initialized = true;\r\n\r\n          // Start listening for feature events\r\n          this._onFeatureAdded = this._onFeatureAdded.bind(this);\r\n          this._onFeatureRemoved = this._onFeatureRemoved.bind(this);\r\n\r\n          this._host.listenTo(\r\n            HostObject.EVENTS.addFeature,\r\n            this._onFeatureAdded\r\n          );\r\n          this._host.listenTo(\r\n            HostObject.EVENTS.removeFeature,\r\n            this._onFeatureRemoved\r\n          );\r\n\r\n          // Register features that already exist\r\n          Object.keys(this.constructor.EVENT_DEPENDENCIES).forEach(typeName => {\r\n            if (this._host[typeName] !== undefined) {\r\n              this._onFeatureAdded(typeName);\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\n      _onFeatureAdded(typeName) {\r\n        if (this.constructor.EVENT_DEPENDENCIES[typeName] !== undefined) {\r\n          const events = this.constructor.EVENT_DEPENDENCIES[typeName];\r\n\r\n          Object.entries(events).forEach(([eventName, callback]) => {\r\n            this[callback] = this[callback].bind(this);\r\n            this._host.listenTo(\r\n              this._host[typeName].EVENTS[eventName],\r\n              this[callback]\r\n            );\r\n          });\r\n        }\r\n      }\r\n\r\n      _onFeatureRemoved(typeName) {\r\n        if (this.constructor.EVENT_DEPENDENCIES[typeName] !== undefined) {\r\n          const events = this.constructor.EVENT_DEPENDENCIES[typeName];\r\n\r\n          Object.entries(events).forEach(([eventName, callback]) => {\r\n            this._host.stopListening(\r\n              this._host[typeName].EVENTS[eventName],\r\n              this[callback]\r\n            );\r\n          });\r\n        }\r\n      }\r\n\r\n      discard() {\r\n        // Stop listening for feature events\r\n        this._host.stopListening(\r\n          HostObject.EVENTS.addFeature,\r\n          this._onFeatureAdded\r\n        );\r\n        this._host.stopListening(\r\n          HostObject.EVENTS.removeFeature,\r\n          this._onFeatureRemoved\r\n        );\r\n\r\n        // Stop listening to feature-specific events\r\n        Object.keys(this.constructor.EVENT_DEPENDENCIES).forEach(typeName => {\r\n          if (this._host[typeName] !== undefined) {\r\n            this._onFeatureRemoved(typeName);\r\n          }\r\n        });\r\n\r\n        super.discard();\r\n      }\r\n    };\r\n\r\n    const EVENT_DEPENDENCIES = BaseClass.EVENT_DEPENDENCIES || {};\r\n\r\n    Object.defineProperties(FeatureDependentMixin, {\r\n      EVENT_DEPENDENCIES: {\r\n        value: {\r\n          ...EVENT_DEPENDENCIES,\r\n        },\r\n        writable: false,\r\n      },\r\n    });\r\n\r\n    return FeatureDependentMixin;\r\n  }\r\n}\r\n\r\n/**\r\n * Event dependencies should follow the signature:\r\n * {\r\n *  FeatureName: {\r\n *    // Events that the feature should start/stop listening for when a feature\r\n *    // of type FeatureName is added/removed from the host\r\n *    {\r\n *      eventName: callbackName,\r\n *      ...\r\n *    },\r\n *  }\r\n * }\r\n */\r\nObject.defineProperties(FeatureDependentInterface, {\r\n  EVENT_DEPENDENCIES: {\r\n    value: {},\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default FeatureDependentInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport ManagedAnimationLayerInterface from './animpack/ManagedAnimationLayerInterface';\r\nimport SSMLSpeechmarkInterface from './awspack/SSMLSpeechmarkInterface';\r\nimport AbstractHostFeature from './AbstractHostFeature';\r\nimport Deferred from './Deferred';\r\nimport Utils from './Utils';\r\n\r\n/**\r\n * @constant\r\n */\r\nconst DefaultGestureWords = {\r\n  big: [\r\n    'add',\r\n    'above',\r\n    'authority',\r\n    'big',\r\n    'cover',\r\n    'full',\r\n    'fly',\r\n    'grow',\r\n    'growth',\r\n    'high',\r\n    'huge',\r\n    'increase',\r\n    'major',\r\n    'majority',\r\n    'large',\r\n    'leader',\r\n    'lot',\r\n    'raise',\r\n    'rise',\r\n    'tall',\r\n  ],\r\n  heart: [\r\n    'accept',\r\n    'admit',\r\n    'believe',\r\n    'care',\r\n    'feeling',\r\n    'feel',\r\n    'friend',\r\n    'grateful',\r\n    'happy',\r\n    'heart',\r\n    'human',\r\n    'pain',\r\n    'save',\r\n    'safe',\r\n    'kind',\r\n    'love',\r\n  ],\r\n  in: [\r\n    'include',\r\n    'including',\r\n    'inside',\r\n    'into',\r\n    'now',\r\n    'near',\r\n    'nearest',\r\n    'closest',\r\n    'therein',\r\n    'within',\r\n  ],\r\n  many: [\r\n    'all',\r\n    'always',\r\n    'any',\r\n    'anyone',\r\n    'among',\r\n    'area',\r\n    'around',\r\n    'beautiful',\r\n    'entire',\r\n    'environment',\r\n    'environments',\r\n    'environmental',\r\n    'everybody',\r\n    'everyone',\r\n    'everything',\r\n    'audience',\r\n    'total',\r\n    'group',\r\n    'groups',\r\n    'million',\r\n    'millions',\r\n    'others',\r\n    'billion',\r\n    'billions',\r\n    'hundred',\r\n    'hundreds',\r\n    'many',\r\n    'thousand',\r\n    'thousands',\r\n    'world',\r\n    'worlds',\r\n    'outside',\r\n    'reveal',\r\n  ],\r\n  movement: [\r\n    'away',\r\n    'across',\r\n    'ahead',\r\n    'along',\r\n    'far',\r\n    'fast',\r\n    'follow',\r\n    'go',\r\n    'leave',\r\n    'move',\r\n    'movement',\r\n    'through',\r\n    'throughout',\r\n    'toward',\r\n    'travel',\r\n    'turned',\r\n    'passed',\r\n  ],\r\n  one: [\r\n    'single',\r\n    'one',\r\n    'once',\r\n    'first',\r\n    'firstly',\r\n    'only',\r\n    'solo',\r\n    'warned',\r\n    'truly',\r\n    'up',\r\n    'alone',\r\n  ],\r\n  aggressive: [\r\n    'power',\r\n    'powers',\r\n    'powerful',\r\n    'assert',\r\n    'assertive',\r\n    'strong',\r\n    'stronger',\r\n    'strongest',\r\n    'strength',\r\n    'flex',\r\n    'dang',\r\n    'damn',\r\n    'damnit',\r\n    'darn',\r\n    'shucks',\r\n    'doh',\r\n    'drat',\r\n    'angry',\r\n    'angrier',\r\n    'angriest',\r\n    'aggressive',\r\n    'annoyed',\r\n    'annoying',\r\n    'attack',\r\n    'attacking',\r\n    'offense',\r\n    'offensive',\r\n    'battle',\r\n  ],\r\n  you: ['you', 'yall', \"y'all\", 'your', 'yours', 'thou', 'thy'],\r\n  defense: [\r\n    'defense',\r\n    'fear',\r\n    'repulsed',\r\n    'scared',\r\n    'scary',\r\n    'scarier',\r\n    'scariest',\r\n    'fearful',\r\n    'afraid',\r\n    'cower',\r\n    'cowers',\r\n    'cowering',\r\n    'hideous',\r\n    'doomed',\r\n    'terrified',\r\n    'terrify',\r\n    'terrifying',\r\n    'terrifies',\r\n    'spooky',\r\n    'spookier',\r\n    'spookiest',\r\n  ],\r\n  wave: [\r\n    'hello',\r\n    'hi',\r\n    'hiya',\r\n    'howdy',\r\n    'welcome',\r\n    'aloha',\r\n    'heya',\r\n    'hey',\r\n    'bye',\r\n    'goodbye',\r\n    'hola',\r\n    'adios',\r\n    'chao',\r\n  ],\r\n  self: ['my', 'I', 'myself', 'self', \"I've\", 'Ive', 'me', 'mine', 'own'],\r\n};\r\n\r\n/**\r\n * Gesture allows you to play animations on demand on one or more layers from script\r\n * or ssml. If gesture is played that is a QueueState, the queue will automatically\r\n * be progressed after a given hold time if a looping queued state is reached. Gesture\r\n * layers can optionally be automatically disabled when no gesture animation is\r\n * in progress.\r\n *\r\n * @extends AbstractHostFeature\r\n * @alias core/GestureFeature\r\n * @implements SSMLSpeechmarkInterface\r\n * @implements ManagedAnimationLayerInterface\r\n */\r\nclass GestureFeature extends AbstractHostFeature.mix(\r\n  SSMLSpeechmarkInterface.Mixin,\r\n  ManagedAnimationLayerInterface.Mixin\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - Host object that owns the feature.\r\n   * @param {Object=} options - Optional options for the feature.\r\n   * @param {number} [options.holdTime = 3] - Amount of time in seconds that must\r\n   * elapse before advancing a gesture that's a {@link QueueState} when the current\r\n   * state in the queue is set to loop infinitely.\r\n   * @param {number} [options.minimumInterval = 0.25] - The minimum amount of time\r\n   * in seconds that must elapse before another gesture can be played.\r\n   * @param  {Object} layers - An object that maps layer names to layer options.\r\n   * These are the layers that will be registered as tracked gesture layers. See\r\n   * {@link ManagedAnimationLayerInterface#registerLayer} for more information\r\n   * on expected format for each layer options object.\r\n   */\r\n  constructor(host, {holdTime = 3, minimumInterval = 1, layers = {}} = {}) {\r\n    super(host);\r\n\r\n    this.holdTime = holdTime;\r\n    this.minimumInterval = minimumInterval;\r\n\r\n    // Register the gesture layers\r\n    Object.entries(layers).forEach(([name, options = {}]) => {\r\n      this.registerLayer(name, options);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return a valid hold time value. If hold time isn't defined for the animation,\r\n   * try to use the hold time for the layer. If that's not defined, fall back to\r\n   * the hold time for the feature.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} layer - Managed layer options object.\r\n   * @param {Object} animation - Managed animation options object.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  _getHoldTime(layer, animation) {\r\n    const layerHoldTime =\r\n      layer.holdTime !== undefined ? layer.holdTime : this.holdTime;\r\n\r\n    return animation.holdTime !== undefined\r\n      ? animation.holdTime\r\n      : layerHoldTime;\r\n  }\r\n\r\n  /**\r\n   * Return a valid minimum interval value. If minimum interval isn't defined for\r\n   * the animation, try to use the minimum interval for the layer. If that's not\r\n   * defined, fall back to the minimum interval for the feature.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} layer - Managed layer options object.\r\n   * @param {Object} animation - Managed animation options object.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  _getMinimumInterval(layer, animation) {\r\n    const layerMinimumInterval =\r\n      layer.minimumInterval !== undefined\r\n        ? layer.minimumInterval\r\n        : this.minimumInterval;\r\n\r\n    return animation.minimumInterval !== undefined\r\n      ? animation.minimumInterval\r\n      : layerMinimumInterval;\r\n  }\r\n\r\n  /**\r\n   * Callback for {@link core/AnimationFeature#playNextAnimation} event. If the\r\n   * event is emitted for a managed animation and the new queued state cannot\r\n   * advance on its own, start a new timer promise that will advance the queue\r\n   * once it resolves.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options object passed from playNextAnimation event.\r\n   * @param {string} layerName - Name of the layer that owns the queue state.\r\n   * @param {string} animationName - Name of the queue state animation.\r\n   * @param {boolean} canAdvance - Whether or not the current state in the queue\r\n   * can advance on its own.\r\n   * @param {boolean} isQueueEnd - Whether the current state in the queue is the last\r\n   * state in the queue.\r\n   */\r\n  _onNext({layerName, animationName, canAdvance, isQueueEnd}) {\r\n    // Exit if this isn't a managed layer\r\n    const layer = this._managedLayers[layerName];\r\n    if (layer === undefined) {\r\n      return;\r\n    }\r\n\r\n    // Exit if it isn't a managed animation\r\n    const animation = layer.animations[animationName];\r\n    if (animation === undefined) {\r\n      return;\r\n    }\r\n\r\n    // Start a new timer for looping states that aren't the end of the queue\r\n    if (!canAdvance && !isQueueEnd && layer.currentGesture === animationName) {\r\n      const holdTime = this._getHoldTime(layer, animation);\r\n      layer.holdTimer.cancel();\r\n\r\n      // Skip to the next animation right away if hold time is zero\r\n      if (holdTime <= 0) {\r\n        this._host.AnimationFeature.playNextAnimation(layerName, animationName);\r\n      }\r\n\r\n      // Wait for the given hold time before progressing\r\n      else {\r\n        layer.holdTimer = Utils.wait(holdTime, {\r\n          onFinish: () => {\r\n            // Advance the queue to the next state\r\n            if (layer.currentGesture === animationName) {\r\n              this._host.AnimationFeature.playNextAnimation(\r\n                layerName,\r\n                animationName\r\n              );\r\n            }\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Callback for {@link core/AnimationFeature#stopAnimation} event. If the\r\n   * event is emitted for a managed animation cancel the layer's stored timers.\r\n   * If the layer is set to auto-disable set its weight to 0.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options object passed from playNextAnimation event.\r\n   * @param {string} layerName - Name of the layer that owns the stopped animation.\r\n   * @param {string} animationName - Name of the animation that was stopped.\r\n   */\r\n  _onStop({layerName, animationName}) {\r\n    // Make sure the layer is managed\r\n    const layer = this._managedLayers[layerName];\r\n    if (layer === undefined) {\r\n      return;\r\n    }\r\n\r\n    // Make sure the animation is managed\r\n    const animation = layer.animations[animationName];\r\n    if (animation !== undefined && animationName === layer.currentGesture) {\r\n      layer.currentGesture = null;\r\n      layer.playTimer = null;\r\n      layer.holdTimer.cancel();\r\n\r\n      // Turn off layer weight\r\n      if (layer.autoDisable) {\r\n        this.setLayerWeights(name => name === layerName, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  _onAnimationAdded({layerName, animationName}) {\r\n    const layer = this._managedLayers[layerName];\r\n\r\n    if (layer !== undefined) {\r\n      const animation = layer.animations[animationName];\r\n\r\n      // Register the animation as active if it is unmanaged\r\n      if (animation === undefined) {\r\n        this.registerAnimation(layerName, animationName);\r\n      }\r\n      // Mark the animation as active if it is managed\r\n      else {\r\n        animation.isActive = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  registerLayer(name, options = {}) {\r\n    super.registerLayer(name, {\r\n      ...options,\r\n      holdTimer: Deferred.resolve(),\r\n      playTimer: null,\r\n      currentGesture: null,\r\n    });\r\n\r\n    if (this._managedLayers[name].isActive) {\r\n      this._host.AnimationFeature.getAnimations(name).forEach(anim => {\r\n        // Automatically register all animations on the layer\r\n        if (this._managedLayers[name].animations[anim] === undefined) {\r\n          this.registerAnimation(\r\n            name,\r\n            anim,\r\n            this._managedLayers[name].animations[anim]\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  registerAnimation(layerName, animationName, options = {}) {\r\n    // Try to fall back to a default word array\r\n    if (!(options.words instanceof Array) && !(options.words instanceof Set)) {\r\n      options.words = DefaultGestureWords[animationName] || [];\r\n    }\r\n\r\n    super.registerAnimation(layerName, animationName, options);\r\n  }\r\n\r\n  /**\r\n   * Create an object that maps ssml mark syntax required to play each gesture to\r\n   * the words array associated with each gesture. Words arrays are defined at when\r\n   * the gesture animation is registered. Gestures without associated words will\r\n   * be excluded from the result. The resulting object can be used as an input\r\n   * for {@link TextToSpeechUtils.autoGenerateSSMLMarks} to update a speech string\r\n   * with the markup required to play gestures timed with their associated words.\r\n   *\r\n   * @returns {Object}\r\n   */\r\n  createGestureMap() {\r\n    const gestureMap = {};\r\n\r\n    Object.entries(this._managedLayers).forEach(([layerName, {animations}]) => {\r\n      Object.entries(animations).forEach(\r\n        ([\r\n          animationName,\r\n          {holdTime, minimumInterval, words, transitionTime},\r\n        ]) => {\r\n          // Only store gestures that have any associated words\r\n          if (words.length) {\r\n            const options = {\r\n              ...(holdTime && {holdTime}),\r\n              ...(minimumInterval && {minimumInterval}),\r\n              ...(transitionTime && {transitionTime}),\r\n            };\r\n            const key = {\r\n              feature: this.constructor.name,\r\n              method: 'playGesture',\r\n              args: [layerName, animationName, options],\r\n            };\r\n\r\n            gestureMap[JSON.stringify(key)] = words;\r\n          }\r\n        }\r\n      );\r\n    });\r\n\r\n    return gestureMap;\r\n  }\r\n\r\n  /**\r\n   * Create an array that contains ssml mark syntax required to play each gesture\r\n   * that does not have any associated words. The resulting array can be used as\r\n   * an input for {@link TextToSpeechUtils.autoGenerateSSMLMarks} or\r\n   * {@link TextToSpeechUtils.addMarksToUnmarkedSentences} to update a speech\r\n   * string with the markup required to play random gestures at each unmarked\r\n   * sentence in the string.\r\n   *\r\n   * @param {Array.<string>=} layers - An array of names of managed layers to generate\r\n   * marks for. If undefined, use all managed layers.\r\n   *\r\n   * @returns {Array.<string>}\r\n   */\r\n  createGenericGestureArray(layers) {\r\n    const genericGestures = [];\r\n    layers = layers || Object.keys(this._managedLayers);\r\n\r\n    layers.forEach(layerName => {\r\n      const layer = this._managedLayers[layerName];\r\n\r\n      // Make sure the layer is managed\r\n      if (!layer) {\r\n        return;\r\n      }\r\n\r\n      Object.entries(layer.animations).forEach(\r\n        ([\r\n          animationName,\r\n          {holdTime, minimumInterval, words, transitionTime},\r\n        ]) => {\r\n          // Only store gestures that don't have any associated words\r\n          if (!words.length) {\r\n            const options = {\r\n              ...(holdTime && {holdTime}),\r\n              ...(minimumInterval && {minimumInterval}),\r\n              ...(transitionTime && {transitionTime}),\r\n            };\r\n            const key = JSON.stringify({\r\n              feature: this.constructor.name,\r\n              method: 'playGesture',\r\n              args: [layerName, animationName, options],\r\n            });\r\n\r\n            if (!genericGestures.includes(key)) {\r\n              genericGestures.push(key);\r\n            }\r\n          }\r\n        }\r\n      );\r\n    });\r\n\r\n    return genericGestures;\r\n  }\r\n\r\n  /**\r\n   * Play a managed gesture animation.\r\n   *\r\n   * @param {string} layerName - The name of the layer that contains the gesture\r\n   * animation.\r\n   * @param {string} animationName - The name of the gesture animation.\r\n   * @param {Object=} options - Optional gesture options.\r\n   * @param {number=} options.holdTime - This option only applies to {@link QueueState}\r\n   * gestures. When a QueueState gesture progresses to a looping state, this option\r\n   * defines how many seconds should elapse before moving the queue forward. If\r\n   * undefined, it will fall back first to the holdTime defined in the options when\r\n   * the gesture animation was registered and then to the holdTime defined on the\r\n   * feature.\r\n   * @param {number=} options.minimumInterval - The minimum amount of time that\r\n   * must have elapsed since the last time a gesture was played.\r\n   */\r\n  playGesture(\r\n    layerName,\r\n    animationName,\r\n    {holdTime, minimumInterval, transitionTime, force = false} = {}\r\n  ) {\r\n    // Make sure the animation is registered\r\n    if (\r\n      this._managedLayers[layerName] === undefined ||\r\n      this._managedLayers[layerName].animations[animationName] === undefined\r\n    ) {\r\n      this.registerAnimation(layerName, animationName, {\r\n        holdTime,\r\n        minimumInterval,\r\n        transitionTime,\r\n      });\r\n    }\r\n\r\n    const layer = this._managedLayers[layerName];\r\n    const animation = layer.animations[animationName];\r\n\r\n    // Make sure the animation is active\r\n    if (!animation.isActive) {\r\n      // Create warning message based on which object doesn't exist yet\r\n      const typeName = layer.isActive ? 'animation' : 'layer';\r\n      const message = `Skipping gesture ${animationName} on layer ${layerName} for host ${this._host.id}. No ${typeName} exists with this name yet.`;\r\n\r\n      console.warn(message);\r\n      return Deferred.cancel({reason: 'inactive', value: typeName});\r\n    }\r\n\r\n    // Check if the gesture is already playing\r\n    const {currentGesture} = layer;\r\n    if (currentGesture === animationName && !force) {\r\n      const message = `Skipping gesture ${animationName} on layer ${layerName} for host ${this._host.id}. The gesture is already playing. Use options.force to force the gesture replay, which may result in a hard transition.`;\r\n\r\n      console.warn(message);\r\n      return Deferred.cancel({reason: 'playing', value: animationName});\r\n    }\r\n\r\n    // Update animation options\r\n    if (holdTime !== undefined) {\r\n      animation.holdTime = holdTime;\r\n    }\r\n\r\n    if (minimumInterval !== undefined) {\r\n      animation.minimumInterval = minimumInterval;\r\n    } else {\r\n      minimumInterval = this._getMinimumInterval(layer, animation);\r\n    }\r\n\r\n    // Check the interval\r\n    if (\r\n      !force &&\r\n      layer.playTimer !== null &&\r\n      layer.playTimer < minimumInterval\r\n    ) {\r\n      console.warn(\r\n        `Skipping gesture ${animationName} on layer ${layerName} for host ${this._host.id}. Minimum interval ${minimumInterval} has not been met.`\r\n      );\r\n      return Deferred.cancel({\r\n        reason: 'minimumInterval',\r\n        value: minimumInterval - layer.playTimer,\r\n      });\r\n    }\r\n\r\n    // Play the animation\r\n    layer.currentGesture = animationName;\r\n    layer.playTimer = 0;\r\n    layer.holdTimer.cancel();\r\n    if (layer.autoDisable) {\r\n      this.setLayerWeights(name => name === layerName, 1);\r\n    }\r\n\r\n    return this._host.AnimationFeature.playAnimation(\r\n      layerName,\r\n      animationName,\r\n      transitionTime\r\n    );\r\n  }\r\n\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    // Increment the timers\r\n    Object.entries(this._managedLayers).forEach(([name, options]) => {\r\n      if (options.isActive && !this._host.AnimationFeature.getPaused(name)) {\r\n        options.holdTimer.execute(deltaTime);\r\n\r\n        if (options.playTimer !== null) {\r\n          options.playTimer += deltaTime / 1000;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  installApi() {\r\n    /**\r\n     * @inner\r\n     * @namespace GestureFeature\r\n     */\r\n    const api = super.installApi();\r\n\r\n    Object.assign(api, {\r\n      /**\r\n       * @memberof GestureFeature\r\n       * @instance\r\n       * @method\r\n       * @see GestureFeature#createGestureMap\r\n       */\r\n      createGestureMap: this.createGestureMap.bind(this),\r\n      /**\r\n       * @memberof GestureFeature\r\n       * @instance\r\n       * @method\r\n       * @see GestureFeature#createGenericGestureArray\r\n       */\r\n      createGenericGestureArray: this.createGenericGestureArray.bind(this),\r\n      /**\r\n       * @memberof GestureFeature\r\n       * @instance\r\n       * @method\r\n       * @see GestureFeature#playGesture\r\n       */\r\n      playGesture: this.playGesture.bind(this),\r\n    });\r\n  }\r\n}\r\n\r\nObject.defineProperties(GestureFeature, {\r\n  DEFAULT_LAYER_OPTIONS: {\r\n    value: {\r\n      ...GestureFeature.DEFAULT_LAYER_OPTIONS,\r\n      autoDisable: true,\r\n    },\r\n    writable: false,\r\n  },\r\n  EVENT_DEPENDENCIES: {\r\n    value: {\r\n      ...GestureFeature.EVENT_DEPENDENCIES,\r\n      AnimationFeature: {\r\n        ...GestureFeature.EVENT_DEPENDENCIES.AnimationFeature,\r\n        playNextAnimation: '_onNext',\r\n        stopAnimation: '_onStop',\r\n        interruptAnimation: '_onStop',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport default GestureFeature;\r\nexport {DefaultGestureWords};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable import/prefer-default-export */\r\n\r\n/**\r\n * Indicates the type of host build.\r\n *\r\n * @type {string}\r\n */\r\nconst env = 'core';\r\n\r\nexport {env};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Messenger from './Messenger';\r\nimport AbstractHostFeature from './AbstractHostFeature';\r\nimport Utils from './Utils';\r\n\r\n/**\r\n * Object that manages access to all Host features. Contains a reference to\r\n * engine-specific visuals if applicable.\r\n *\r\n * @extends core/Messenger\r\n * @alias core/HostObject\r\n *\r\n * @property {Object} EVENTS - Built-in messages that the Messenger emits.\r\n * @property {string} [EVENTS.update='onUpdate'] - Message that is emitted after\r\n * each call to [update]{@link core/HostObject#update}.\r\n * @property {string} [EVENTS.addFeature='onAddFeature'] - Message that is emitted\r\n * after each call to [addFeature]{@link core/HostObject#addFeature}.\r\n * @property {string} [EVENTS.removeFeature='onRemoveFeature'] - Message that is emitted\r\n * after each call to [removeFeature]{@link core/HostObject#removeFeature}.\r\n */\r\nclass HostObject extends Messenger {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options - Options for the host.\r\n   * @param {Object=} options.owner - Optional engine-specific owner of the host.\r\n   */\r\n  constructor({owner = {}} = {}) {\r\n    // If an owner is specified, use its id for messaging\r\n    super(owner.id);\r\n\r\n    this._owner = owner;\r\n    this._features = {};\r\n    this._waits = [];\r\n    this._lastUpdate = this.now;\r\n  }\r\n\r\n  /**\r\n   * Gets the engine owner object of the host.\r\n   *\r\n   * @readonly\r\n   * @type {Object}\r\n   */\r\n  get owner() {\r\n    return this._owner;\r\n  }\r\n\r\n  /**\r\n   * Gets the current time in milliseconds.\r\n   *\r\n   * @readonly\r\n   * @type {number}\r\n   */\r\n  get now() {\r\n    return Date.now();\r\n  }\r\n\r\n  /**\r\n   * Gets the amount of time in milliseconds since update was last called.\r\n   *\r\n   * @readonly\r\n   * @type {number}\r\n   */\r\n  get deltaTime() {\r\n    return this.now - this._lastUpdate;\r\n  }\r\n\r\n  /**\r\n   * This function should be called in the engine's render loop. Executes update\r\n   * loops for all features.\r\n   */\r\n  update() {\r\n    const currentTime = this.now;\r\n    const dt = this.deltaTime;\r\n\r\n    // Progress stored waits\r\n    this._waits.forEach(wait => {\r\n      wait.execute(dt);\r\n    });\r\n\r\n    // Update all features\r\n    Object.values(this._features).forEach(feature => {\r\n      feature.update(dt);\r\n    });\r\n\r\n    // Notify listeners an update occured\r\n    this.emit(this.constructor.EVENTS.update, dt);\r\n\r\n    this._lastUpdate = currentTime;\r\n  }\r\n\r\n  /**\r\n   * Return a deferred promise that will wait a given number of seconds before\r\n   * resolving. The host will continuously update the wait promise during the\r\n   * update loop until it resolves.\r\n   *\r\n   * @param {number} [seconds=0] - Number of seconds to wait before resolving.\r\n   * @param {Object=} options - Optional options object\r\n   * @param {Function} [options.onFinish] - Callback to execute once the wait time\r\n   * is met.\r\n   * @param {Function=} options.onProgress - Callback to execute each time the wait\r\n   * time progresses towards the target number of seconds. The amount of progress\r\n   * as a 0-1 percentage is passed as an argument.\r\n   * @param {Function=} options.onCancel - Callback to execute if the user cancels\r\n   * the wait before completion.\r\n   * @param {Function=} options.onError - Callback to execute if the wait stops\r\n   * because an error is encountered. The error message is passed as a parameter.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  wait(seconds, {onFinish, onProgress, onCancel, onError} = {}) {\r\n    const wait = Utils.wait(seconds, {onFinish, onProgress, onCancel, onError});\r\n    this._waits.push(wait);\r\n\r\n    // Once the wait promise is no longer pending remove it from the waits array\r\n    const onComplete = () => {\r\n      this._waits.splice(this._waits.indexOf(wait), 1);\r\n    };\r\n    wait.then(onComplete, onComplete);\r\n\r\n    return wait;\r\n  }\r\n\r\n  /**\r\n   * Instantiate a new Host feature and store it. Features must inherit from\r\n   * AbstractHostFeature.\r\n   *\r\n   * @param {Class} FeatureClass - Class that will instantiate the feature. Must\r\n   * extend {@link AbstractHostFeature}.\r\n   * @param {boolean} [force=false] - Whether or not to overwrite an existing\r\n   * feature if one of this type already exists on the object.\r\n   * @param  {...any} args - Additional arguments to pass to the FeatureClass\r\n   * constructor. The HostObject will always be passed as the first argument.\r\n   *\r\n   * @returns {boolean} - Whether or not a feature was successfully added.\r\n   */\r\n  addFeature(FeatureClass, force = false, ...args) {\r\n    const inputType = typeof FeatureClass;\r\n\r\n    // Make sure the FeatureClass can be executed\r\n    if (inputType !== 'function') {\r\n      throw new Error(\r\n        `Cannot add feature to host ${this.id}. FeatureClass must be a class.`\r\n      );\r\n    }\r\n    // Make sure the feature is a host feature\r\n    else if (!(FeatureClass.prototype instanceof AbstractHostFeature)) {\r\n      throw new Error(\r\n        `Cannot add feature ${FeatureClass.name} to host ${this.id}. FeatureClass must extend AbstractHostFeature.`\r\n      );\r\n    }\r\n\r\n    // Check if the FeatureClass already exists on this object\r\n    if (this._features[FeatureClass.name] !== undefined) {\r\n      if (force) {\r\n        console.warn(\r\n          `Feature ${FeatureClass.name} already exists on host ${this.id}. Existing feature will be overwritten.`\r\n        );\r\n      } else {\r\n        throw new Error(\r\n          `Feature ${FeatureClass.name} already exists on host ${this.id}. Use 'force' argument to overwrite the feature.`\r\n        );\r\n      }\r\n    }\r\n\r\n    // Initialize the feature\r\n    const feature = new FeatureClass(this, ...args);\r\n    feature.installApi();\r\n\r\n    this._features[FeatureClass.name] = feature;\r\n    this.emit(this.constructor.EVENTS.addFeature, FeatureClass.name);\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Remove a feature from the object.\r\n   *\r\n   * @param {string} typeName - Name of the type of feature to remove.\r\n   *\r\n   * @returns {boolean} - Whether or not a feature was successfully removed.\r\n   */\r\n  removeFeature(typeName) {\r\n    if (this._features[typeName] === undefined) {\r\n      console.warn(\r\n        `Feature of type ${typeName} does not exist on host ${this.id}. No feature will be removed.`\r\n      );\r\n      return false;\r\n    } else {\r\n      // Remove the feature\r\n      this.emit(this.constructor.EVENTS.removeFeature, typeName);\r\n      this._features[typeName].discard();\r\n      delete this._features[typeName];\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Indicate whether a specified feature is installed on the host.\r\n   *\r\n   * @param {string} typeName - Name of the type of feature to look for.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  hasFeature(typeName) {\r\n    return !!this._features[typeName];\r\n  }\r\n\r\n  /**\r\n   * List the names of the features installed on the host.\r\n   *\r\n   * @returns {Array.<string>}\r\n   */\r\n  listFeatures() {\r\n    return Object.keys(this._features);\r\n  }\r\n}\r\n\r\nObject.defineProperty(HostObject, 'EVENTS', {\r\n  value: {\r\n    ...Object.getPrototypeOf(HostObject).EVENTS,\r\n    update: 'onUpdate',\r\n    addFeature: 'onAddFeature',\r\n    removeFeature: 'onRemoveFeature',\r\n  },\r\n  writable: false,\r\n});\r\n\r\nexport default HostObject;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport MathUtils from './MathUtils';\r\nimport {Quadratic} from './animpack/Easing';\r\nimport ManagedAnimationLayerInterface from './animpack/ManagedAnimationLayerInterface';\r\nimport TextToSpeechFeatureDependentInterface from './awspack/TextToSpeechFeatureDependentInterface';\r\nimport AbstractHostFeature from './AbstractHostFeature';\r\n\r\n/**\r\n * Default mapping of Polly viseme names to animation options objects.\r\n *\r\n * @property {Object} [sil={name: 'sil'}]\r\n * @property {Object} [p={name: 'p', overrideWeight: 0.9}]\r\n * @property {Object} [t={name: 't', blendTime: 0.2}]\r\n * @property {Object} [S={name: 'S'}]\r\n * @property {Object} [T={name: 'T'}]\r\n * @property {Object} [f={name: 'f', overrideWeight: 0.75}]\r\n * @property {Object} [k={name: 'k'}]\r\n * @property {Object} [i={name: 'i'}]\r\n * @property {Object} [r={name: 'r'}]\r\n * @property {Object} [s={name: 's', blendTime: 0.25}]\r\n * @property {Object} [u={name: 'u'}]\r\n * @property {Object} [@={name: '@'}]\r\n * @property {Object} [a={name: 'a'}]\r\n * @property {Object} [e={name: 'e', blendTime: 0.2}]\r\n * @property {Object} [E={name: 'E'}]\r\n * @property {Object} [o={name: 'o'}]\r\n * @property {Object} [O={name: 'O'}]\r\n */\r\nconst DefaultVisemeMap = {\r\n  sil: {name: 'sil'},\r\n  p: {name: 'p', overrideWeight: 0.9},\r\n  t: {name: 't', blendTime: 0.2},\r\n  S: {name: 'S'},\r\n  T: {name: 'T'},\r\n  f: {name: 'f', overrideWeight: 0.75},\r\n  k: {name: 'k'},\r\n  i: {name: 'i'},\r\n  r: {name: 'r'},\r\n  s: {name: 's', blendTime: 0.25},\r\n  u: {name: 'u'},\r\n  '@': {name: '@'},\r\n  a: {name: 'a'},\r\n  e: {name: 'e', blendTime: 0.2},\r\n  E: {name: 'E'},\r\n  o: {name: 'o'},\r\n  O: {name: 'O'},\r\n};\r\n\r\n/**\r\n * Lipsync controls two types of movement: idle animation that should play while\r\n * speech is playing and viseme animations corresponding to Polly visemes whose\r\n * weights should be turned on and off as they are encountered in the Polly SSML\r\n * transcript. Layers owned by this feature will be enabled while speech is playing\r\n * and disabled once it stops.\r\n *\r\n * @extends AbstractHostFeature\r\n * @alias core/LipsyncFeature\r\n * @implements TextToSpeechFeatureDependentInterface\r\n * @implements ManagedAnimationLayerInterface\r\n */\r\nclass LipsyncFeature extends AbstractHostFeature.mix(\r\n  TextToSpeechFeatureDependentInterface.Mixin,\r\n  ManagedAnimationLayerInterface.Mixin\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - Host that owns the feature.\r\n   * @param {Object=} visemeOptions - Options for the viseme layers.\r\n   * @param {number} [visemeOptions.blendTime=0.15] - Default amount of time it\r\n   * will take to manipulate each freeBlend weight on the viseme states.\r\n   * @param {Object} [visemeOptions.decayRate={amount: .5, seconds: .5}] - An object\r\n   * describing the 0-1 factor viseme weight will decay if the viseme duration is\r\n   * longer than the blendTime and the number of seconds it would take to decay\r\n   * by that factor.\r\n   * @param {number} [visemeOptions.easingFn=Quadratic.InOut] - Default easing function\r\n   * to use when manipulating viseme freeBlend weights.\r\n   * @param {Array.<Object>} [visemeOptions..layers=[]] - An array of layer options\r\n   * objects to register as viseme layers.\r\n   * @param {Object=} talkingOptions - Options for the talking layers.\r\n   * @param {number} [talkingOptions.blendTime=0.75] - Default amount of time to\r\n   * enable and disable the talking idle layers\r\n   * @param {number} [talkingOptions.easingFn=Quadratic.InOut] - Default easing\r\n   * function to use when manipulating weights on the talking idle layers.\r\n   * @param {Array.<Object>} [talkingOptions.layers=[]] - An array of layer options\r\n   * objects to register as talking layers.\r\n   * @param {number} [visemeLeadTime=.067] - The amount of time to instruct the\r\n   * TextToSpeechFeature to emit speechmarks before each one's actual timestamp\r\n   * is reached. This will set the 'speechMarkOffset' variable on the TextToSpeechFeature.\r\n   */\r\n  constructor(\r\n    host,\r\n    {\r\n      blendTime: visemeBlendTime = 0.15,\r\n      decayRate: {amount = 0.5, seconds = 0.5} = {},\r\n      easingFn: visemeEasingFn = Quadratic.InOut,\r\n      layers: visemeLayers = [],\r\n    } = {},\r\n    {\r\n      blendTime: talkingBlendTime = 0.75,\r\n      easingFn: talkingEasingFn = Quadratic.InOut,\r\n      layers: talkingLayers = [],\r\n    } = {},\r\n    visemeLeadTime = 0.067\r\n  ) {\r\n    super(host);\r\n\r\n    this._visemeLayers = {};\r\n    this._talkingLayers = {};\r\n    this.visemeLeadTime = visemeLeadTime;\r\n\r\n    // Register the viseme layers\r\n    visemeLayers.forEach(({name, animation, visemeMap = DefaultVisemeMap}) => {\r\n      this.registerVisemeLayer(name, {\r\n        animation,\r\n        visemeMap,\r\n        decayRate: {amount, seconds},\r\n        blendTime: visemeBlendTime,\r\n        easingFn: visemeEasingFn,\r\n      });\r\n    });\r\n\r\n    // Register the talking layers\r\n    talkingLayers.forEach(({name, animation}) => {\r\n      this.registerTalkingLayer(name, {\r\n        animation,\r\n        blendTime: talkingBlendTime,\r\n        easingFn: talkingEasingFn,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Ensure that registered viseme animations are FreeBlendStates.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the viseme animation.\r\n   * @param {string} animationName - Name of the animation.\r\n   */\r\n  _registerVisemeAnimation(layerName, animationName) {\r\n    if (this._managedLayers[layerName].animations[animationName].isActive) {\r\n      if (\r\n        this._host.AnimationFeature.getAnimationType(\r\n          layerName,\r\n          animationName\r\n        ) !== 'freeBlend'\r\n      ) {\r\n        // Warn and deactivate if the registered state is not freeBlend\r\n        console.warn(\r\n          `Cannot register Lipsync viseme animation ${animationName} on layer ${layerName} for host ${this._host.id}. Viseme animations must be of type 'freeBlend'.`\r\n        );\r\n        this._managedLayers[layerName].animations[\r\n          animationName\r\n        ].isActive = false;\r\n      } else {\r\n        // Check if the blendWeights can be manipulated now\r\n        const weightNames = this._host.AnimationFeature.getAnimationBlendNames(\r\n          layerName,\r\n          animationName\r\n        );\r\n        const {visemeMap} = this._managedLayers[layerName].animations[\r\n          animationName\r\n        ];\r\n\r\n        Object.values(visemeMap).forEach(visemeOptions => {\r\n          visemeOptions.isActive = weightNames.includes(visemeOptions.name);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If the added feature is TextToSpeech, update its speechMarkOffset variable.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} typeName - Name of the type of feature that was added.\r\n   */\r\n  _onFeatureAdded(typeName) {\r\n    this._visemeLayers = this._visemeLayers || {};\r\n    this._talkingLayers = this._talkingLayers || {};\r\n\r\n    super._onFeatureAdded(typeName);\r\n\r\n    if (typeName === 'TextToSpeechFeature') {\r\n      this._host.TextToSpeechFeature.speechmarkOffset =\r\n        -this._visemeLeadTime || 0;\r\n    }\r\n  }\r\n\r\n  _onLayerAdded({name}) {\r\n    super._onLayerAdded({name});\r\n\r\n    // Validate the viseme animation\r\n    if (this._visemeLayers[name] !== undefined) {\r\n      this._registerVisemeAnimation(name, this._visemeLayers[name]);\r\n    }\r\n  }\r\n\r\n  _onAnimationAdded({layerName, animationName}) {\r\n    super._onAnimationAdded({layerName});\r\n\r\n    // Validate the viseme animation\r\n    if (this._visemeLayers[layerName] === animationName) {\r\n      this._registerVisemeAnimation(layerName, this._visemeLayers[layerName]);\r\n    }\r\n  }\r\n\r\n  _onPlay() {\r\n    // Turn on the layer weights\r\n    this.enable();\r\n\r\n    // Set the current animations\r\n    [this._visemeLayers, this._talkingLayers].forEach(layers => {\r\n      Object.entries(layers).forEach(([layerName, animationName]) => {\r\n        if (this._managedLayers[layerName].animations[animationName].isActive) {\r\n          this._host.AnimationFeature.resumeAnimation(layerName, animationName);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  _onPause() {\r\n    this._onStop();\r\n  }\r\n\r\n  _onResume() {\r\n    this._onPlay();\r\n  }\r\n\r\n  _onStop() {\r\n    // Turn off the layer weights\r\n    this.disable();\r\n\r\n    // Pause the current animations\r\n    [this._visemeLayers, this._talkingLayers].forEach(layers => {\r\n      Object.entries(layers).forEach(([layerName, animationName]) => {\r\n        if (this._managedLayers[layerName].animations[animationName].isActive) {\r\n          this._host.AnimationFeature.pauseAnimation(layerName, animationName);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * When viseme events are caught, turn on weight of the new viseme for the duration\r\n   * of the speech mark, then turn weight back off.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} event - Event data passed from the speech.\r\n   * @param {Object} event.mark - Speechmark object.\r\n   */\r\n  async _onViseme({mark}) {\r\n    Object.entries(this._visemeLayers).forEach(([layerName, animName]) => {\r\n      // Make sure the layer can be manipulated\r\n      const {isActive, visemeMap} = this._managedLayers[layerName].animations[\r\n        animName\r\n      ];\r\n\r\n      if (!isActive) {\r\n        return;\r\n      }\r\n\r\n      // Take variables from the viseme if they exist and default to the layer\r\n      const {\r\n        name: viseme,\r\n        isActive: isVisemeActive,\r\n        decayRate,\r\n        blendTime,\r\n        easingFn,\r\n        overrideWeight,\r\n      } = {\r\n        ...this._managedLayers[layerName],\r\n        ...visemeMap[mark.value],\r\n      };\r\n\r\n      const visemeNames = this._host.AnimationFeature.getAnimationBlendNames(\r\n        layerName,\r\n        animName\r\n      );\r\n\r\n      // Make sure the new viseme has an active freeBlend weight\r\n      if (!isVisemeActive || !visemeNames.includes(viseme)) {\r\n        return;\r\n      }\r\n\r\n      // Find the peak weight for the viseme and the amount of time it should\r\n      // take to reach it\r\n      let weight = 1;\r\n      const duration = mark.duration / 1000;\r\n      if (duration < blendTime) {\r\n        const lerpFactor = blendTime > 0 ? duration / blendTime : 1;\r\n        weight =\r\n          overrideWeight !== undefined\r\n            ? overrideWeight\r\n            : MathUtils.lerp(0, 1, lerpFactor);\r\n      }\r\n      const blendInTime = Math.min(duration, blendTime);\r\n\r\n      // Find the amount and time viseme will be held for\r\n      const holdTime = duration - blendTime;\r\n\r\n      if (holdTime < 0) {\r\n        // Perform in -> out animation\r\n        this._animateSimpleViseme(\r\n          layerName,\r\n          animName,\r\n          viseme,\r\n          weight,\r\n          blendInTime,\r\n          blendTime,\r\n          easingFn\r\n        );\r\n      } else {\r\n        const lerpFactor =\r\n          decayRate.seconds > 0 ? holdTime / decayRate.seconds : 1;\r\n        // Perform in -> hold -> out animation\r\n        const decayWeight = MathUtils.lerp(\r\n          weight,\r\n          weight * decayRate.amount,\r\n          Math.min(1, lerpFactor)\r\n        );\r\n        this._animateHeldViseme(\r\n          layerName,\r\n          animName,\r\n          viseme,\r\n          weight,\r\n          decayWeight,\r\n          blendInTime,\r\n          holdTime,\r\n          blendTime,\r\n          easingFn\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Animate a viseme blend weight towards a value and then back to zero.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the viseme.\r\n   * @param {string} animName - Name of the freeblend animation that contains\r\n   * the viseme.\r\n   * @param {string} visemeName - Name of the blend weight to manipulate.\r\n   * @param {number} weight - Peak weight to animate towards.\r\n   * @param {number} blendInTime - Amount of time it should take to reach the\r\n   * peak weight.\r\n   * @param {number} blendOutTime - Amount of time it should take to animate back\r\n   * to zero after reaching the peak weight.\r\n   * @param {Function} easingFn - Easing function to use during animation.\r\n   */\r\n  _animateSimpleViseme(\r\n    layerName,\r\n    animName,\r\n    visemeName,\r\n    peakWeight,\r\n    blendInTime,\r\n    blendOutTime,\r\n    easingFn\r\n  ) {\r\n    // Animate towards the peak value\r\n    const weightPromise = this._host.AnimationFeature.setAnimationBlendWeight(\r\n      layerName,\r\n      animName,\r\n      visemeName,\r\n      peakWeight,\r\n      blendInTime,\r\n      easingFn\r\n    );\r\n\r\n    // Animate back to zero if there was no weight interruption\r\n    weightPromise.then(() => {\r\n      if (!weightPromise.canceled) {\r\n        this._host.AnimationFeature.setAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          visemeName,\r\n          0,\r\n          blendOutTime,\r\n          easingFn\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Animate a viseme blend weight towards a value and then back to zero.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the viseme.\r\n   * @param {string} animName - Name of the freeblend animation that contains\r\n   * the viseme.\r\n   * @param {string} visemeName - Name of the blend weight to manipulate.\r\n   * @param {number} peakWeight - Peak weight to animate towards.\r\n   * @param {number} decayWeight - Weight to animate towards after reaching the\r\n   * peak weight.\r\n   * @param {number} blendInTime - Amount of time it should take to reach the\r\n   * peak weight.\r\n   * @param {number} holdTime - Amount of time it should take to reach the decay\r\n   * weight after the peak weight has been reached.\r\n   * @param {number} blendOutTime - Amount of time it should take to animate back\r\n   * to zero after reaching the decay weight.\r\n   * @param {Function} easingFn - Easing function to use during animation.\r\n   */\r\n  async _animateHeldViseme(\r\n    layerName,\r\n    animName,\r\n    visemeName,\r\n    peakWeight,\r\n    decayWeight,\r\n    blendInTime,\r\n    holdTime,\r\n    blendOutTime,\r\n    easingFn\r\n  ) {\r\n    // Animate towards the peak value\r\n    const startPromise = this._host.AnimationFeature.setAnimationBlendWeight(\r\n      layerName,\r\n      animName,\r\n      visemeName,\r\n      peakWeight,\r\n      blendInTime,\r\n      easingFn\r\n    );\r\n\r\n    await startPromise;\r\n\r\n    if (!startPromise.canceled) {\r\n      // Animate towards the decay value if there was no weight interruption\r\n      const holdPromise = this._host.AnimationFeature.setAnimationBlendWeight(\r\n        layerName,\r\n        animName,\r\n        visemeName,\r\n        decayWeight,\r\n        holdTime,\r\n        easingFn\r\n      );\r\n\r\n      await holdPromise;\r\n\r\n      if (!holdPromise.canceled) {\r\n        // Animate back to zero if there was no weight interruption\r\n        this._host.AnimationFeature.setAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          visemeName,\r\n          0,\r\n          blendOutTime,\r\n          easingFn\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the amount of time in seconds to negatively offset speechmark\r\n   * emission by.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get visemeLeadTime() {\r\n    return this._visemeLeadTime;\r\n  }\r\n\r\n  set visemeLeadTime(seconds) {\r\n    this._visemeLeadTime = seconds;\r\n\r\n    if (this._host.TextToSpeechFeature) {\r\n      this._host.TextToSpeechFeature.speechmarkOffset = -seconds;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start keeping track of an animation layer that owns a freeBlend animation\r\n   * with blendWeights corresponding to visemes.\r\n   *\r\n   * @param {string} layerName - Name of the layer to keep track of.\r\n   * @param {Object=} options - Options for the layer.\r\n   * @param {string} [options.animation='visemes'] - Name of the animation on the\r\n   * layer that will be played during speech. This animation must be of type\r\n   * freeBlend.\r\n   * @param {Object=} decayRate\r\n   * @param {number} [decayRate.amount=0.5] - The percentage to decrease the viseme's\r\n   * peak value by over time once the peak value has been reached.\r\n   * @param {number} [decayRate.seconds=0.5] - The amount of time in seconds to\r\n   * decrease the viseme's weight once it has reached its peak value.\r\n   * @param {number=} [options.blendTime=[LipsyncFeature.DEFAULT_LAYER_OPTIONS.blendTime]{@link LipsyncFeature#DEFAULT_LAYER_OPTIONS#blendTime}] -\r\n   * Default amount of time to use when manipulating animation blendWeights.\r\n   * @param {Function=} options.easingFn - Default easing function to use when\r\n   * manipulating animation blendWeights.\r\n   * @param {Object} [options.visemeMap=DefaultVisemeMap] - Object containing key/value pairs of\r\n   * Polly viseme names mapped to objects containing the name of the corresponding\r\n   * animation blendWeight and any other animation options to use such as viseme\r\n   * specific blend times and easing functions.\r\n   */\r\n  registerVisemeLayer(\r\n    layerName,\r\n    {\r\n      animation = 'visemes',\r\n      decayRate = {amount: 0.5, seconds: 0.5},\r\n      blendTime = LipsyncFeature.DEFAULT_LAYER_OPTIONS.blendTime,\r\n      easingFn,\r\n      visemeMap = DefaultVisemeMap,\r\n    } = {}\r\n  ) {\r\n    // Register the layer and animation\r\n    this.registerLayer(layerName, {\r\n      decayRate,\r\n      blendTime,\r\n      easingFn,\r\n      animations: {[animation]: {visemeMap}},\r\n    });\r\n    this._visemeLayers[layerName] = animation;\r\n\r\n    // Validate the viseme animation\r\n    this._registerVisemeAnimation(layerName, animation);\r\n  }\r\n\r\n  /**\r\n   * Start keeping track of an animation layer that contains a looping animation\r\n   * to be played during speech.\r\n   *\r\n   * @param {string} layerName - Name of the layer to keep track of.\r\n   * @param {Object=} options - Options for the layer.\r\n   * @param {string} [options.animation='stand_talk'] - Name of the animation on the\r\n   * layer that will be played during speech.\r\n   * @param {number} [options.blendTime=[LipsyncFeature.DEFAULT_LAYER_OPTIONS.blendTime]{@link LipsyncFeature#DEFAULT_LAYER_OPTIONS#blendTime}] -\r\n   * Default amount of time to use when manipulating the layer's weights.\r\n   * @param {Function=} options.easingFn - Default easing function to use when\r\n   * manipulating the layer's weights.\r\n   */\r\n  registerTalkingLayer(\r\n    layerName,\r\n    {\r\n      animation = 'stand_talk',\r\n      blendTime = LipsyncFeature.DEFAULT_LAYER_OPTIONS.blendTime,\r\n      easingFn,\r\n    } = {}\r\n  ) {\r\n    // Register the layer and animation\r\n    this.registerLayer(layerName, {\r\n      blendTime,\r\n      easingFn,\r\n      animations: {[animation]: {}},\r\n    });\r\n    this._talkingLayers[layerName] = animation;\r\n  }\r\n\r\n  /**\r\n   * Adds a namespace to the host with the name of the feature to contain properties\r\n   * and methods from the feature that users of the host need access to.\r\n   *\r\n   * @see LipsyncFeature\r\n   */\r\n  installApi() {\r\n    /**\r\n     * @inner\r\n     * @namespace LipsyncFeature\r\n     */\r\n    const api = super.installApi();\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @name registerLayer\r\n     * @instance\r\n     * @method\r\n     * @see ManagedAnimationLayerInterface#registerLayer\r\n     */\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @name registerAnimation\r\n     * @instance\r\n     * @method\r\n     * @see ManagedAnimationLayerInterface#registerAnimation\r\n     */\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @name setLayerWeights\r\n     * @instance\r\n     * @method\r\n     * @see ManagedAnimationLayerInterface#setLayerWeights\r\n     */\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @name enable\r\n     * @instance\r\n     * @method\r\n     * @see ManagedAnimationLayerInterface#enable\r\n     */\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @name disable\r\n     * @instance\r\n     * @method\r\n     * @see ManagedAnimationLayerInterface#disable\r\n     */\r\n\r\n    Object.assign(api, {\r\n      /**\r\n       * @memberof LipsyncFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/LipsyncFeature#registerVisemeLayer\r\n       */\r\n      registerVisemeLayer: this.registerVisemeLayer.bind(this),\r\n      /**\r\n       * @memberof LipsyncFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/LipsyncFeature#registerTalkingLayer\r\n       */\r\n      registerTalkingLayer: this.registerTalkingLayer.bind(this),\r\n    });\r\n\r\n    /**\r\n     * @memberof LipsyncFeature\r\n     * @instance\r\n     * @name visemeLeadTime\r\n     * @see core/LipsyncFeature#visemeLeadTime\r\n     */\r\n    Object.defineProperty(api, 'visemeLeadTime', {\r\n      get: () => this.visemeLeadTime,\r\n      set: seconds => {\r\n        this.visemeLeadTime = seconds;\r\n      },\r\n    });\r\n\r\n    return api;\r\n  }\r\n}\r\n\r\nexport default LipsyncFeature;\r\nexport {DefaultVisemeMap};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nconst RadianToDegree = 180 / Math.PI;\r\nconst DegreeToRadian = Math.PI / 180;\r\n\r\n/**\r\n * A collection of useful math functions.\r\n *\r\n * @hideconstructor\r\n */\r\nclass MathUtils {\r\n  /**\r\n   * Convert the given angle from radians to degrees.\r\n   *\r\n   * @param {number} radians - Angle in radians.\r\n   *\r\n   * @returns {number} - Angle in degrees.\r\n   */\r\n  static toDegrees(radians) {\r\n    return radians * RadianToDegree;\r\n  }\r\n\r\n  /**\r\n   * Convert the given angle from degrees to radians.\r\n   *\r\n   * @param {number} degrees - Angle in degrees.\r\n   *\r\n   * @returns {number} - Angle in radians.\r\n   */\r\n  static toRadians(degrees) {\r\n    return degrees * DegreeToRadian;\r\n  }\r\n\r\n  /**\r\n   * Linearly interpolate between two values.\r\n   *\r\n   * @param {number} from - Start value.\r\n   * @param {number} to - Target value.\r\n   * @param {number} factor - 0-1 amount to interpolate between from and to.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static lerp(from, to, factor) {\r\n    return from + (to - from) * factor;\r\n  }\r\n\r\n  /**\r\n   * Clamp a number between 2 values.\r\n   *\r\n   * @param {number} value - Value to clamp.\r\n   * @param {number} [min=0] - Minumum value.\r\n   * @param {number} [max=1] - Maximum value.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static clamp(value, min = 0, max = 1) {\r\n    return Math.max(min, Math.min(value, max));\r\n  }\r\n\r\n  /**\r\n   * Calculates the closest point on a given 2D line segement\r\n   * from a given 2D point.\r\n   *\r\n   * @param {Array.<number>} a - First point on line segment.\r\n   * @param {Array.<number>} b - Second point on line segment.\r\n   * @param {Array.<number>} p - 2D point.\r\n   *\r\n   * @returns {Array.<number>}\r\n   */\r\n  static closestPointOnLine(a, b, p) {\r\n    const distSqr = MathUtils.distanceSquared(a, b);\r\n\r\n    // Line segment is a single point\r\n    if (distSqr === 0) {\r\n      return a;\r\n    }\r\n\r\n    const t =\r\n      ((p[0] - a[0]) * (b[0] - a[0]) + (p[1] - a[1]) * (b[1] - a[1])) / distSqr;\r\n\r\n    let point = [...a];\r\n    if (t > 1) {\r\n      point = [...b];\r\n    } else if (t > 0) {\r\n      point = [a[0] + t * (b[0] - a[0]), a[1] + t * (b[1] - a[1])];\r\n    }\r\n\r\n    return point;\r\n  }\r\n\r\n  /**\r\n   * Gets the distance squared for two 2D points.\r\n   * @param {Array.<number>} a - 2D point.\r\n   * @param {Array.<number>} b - 2D point.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static distanceSquared(a, b) {\r\n    return (a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]);\r\n  }\r\n\r\n  /**\r\n   * Triangulates a set of 2D points using an implementation\r\n   * of the Bowyer-Watson incremental Delaunay triangulation.\r\n   *\r\n   * @param {Array.<Array.<number>>} vertices - Array of 2D points.\r\n   *\r\n   * @returns {Array.<Array<number>>} - Array of triangle indices.\r\n   */\r\n  static getDelaunayTriangulation(vertices) {\r\n    if (!vertices || vertices.length < 3) {\r\n      throw new Error(\r\n        `Cannot get delaunay triangulation for points ${vertices}. Input must contain at least three points.`\r\n      );\r\n    }\r\n\r\n    let minX = Number.POSITIVE_INFINITY;\r\n    let minY = Number.POSITIVE_INFINITY;\r\n    let maxX = Number.NEGATIVE_INFINITY;\r\n    let maxY = Number.NEGATIVE_INFINITY;\r\n\r\n    vertices.forEach(v => {\r\n      minX = v[0] < minX ? v[0] : minX;\r\n      minY = v[1] < minY ? v[1] : minY;\r\n      maxX = v[0] > maxX ? v[0] : maxX;\r\n      maxY = v[1] > maxY ? v[1] : maxY;\r\n    });\r\n\r\n    const dX = maxX - minX;\r\n    const dY = maxY - minY;\r\n    const midX = (minX + maxX) / 2;\r\n    const midY = (minY + maxY) / 2;\r\n    const dMax = dX > dY ? dX : dY;\r\n\r\n    const superIndices = [\r\n      vertices.length,\r\n      vertices.length + 1,\r\n      vertices.length + 2,\r\n    ];\r\n\r\n    const vertsWithSuper = [\r\n      ...vertices,\r\n      [midX - 20 * dMax, midY - dMax],\r\n      [midX, midY + 20 * dMax],\r\n      [midX + 20 * dMax, midY - dMax],\r\n    ];\r\n\r\n    const superSortedIndices = MathUtils.sortPointsCCW(\r\n      superIndices,\r\n      vertsWithSuper\r\n    );\r\n\r\n    const superTriangle = {\r\n      indices: superSortedIndices,\r\n      edges: [\r\n        [superSortedIndices[0], superSortedIndices[1]],\r\n        [superSortedIndices[1], superSortedIndices[2]],\r\n        [superSortedIndices[2], superSortedIndices[0]],\r\n      ],\r\n    };\r\n\r\n    const triangles = [superTriangle];\r\n\r\n    vertsWithSuper.forEach((newVert, newIndex) => {\r\n      const invalidTriangles = [];\r\n      triangles.forEach(triangle => {\r\n        if (\r\n          MathUtils.isPointInCircumCircle(\r\n            vertsWithSuper[triangle.indices[0]],\r\n            vertsWithSuper[triangle.indices[1]],\r\n            vertsWithSuper[triangle.indices[2]],\r\n            newVert\r\n          )\r\n        ) {\r\n          invalidTriangles.push(triangle);\r\n        }\r\n      });\r\n\r\n      const boundingPoly = [];\r\n      invalidTriangles.forEach(triangle => {\r\n        triangle.edges.forEach(edge => {\r\n          let count = 0;\r\n          invalidTriangles.forEach(otherTriangle => {\r\n            if (triangle !== otherTriangle) {\r\n              otherTriangle.edges.forEach(otherEdge => {\r\n                if (\r\n                  (edge[0] === otherEdge[0] && edge[1] === otherEdge[1]) ||\r\n                  (edge[1] === otherEdge[0] && edge[0] === otherEdge[1])\r\n                ) {\r\n                  count += 1;\r\n                }\r\n              });\r\n            }\r\n          });\r\n          if (count === 0) boundingPoly.push(edge);\r\n        });\r\n      });\r\n\r\n      invalidTriangles.forEach(triangle => {\r\n        triangles.splice(triangles.indexOf(triangle), 1);\r\n      });\r\n\r\n      boundingPoly.forEach(edge => {\r\n        const sortedIndices = MathUtils.sortPointsCCW(\r\n          [edge[0], edge[1], newIndex],\r\n          vertsWithSuper\r\n        );\r\n\r\n        triangles.push({\r\n          indices: sortedIndices,\r\n          edges: [\r\n            [sortedIndices[0], sortedIndices[1]],\r\n            [sortedIndices[1], sortedIndices[2]],\r\n            [sortedIndices[2], sortedIndices[0]],\r\n          ],\r\n        });\r\n      });\r\n    });\r\n\r\n    const trianglesToRemove = [];\r\n    triangles.forEach(triangle => {\r\n      triangle.indices.forEach(index => {\r\n        if (superIndices.includes(index)) {\r\n          trianglesToRemove.push(triangle);\r\n        }\r\n      });\r\n    });\r\n\r\n    trianglesToRemove.forEach(triangle => {\r\n      const index = triangles.indexOf(triangle);\r\n      if (index !== -1) {\r\n        triangles.splice(index, 1);\r\n      }\r\n    });\r\n\r\n    return triangles.map(triangle => triangle.indices);\r\n  }\r\n\r\n  /**\r\n   * Determines if a given 2D point is within the cicrumcircle\r\n   * defined by three 2D points. The triangle points must be in\r\n   * counter-clockwise order a -> b -> c.\r\n   *\r\n   * @param {Array.<number>} a - First triangle point.\r\n   * @param {Array.<number>} b - Second triangle point.\r\n   * @param {Array.<number>} c - Third triangle point.\r\n   * @param {Array.<number>} p - 2D point.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  static isPointInCircumCircle(a, b, c, p) {\r\n    const ax = a[0] - p[0];\r\n    const ay = a[1] - p[1];\r\n    const bx = b[0] - p[0];\r\n    const by = b[1] - p[1];\r\n    const cx = c[0] - p[0];\r\n    const cy = c[1] - p[1];\r\n\r\n    return (\r\n      (ax * ax + ay * ay) * (bx * cy - cx * by) -\r\n        (bx * bx + by * by) * (ax * cy - cx * ay) +\r\n        (cx * cx + cy * cy) * (ax * by - bx * ay) >\r\n      0\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Determines if a given 2D point is within a given triangle.\r\n   *\r\n   * @param {Array.<number>} a - First triangle point.\r\n   * @param {Array.<number>} b - Second triangle point.\r\n   * @param {Array.<number>} c - Third triangle point.\r\n   * @param {Array.<number>} p - 2D point.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  static isPointInTriangle(a, b, c, p) {\r\n    const denom = (b[1] - c[1]) * (a[0] - c[0]) + (c[0] - b[0]) * (a[1] - c[1]);\r\n    const aVal =\r\n      ((b[1] - c[1]) * (p[0] - c[0]) + (c[0] - b[0]) * (p[1] - c[1])) / denom;\r\n    const bVal =\r\n      ((c[1] - a[1]) * (p[0] - c[0]) + (a[0] - c[0]) * (p[1] - c[1])) / denom;\r\n    const cVal = 1 - aVal - bVal;\r\n\r\n    return (\r\n      aVal >= 0 && aVal <= 1 && bVal >= 0 && bVal <= 1 && cVal >= 0 && cVal <= 1\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Gets the sorted indices of a given set of 2D points in\r\n   * counter-clockwise order.\r\n   *\r\n   * @param {Array.<number>} indices - List of indices.\r\n   * @param {Array.<Array.<number>>} vertices - List of 2D points.\r\n   *\r\n   * @returns {Array.<Array.<number>>} - List of sorted indices.\r\n   */\r\n  static sortPointsCCW(indices, vertices) {\r\n    const centroid = [0, 0];\r\n    indices.forEach(index => {\r\n      centroid[0] += vertices[index][0];\r\n      centroid[1] += vertices[index][1];\r\n    });\r\n    centroid[0] /= indices.length;\r\n    centroid[1] /= indices.length;\r\n\r\n    indices.sort((a, b) => {\r\n      const bVal = Math.atan2(\r\n        vertices[b][1] - centroid[1],\r\n        vertices[b][0] - centroid[0]\r\n      );\r\n      const aVal = Math.atan2(\r\n        vertices[a][1] - centroid[1],\r\n        vertices[a][0] - centroid[0]\r\n      );\r\n\r\n      return aVal - bVal;\r\n    });\r\n\r\n    return indices;\r\n  }\r\n\r\n  /**\r\n   * Cacluates the area of a triangle\r\n   * @param {Array.<number>} a - First triangle point.\r\n   * @param {Array.<number>} b - Second triangle point.\r\n   * @param {Array.<number>} c - Third triangle point.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static triangleArea(a, b, c) {\r\n    return Math.abs(\r\n      (a[0] * (b[1] - c[1]) + b[0] * (c[1] - a[1]) + c[0] * (a[1] - b[1])) * 0.5\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the magnitude of a given vector array.\r\n   *\r\n   * @param {Array.<number>} vector - Array consisting of numbers.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static getVectorMagnitude(vector) {\r\n    if (!(vector instanceof Array)) {\r\n      throw new Error(\r\n        `Cannot get magnitude for vector ${vector}. Input must be an Array numbers.`\r\n      );\r\n    }\r\n\r\n    const reducer = (accumulator, currentValue) => {\r\n      if (typeof currentValue !== 'number') {\r\n        throw new Error(\r\n          `Cannot get magnitude for vector ${vector}. All items in the input Array must be numbers.`\r\n        );\r\n      }\r\n\r\n      return accumulator + currentValue ** 2;\r\n    };\r\n\r\n    return Math.sqrt(vector.reduce(reducer, 0));\r\n  }\r\n\r\n  /**\r\n   * Return the dot product between two vectors.\r\n   *\r\n   * @param {Array.<number>} vectorA - Array consisting of numbers.\r\n   * @param {Array.<number>} vectorB - Array consisting of numbers.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static getDotProduct(vectorA, vectorB) {\r\n    if (\r\n      !(vectorA instanceof Array) ||\r\n      !(vectorB instanceof Array) ||\r\n      vectorA.length !== vectorB.length\r\n    ) {\r\n      throw new Error(\r\n        `Cannot get dot product between ${vectorA} and ${vectorB}. Inputs must be vectors of the same length.`\r\n      );\r\n    }\r\n\r\n    let result = 0;\r\n    vectorA.forEach((valueA, index) => {\r\n      const valueB = vectorB[index];\r\n\r\n      if (typeof valueA !== 'number' || typeof valueB !== 'number') {\r\n        throw new Error(\r\n          `Cannot get dot product between ${vectorA} and ${vectorB}. Vectors must only consist of numeric values.`\r\n        );\r\n      }\r\n\r\n      result += valueA * valueB;\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Return the angle in radians between vectorA and vectorB.\r\n   *\r\n   * @param {Array.<number>} vectorA - Array consisting of numbers.\r\n   * @param {Array.<number>} vectorB - Array consisting of numbers.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static getAngleBetween(vectorA, vectorB) {\r\n    const normalA = this.normalizeVector([...vectorA]);\r\n    const normalB = this.normalizeVector([...vectorB]);\r\n    const dot = this.getDotProduct(normalA, normalB);\r\n\r\n    return Math.acos(this.clamp(dot, -1, 1));\r\n  }\r\n\r\n  /**\r\n   * Multiply a 3x3 rotation matrix with a vector3.\r\n   *\r\n   * @param {Array.<number>} vector3 - Array consisting of 3 numbers representing\r\n   * a direction vector.\r\n   * @param {Array.<number>} matrix3 - An array of 9 numbers representing a row\r\n   * major rotation matrix.\r\n   *\r\n   * @returns {Array.<number>} - An array of 3 numbers representing the new direction\r\n   * of the vector.\r\n   */\r\n  static rotateVector(vector3, matrix3) {\r\n    if (\r\n      !(vector3 instanceof Array) ||\r\n      vector3.length !== 3 ||\r\n      !vector3.every(v => typeof v === 'number')\r\n    ) {\r\n      throw new Error(\r\n        `Cannot rotate vector ${vector3} by rotation matrix ${matrix3}. Input vector must be an array of 3 numbers.`\r\n      );\r\n    }\r\n\r\n    if (\r\n      !(matrix3 instanceof Array) ||\r\n      matrix3.length !== 9 ||\r\n      !matrix3.every(v => typeof v === 'number')\r\n    ) {\r\n      throw new Error(\r\n        `Cannot rotate vector ${vector3} by rotation matrix ${matrix3}. Input matrix3 must be an array of 9 numbers.`\r\n      );\r\n    }\r\n\r\n    const x =\r\n      matrix3[0] * vector3[0] +\r\n      matrix3[3] * vector3[1] +\r\n      matrix3[6] * vector3[2];\r\n    const y =\r\n      matrix3[1] * vector3[0] +\r\n      matrix3[4] * vector3[1] +\r\n      matrix3[7] * vector3[2];\r\n    const z =\r\n      matrix3[2] * vector3[0] +\r\n      matrix3[5] * vector3[1] +\r\n      matrix3[8] * vector3[2];\r\n\r\n    return [x, y, z];\r\n  }\r\n\r\n  /**\r\n   * Normalize a given vector array.\r\n   *\r\n   * @param {Array.<number>} vector - Array consisting of numbers.\r\n   *\r\n   * @returns {Array.<number>} The original vector with normalized values, for chaining.\r\n   */\r\n  static normalizeVector(vector) {\r\n    const magnitude = this.getVectorMagnitude(vector);\r\n\r\n    if (magnitude === 0) {\r\n      vector.fill(0);\r\n    } else {\r\n      vector.forEach((value, index) => {\r\n        vector[index] = value / magnitude;\r\n      });\r\n    }\r\n\r\n    return vector;\r\n  }\r\n\r\n  /**\r\n   * Extract the 3x3 rotation matrix from a given 4x4 transformation matrix.\r\n   *\r\n   * @param {Array.<number>} matrix4 - An array of 16 numbers representing a row\r\n   * major transformation matrix.\r\n   *\r\n   * @returns {Array.<number>} - An array of 9 numbers representing a row major\r\n   * rotation matrix.\r\n   */\r\n  static getRotationMatrix(matrix4) {\r\n    if (\r\n      !(matrix4 instanceof Array) ||\r\n      matrix4.length !== 16 ||\r\n      !matrix4.every(v => typeof v === 'number')\r\n    ) {\r\n      throw new Error(\r\n        `Cannot convert matrix ${matrix4} to a rotation matrix. Input matrix must be an array of 16 numbers.`\r\n      );\r\n    }\r\n\r\n    // Extract scale\r\n    const scaleX = 1 / (this.getVectorMagnitude(matrix4.slice(0, 4)) || 1);\r\n    const scaleY = 1 / (this.getVectorMagnitude(matrix4.slice(4, 8)) || 1);\r\n    const scaleZ = 1 / (this.getVectorMagnitude(matrix4.slice(8, 12)) || 1);\r\n\r\n    return [\r\n      matrix4[0] * scaleX,\r\n      matrix4[1] * scaleX,\r\n      matrix4[2] * scaleX,\r\n      matrix4[4] * scaleY,\r\n      matrix4[5] * scaleY,\r\n      matrix4[6] * scaleY,\r\n      matrix4[8] * scaleZ,\r\n      matrix4[9] * scaleZ,\r\n      matrix4[10] * scaleZ,\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Return an array containing the spherical coordinates of the given cartesian\r\n   * xyz coordinates.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {number} x - Position along the x axis.\r\n   * @param {number} y - Position along the y axis.\r\n   * @param {number} z - Position along the z axis.\r\n   *\r\n   * @returns {Array.<number>} - An array consisting of three numberes where index\r\n   * 0 represents the radius, index 1 represents the vertical/polar angle in radians\r\n   * and index 2 represents the horizontal/azimuthal angle in radians.\r\n   */\r\n  static cartesianToSpherical(x, y, z) {\r\n    const r = this.getVectorMagnitude([x, y, z]);\r\n\r\n    // Return identity if the vector has no length\r\n    if (r === 0) {\r\n      return [0, 0, 0];\r\n    }\r\n\r\n    return [r, Math.acos(this.clamp(y / r, -1, 1)), Math.atan2(x, z)];\r\n  }\r\n\r\n  /**\r\n   * Gradually change a value of a numeric property towards a goal over time using\r\n   * a critically damped spring function.\r\n   *\r\n   * @param {number} currentValue - The starting value.\r\n   * @param {number} targetValue- The goal value.\r\n   * @param {Array.<number>} [valueStore = [0, 0]] - An Array consisting of two\r\n   * numbers where the first number holds the result value and the second holds\r\n   * the velocity that resulted in that value. The same array should be provided\r\n   * with each call to this function.\r\n   * @param {number} [deltaTime = 1e-7] - The time since the last call to this function\r\n   * in seconds.\r\n   * @param {number} [smoothTime = 0.3] - The approximate amount of time in seconds\r\n   * it should take to reach the target value.\r\n   * @param {number} [maxSpeed = 1e7] - A clamping value for the maximum speed the\r\n   * value can change.\r\n   *\r\n   * @returns {Array.<number>} - The valueStore array.\r\n   */\r\n  static dampValue(\r\n    currentValue,\r\n    targetValue,\r\n    valueStore = [0, 0],\r\n    deltaTime = 1e-7,\r\n    smoothTime = 0.3,\r\n    maxSpeed = 1e7\r\n  ) {\r\n    smoothTime = Math.max(0.0001, smoothTime);\r\n    deltaTime = Math.max(1e-7, deltaTime);\r\n\r\n    // Find the delta between values and use it to estimate the previous value\r\n    const clampTime = maxSpeed * smoothTime;\r\n    const deltaValue = currentValue - targetValue;\r\n    const clampDeltaValue = this.clamp(deltaValue, -clampTime, clampTime);\r\n    const lastValue = currentValue - clampDeltaValue;\r\n\r\n    // Calculate damping factors\r\n    const d1 = 2 / smoothTime;\r\n    const d2 = d1 * deltaTime;\r\n    const d3 = 1 / (1 + d2 + 0.5 * d2 ** 2 + 0.25 * d2 ** 3);\r\n    const d4 = (valueStore[1] + d1 * clampDeltaValue) * deltaTime;\r\n\r\n    // Damp the target value and update the velocity\r\n    valueStore[0] = lastValue + (clampDeltaValue + d4) * d3;\r\n    valueStore[1] = (valueStore[1] - d1 * d4) * d3;\r\n\r\n    // Prevent overshooting\r\n    if (targetValue - currentValue > 0 === valueStore[0] > targetValue) {\r\n      valueStore[0] = targetValue;\r\n      valueStore[1] = (valueStore[0] - targetValue) / deltaTime;\r\n    }\r\n\r\n    return valueStore;\r\n  }\r\n}\r\n\r\nexport default MathUtils;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable no-underscore-dangle */\r\nimport Utils from './Utils';\r\n\r\n/**\r\n * Class that can execute functions when local messages are received. Local messages\r\n * are prefixed with the instance's id.\r\n *\r\n * @alias core/Messenger\r\n *\r\n * @property {core/Messenger} GlobalMessenger - A messenger that can be used for\r\n * global messaging. When using static listen and emit methods they are executed\r\n * on this messenger.\r\n * @property {Object} EVENTS - Built-in events that the Messenger emits.\r\n */\r\nclass Messenger {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {any=} id - Id for the object. If none is provided a new id will\r\n   * be created. Id should be able to be represented as a string.\r\n   */\r\n  constructor(id) {\r\n    this._id = id !== undefined ? id : Utils.createId();\r\n    this._dispatcher = window;\r\n    this._callbacks = {};\r\n    this._eventListeners = {};\r\n  }\r\n\r\n  /**\r\n   * Gets the string id of the object.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * Prefix a message with the instance id.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} message\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _createLocalMessage(message) {\r\n    return `${this.id}.${message}`;\r\n  }\r\n\r\n  /**\r\n   * Return a function that will call a callback function and supply the event's\r\n   * detail property as an argument.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Function} callback\r\n   *\r\n   * @returns {Function}\r\n   */\r\n  _createListener(callback) {\r\n    return e => {\r\n      let value;\r\n\r\n      if (e.detail !== null) {\r\n        value = e.detail;\r\n      }\r\n\r\n      callback(value);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Create an event object and send it to listeners.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} message - Event type name.\r\n   * @param {any=} value - Value to send to listeners.\r\n   *\r\n   * @returns {CustomEvent}\r\n   */\r\n  _createEvent(message, value) {\r\n    return new CustomEvent(message, {detail: value});\r\n  }\r\n\r\n  /**\r\n   * Register an event.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} message - Event type name.\r\n   * @param {Function} listener - A listener function generated using _createListener.\r\n   */\r\n  _addListener(message, listener) {\r\n    this._dispatcher.addEventListener(\r\n      this._createLocalMessage(message),\r\n      listener\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Unregister an event.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} message - Event type name.\r\n   * @param {Function} listener - A listener function generated using _createListener.\r\n   */\r\n  _removeListener(message, listener) {\r\n    this._dispatcher.removeEventListener(\r\n      this._createLocalMessage(message),\r\n      listener\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Execute a function when a message is received for this object.\r\n   *\r\n   * @param {string} message - The message to listen for.\r\n   * @param {Function} callback - Function to execute once the message is received.\r\n   */\r\n  listenTo(message, callback) {\r\n    if (typeof callback !== 'function') {\r\n      throw new Error(\r\n        `Cannot add listener for ${message} on ${this.id}. Callback must be a function.`\r\n      );\r\n    }\r\n\r\n    if (this._callbacks[message] === undefined) {\r\n      this._callbacks[message] = [];\r\n      this._eventListeners[message] = [];\r\n    }\r\n\r\n    const listener = this._createListener(callback);\r\n    this._callbacks[message].push(callback);\r\n    this._eventListeners[message].push(listener);\r\n\r\n    this._addListener(message, listener);\r\n  }\r\n\r\n  /**\r\n   * Prevent a function from being executed when a message is received for this\r\n   * object.\r\n   *\r\n   * @param {string} message - The message to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  stopListening(message, callback) {\r\n    if (this._callbacks[message] === undefined) {\r\n      return;\r\n    } else if (callback === undefined) {\r\n      // If no callback was defined, call stopListening on all callbacks for the message\r\n      for (let i = this._callbacks[message].length - 1; i > -1; i--) {\r\n        this.stopListening(message, this._callbacks[message][i]);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // If a callback was defined, make sure it's a listener\r\n    const index = this._callbacks[message].indexOf(callback);\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n\r\n    const listener = this._eventListeners[message][index];\r\n    this._removeListener(message, listener);\r\n\r\n    this._callbacks[message].splice(index, 1);\r\n    this._eventListeners[message].splice(index, 1);\r\n\r\n    if (this._callbacks[message].length === 0) {\r\n      delete this._callbacks[message];\r\n      delete this._eventListeners[message];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * De-register callback(s) from being executed when messages matching the given\r\n   * regular expression are received.\r\n   *\r\n   * @param {Regexp} regexp - regexp - The regular expression to filter messages with.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for messages matching the regular expression.\r\n   */\r\n  stopListeningByRegexp(regexp, callback) {\r\n    const messages = Object.keys(this._callbacks).filter(message =>\r\n      regexp.test(message)\r\n    );\r\n\r\n    messages.forEach(message => {\r\n      this.stopListening(message, callback);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Prevent any functions from being executed when any message is received for\r\n   * this object.\r\n   */\r\n  stopListeningToAll() {\r\n    const messages = Object.keys(this._callbacks);\r\n\r\n    for (let i = messages.length - 1; i > -1; i--) {\r\n      this.stopListening(messages[i]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send a message, causing listener functions for the message on this object\r\n   * to be executed.\r\n   *\r\n   * @param {string} message - The message to emit.\r\n   * @param {any=} value - Optional argument to pass to listener callbacks.\r\n   */\r\n  emit(message, value) {\r\n    if (this._callbacks[message] === undefined) {\r\n      return;\r\n    }\r\n\r\n    message = this._createLocalMessage(message);\r\n    const event = this._createEvent(message, value);\r\n    this._dispatcher.dispatchEvent(event);\r\n  }\r\n\r\n  /**\r\n   * Execute a function when a message is received for the global Messenger instance.\r\n   *\r\n   * @static\r\n   *\r\n   * @param {string} message - The message to listen for.\r\n   * @param {Function} callback - Function to execute once the message is received.\r\n   */\r\n  static listenTo(message, callback, messenger) {\r\n    this.GlobalMessenger.listenTo(message, callback, messenger);\r\n  }\r\n\r\n  /**\r\n   * Prevent a function from being executed when a message is received for the\r\n   * global Messenger instance.\r\n   *\r\n   * @static\r\n   *\r\n   * @param {string} message - The message to stop listening for.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for the message.\r\n   */\r\n  static stopListening(message, callback) {\r\n    this.GlobalMessenger.stopListening(message, callback);\r\n  }\r\n\r\n  /**\r\n   * De-register callback(s) from being executed on the global messengerr instance\r\n   * when messages matching the given regular expression are received.\r\n   *\r\n   * @param {Regexp} regexp - regexp - The regular expression to filter messages with.\r\n   * @param {Function=} callback - Optional callback to remove. If none is defined,\r\n   * remove all callbacks for messages matching the regular expression.\r\n   */\r\n  static stopListeningByRegexp(regexp, callback) {\r\n    const messages = Object.keys(\r\n      this.GlobalMessenger._callbacks\r\n    ).filter(message => regexp.test(message));\r\n\r\n    messages.forEach(message => {\r\n      this.stopListening(message, callback);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Prevent any functions from being executed when any message is received for\r\n   * the global Messenger instance.\r\n   *\r\n   * @static\r\n   */\r\n  static stopListeningToAll() {\r\n    this.GlobalMessenger.stopListeningToAll();\r\n  }\r\n\r\n  /**\r\n   * Send a message, causing listener functions for the message on the global Messenger\r\n   * instance to be executed.\r\n   *\r\n   * @static\r\n   *\r\n   * @param {string} message - The message to emit.\r\n   * @param {any=} value - Optional argument to pass to listener callbacks.\r\n   */\r\n  static emit(message, value) {\r\n    this.GlobalMessenger.emit(message, value);\r\n  }\r\n}\r\n\r\nObject.defineProperties(Messenger, {\r\n  GlobalMessenger: {\r\n    value: new Messenger(),\r\n    writable: false,\r\n  },\r\n  EVENTS: {\r\n    value: {},\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default Messenger;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable no-underscore-dangle */\r\n/* eslint-disable no-unused-vars */\r\nimport ManagedAnimationLayerInterface from './animpack/ManagedAnimationLayerInterface';\r\nimport {AnimationTypes} from './animpack/AnimationFeature';\r\nimport SSMLSpeechmarkInterface from './awspack/SSMLSpeechmarkInterface';\r\nimport AbstractHostFeature from './AbstractHostFeature';\r\nimport {Quadratic} from './animpack/Easing';\r\nimport MathUtils from './MathUtils';\r\nimport Utils from './Utils';\r\n\r\n/**\r\n * Enum for axis directions.\r\n *\r\n * @readonly\r\n * @enum {Class}\r\n */\r\nconst AxisMap = {\r\n  PositiveX: [1, 0, 0],\r\n  NegativeX: [-1, 0, 0],\r\n  PositiveY: [0, 1, 0],\r\n  NegativeY: [0, -1, 0],\r\n  PositiveZ: [0, 0, 1],\r\n  NegativeZ: [0, 0, -1],\r\n};\r\n\r\nconst FaceTargetTypes = {\r\n  EyeCenter: 0,\r\n  EyeLeft: 1,\r\n  EyeRight: 2,\r\n  Mouth: 3,\r\n};\r\n\r\n// Average distance between pupils is .064m, golden ratio says that the distance\r\n// from center of the pupils to the center of the mouth should be about the same.\r\nconst FaceVectors = [\r\n  [0, 0, 0],\r\n  [-0.032, 0, 0],\r\n  [0.032, 0, 0],\r\n  [0, -0.064, 0],\r\n];\r\n\r\n// Time ranges to use when choosing a new random wait time between saccades\r\nconst MicroSaccadeWaitRanges = {\r\n  default: [0.8, 1.75],\r\n  postMacro: [0.6, 1.3125],\r\n};\r\n\r\nconst MacroSaccadeWaitRanges = {\r\n  default: [5.0, 8.0],\r\n  mouthTarget: [0.2, 0.75], // Look away from a mouth target the fastest\r\n  eyeTarget: [1.5, 4.0],\r\n};\r\n\r\n// Minimum angle in degrees the eye direction must change to trigger a blink animation\r\nconst BlinkThreshold = 35;\r\n\r\n// Maximum number of milliseconds to use for calculating look speed\r\nconst MaxDelta = 100 / 3;\r\n\r\n/**\r\n * PointOfInterest controls the gaze direction of the host. Given one or more\r\n * animations of type Blend2dState, it calculates the angles between the lookTracker\r\n * object (generally a joint in the host's skeleton) and the lookTarget (the object\r\n * the host should look at) and drives the managed Blend2dStates' X and Y blend\r\n * values using the result. You can optionally add saccadic movement to any managed\r\n * animation to help make the host's eyes appear alive when focused on the same\r\n * point for exteded periods of time. If blink animations are specified, a blink\r\n * will be played during large changes in gaze direction.\r\n *\r\n * @extends AbstractHostFeature\r\n * @alias core/PointOfInterestFeature\r\n * @implements SSMLSpeechmarkInterface\r\n * @implements ManagedAnimationLayerInterface\r\n */\r\nclass PointOfInterestFeature extends AbstractHostFeature.mix(\r\n  SSMLSpeechmarkInterface.Mixin,\r\n  ManagedAnimationLayerInterface.Mixin\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - Host that owns the feature.\r\n   * @param {Object=} options - Options for the feature.\r\n   * @param {Object=} target - 3D transformation node that the host should try to\r\n   * look at.\r\n   * @param {Object} options.lookTracker - 3D transformation node that represents\r\n   * the direction the host is currently looking during animation.\r\n   * @param {Object=} options.scene - Engine-specific scene object that contains\r\n   * the host. This object must be defined if using 'setTargetByName' or 'SetTargetById'\r\n   * methods.\r\n   * @param {Object=} lookOptions - Options for the look animation layers.\r\n   * @param {number} [lookOptions.blendTime=0.1] - Default amount of time it will\r\n   * take to manipulate the weights of the look layers.\r\n   * @param {number} [lookOptions.easingFn=Quadratic.InOut] - Default easing function\r\n   * to use when manipulating look layer weights.\r\n   * @param {Array.<Object>} [lookOptions.layers=[]] - An array of layer options\r\n   * objects to register as look layers.\r\n   * @param {Object=} blinkOptions - Options for the blink animation layers.\r\n   * @param {number} [blinkOptions.blendTime=0.075] - Default amount of time it\r\n   * will take to manipulate the weights of the blink layers.\r\n   * @param {number} [blinkOptions.easingFn=Quadratic.InOut] - Default easing function\r\n   * to use when manipulating blink layer weights.\r\n   * @param {Array.<Object>} [blinkOptions.layers=[]] - An array of layer options\r\n   * objects to register as blink layers.\r\n   */\r\n  constructor(\r\n    host,\r\n    {target, lookTracker, scene} = {},\r\n    {\r\n      blendTime: lookBlendTime = 0.1,\r\n      easingFn: lookEasingFn = Quadratic.InOut,\r\n      layers: lookLayers = [],\r\n    } = {},\r\n    {\r\n      blendTime: blinkBlendTime = 0.075,\r\n      easingFn: blinkEasingFn = Quadratic.InOut,\r\n      layers: blinkLayers = [],\r\n    } = {}\r\n  ) {\r\n    super(host);\r\n\r\n    if (!this.constructor._validateTransformObject(lookTracker)) {\r\n      throw new Error(\r\n        `Cannot initialize PointOfInterestFeature on host ${this._host.id}. LookTracker must be defined as a valid transformation object.`\r\n      );\r\n    }\r\n    this._lookTracker = lookTracker;\r\n\r\n    this._scene = scene;\r\n    this._target = target || null;\r\n    this._prevTargetPos = [0, 0, 0];\r\n    this._isTargetMoving = false;\r\n    this._lookLayers = this._lookLayers || {};\r\n    this._trackingConfigs = this._trackingConfigs || [];\r\n    this._blinkLayers = this._blinkLayers || {};\r\n\r\n    // Register the look layers\r\n    lookLayers.forEach(\r\n      ({\r\n        name,\r\n        animation,\r\n        maxSpeed,\r\n        reference,\r\n        forwardAxis,\r\n        hasSaccade,\r\n        blendTime,\r\n        easingFn,\r\n      }) => {\r\n        this.registerLookLayer(name, {\r\n          animation,\r\n          maxSpeed,\r\n          reference,\r\n          forwardAxis,\r\n          hasSaccade,\r\n          blendTime: blendTime !== undefined ? blendTime : lookBlendTime,\r\n          easingFn: easingFn !== undefined ? easingFn : lookEasingFn,\r\n        });\r\n      }\r\n    );\r\n\r\n    // Register the blink layers\r\n    blinkLayers.forEach(({name, animation, blendTime, easingFn}) => {\r\n      this.registerBlinkLayer(name, {\r\n        animation,\r\n        blendTime: blendTime !== undefined ? blendTime : blinkBlendTime,\r\n        easingFn: easingFn !== undefined ? easingFn : blinkEasingFn,\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the target object the host should look at.\r\n   *\r\n   * @type {Object|null}\r\n   */\r\n  get target() {\r\n    return this._target;\r\n  }\r\n\r\n  set target(target) {\r\n    this._target = target || null;\r\n  }\r\n\r\n  /**\r\n   * Return a vector representing the global position of an object. Should be\r\n   * overloaded for each rendering engine implementation.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {any} _obj - Engine-specific 3D transform object.\r\n   *\r\n   * @returns {Array.<number>} - An array consisting of three numbers representing\r\n   * x, y and z coordinates.\r\n   */\r\n  static _getWorldPosition(obj) {\r\n    return [0, 0, 0];\r\n  }\r\n\r\n  /**\r\n   * Return a matrix representing the global transformation matrix of an object.\r\n   * Should be overloaded for each rendering engine implementation.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {any} obj - Engine-specific 3D transform object.\r\n   *\r\n   * @returns {Array.<number>} - An array consisting of 16 numbers representing\r\n   * the 3d transformation.\r\n   */\r\n  static _getWorldMatrix(obj) {\r\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n  }\r\n\r\n  /**\r\n   * Rotate the given local direction vector by the object's world rotation matrix.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {any} obj - Engine-specific 3D transform object.\r\n   * @param {Array.<number>} forwardVector - Unit vector representing the local\r\n   * forward direction of the object.\r\n   *\r\n   * @returns {Array.<number>}\r\n   */\r\n  static _getObjectDirection(obj, forwardVector = AxisMap.PositiveZ) {\r\n    const rotation = MathUtils.getRotationMatrix(this._getWorldMatrix(obj));\r\n\r\n    return MathUtils.rotateVector(forwardVector, rotation);\r\n  }\r\n\r\n  /**\r\n   * Calculate horizontal and vertical look angles in degrees given spherical theta\r\n   * and phi angles in radians.\r\n   *\r\n   * @param {number} theta - Vertical/polar angle in radians where 0 points directly\r\n   * along positive Y axis.\r\n   * @param {number} phi - Horizontal/azimuthal angle in radians.\r\n   *\r\n   * @returns {Object} - An object with the signature {h: number, v: number} where\r\n   * h represents horizontal rotation in degrees and v represents vertical rotation\r\n   * in degrees.\r\n   */\r\n  static _sphericalToBlendValue(theta, phi) {\r\n    const h = MathUtils.toDegrees(phi);\r\n\r\n    // Offset the vertical angle so 0 is pointing forward instead of up\r\n    const v = MathUtils.toDegrees(theta) - 90;\r\n\r\n    // Convert vertical angle to -180, 180 range\r\n    return {h, v};\r\n  }\r\n\r\n  _onLayerAdded({name}) {\r\n    this._lookLayers = this._lookLayers || {};\r\n    this._blinkLayers = this._blinkLayers || {};\r\n\r\n    super._onLayerAdded({name});\r\n\r\n    // Validate the look animation\r\n    if (this._lookLayers[name] !== undefined) {\r\n      this._registerLookAnimation(name, this._lookLayers[name]);\r\n    }\r\n  }\r\n\r\n  _onAnimationAdded({layerName, animationName}) {\r\n    this._lookLayers = this._lookLayers || {};\r\n    this._blinkLayers = this._blinkLayers || {};\r\n\r\n    super._onAnimationAdded({layerName});\r\n\r\n    // Validate the look animation\r\n    if (this._lookLayers[layerName] === animationName) {\r\n      this._registerLookAnimation(layerName, animationName);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ensure that registered look animations are Blend2dStates.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the look animation.\r\n   * @param {string} animationName - Name of the animation.\r\n   */\r\n  _registerLookAnimation(layerName, animationName) {\r\n    if (this._managedLayers[layerName].animations[animationName].isActive) {\r\n      if (\r\n        AnimationTypes[\r\n          this._host.AnimationFeature.getAnimationType(layerName, animationName)\r\n        ] !== AnimationTypes.blend2d\r\n      ) {\r\n        // Warn and deactivate if the registered state is not blend2d\r\n        console.warn(\r\n          `Cannot register Point of Interest look animation ${animationName} on layer ${layerName} for host ${this._host.id}. Look animations must be of type 'blend2d'.`\r\n        );\r\n        this._managedLayers[layerName].animations[\r\n          animationName\r\n        ].isActive = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if the given object is not of an engine-specific type. Should\r\n   * be overloaded for each rendering engine implementation.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {any} obj - Object to validate.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  static _validateTransformObject(obj) {\r\n    return obj instanceof Object;\r\n  }\r\n\r\n  /**\r\n   * Check if the given configuration object has already been stored as a tracking\r\n   * config. If it has, return the stored configuration. Otherwise, store and\r\n   * return it.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} config - Object containing tracker, reference and forwardAxis\r\n   * properties.\r\n   *\r\n   * @returns {Object}\r\n   */\r\n  _addTrackingConfig(config) {\r\n    const trackingConfig = this._trackingConfigs.find(\r\n      c =>\r\n        c.reference === config.reference && c.forwardAxis === config.forwardAxis\r\n    );\r\n\r\n    if (trackingConfig) {\r\n      return trackingConfig;\r\n    } else {\r\n      config.angles = {h: 0, v: 0};\r\n      config.prevAngles = {h: 0, v: 0};\r\n      this._trackingConfigs.push(config);\r\n      return config;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the distance between the look tracker and the look target.\r\n   *\r\n   * @private\r\n   *\r\n   * @returns {number}\r\n   */\r\n  _getTargetDistance() {\r\n    // Find the vector between the global positions of tracker and target\r\n    const sourcePosition = this.constructor._getWorldPosition(\r\n      this._lookTracker\r\n    );\r\n    const targetPosition = this.constructor._getWorldPosition(this._target);\r\n    const lookVector = [\r\n      targetPosition[0] - sourcePosition[0],\r\n      targetPosition[1] - sourcePosition[1],\r\n      targetPosition[2] - sourcePosition[2],\r\n    ];\r\n\r\n    return MathUtils.getVectorMagnitude(lookVector);\r\n  }\r\n\r\n  /**\r\n   * Reset all stored tracking angles to 0.\r\n   *\r\n   * @private\r\n   */\r\n  _resetLookAngles() {\r\n    this._trackingConfigs.forEach(({angles}) => {\r\n      angles.h = 0;\r\n      angles.v = 0;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Store the difference in horizontal and vertical rotation for the tracker's\r\n   * reference rotation and the direction of the target from the tracker.\r\n   *\r\n   * @private\r\n   */\r\n  _setLookAngles() {\r\n    // Get the current positions of the tracker and target objects\r\n    const targetPos = this.constructor._getWorldPosition(this._target);\r\n    const trackerPos = this.constructor._getWorldPosition(this._lookTracker);\r\n\r\n    // Check if the target has moved\r\n    this._isTargetMoving =\r\n      MathUtils.getVectorMagnitude([\r\n        targetPos[0] - this._prevTargetPos[0],\r\n        targetPos[1] - this._prevTargetPos[1],\r\n        targetPos[2] - this._prevTargetPos[2],\r\n      ]) > 0;\r\n    Object.assign(this._prevTargetPos, targetPos);\r\n\r\n    // Calculate the horizontal and vertical angles to rotate to the target\r\n    const targetSpherical = MathUtils.cartesianToSpherical(\r\n      targetPos[0] - trackerPos[0],\r\n      targetPos[1] - trackerPos[1],\r\n      targetPos[2] - trackerPos[2]\r\n    );\r\n    const targetAngles = this.constructor._sphericalToBlendValue(\r\n      targetSpherical[1],\r\n      targetSpherical[2]\r\n    );\r\n\r\n    // Calculate angles relative to the reference objects\r\n    this._trackingConfigs.forEach(({reference, forwardAxis, angles}) => {\r\n      // Calculate the horizontal and vertical angles to rotate to the direction of the tracker\r\n      const refDirection = this.constructor._getObjectDirection(\r\n        reference,\r\n        forwardAxis\r\n      );\r\n      const refSpherical = MathUtils.cartesianToSpherical(...refDirection);\r\n      const refAngles = this.constructor._sphericalToBlendValue(\r\n        refSpherical[1],\r\n        refSpherical[2]\r\n      );\r\n\r\n      // Store the difference\r\n      angles.h = targetAngles.h - refAngles.h;\r\n      angles.v = targetAngles.v - refAngles.v;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the horizontal and vertical angles it would require to simulate looking\r\n   * at the given type of face target\r\n   *\r\n   * @private\r\n   *\r\n   * @param {number} targetType - Integer representing the FaceTargetType.\r\n   *\r\n   * @returns {Object}- An object with signature {r: number, h: number, v: number}\r\n   * where 'r' represents radius, h represents the horizontal/azimuthal angle and\r\n   * v represents the vertical/polar angle.\r\n   */\r\n  _getFaceTargetAngles(targetType) {\r\n    // No offset when the target is the center of the eyes\r\n    if (targetType === 0) {\r\n      return {h: 0, v: 0};\r\n    }\r\n\r\n    // Build a vector to the face target type using the current distance to the target\r\n    const distance = this._getTargetDistance(this._lookTracker);\r\n    const faceVector = [...FaceVectors[targetType]];\r\n    faceVector[2] = distance;\r\n    const spherical = MathUtils.cartesianToSpherical(...faceVector);\r\n\r\n    // Make sure values are clamped within the range of motion of the human eye, in case the target is very close\r\n    const blendValues = this.constructor._sphericalToBlendValue(\r\n      spherical[1],\r\n      spherical[2]\r\n    );\r\n    blendValues.h = MathUtils.clamp(blendValues.h, -35, 35);\r\n    blendValues.v = MathUtils.clamp(blendValues.v, -25, 30);\r\n\r\n    return blendValues;\r\n  }\r\n\r\n  /**\r\n   * Updated the stored speed and duration variables for a layer based on the\r\n   * change in horizontal and vertical angles of the tracker.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer to store values on.\r\n   * @param {number} h - Change in horizontal angle, in degrees.\r\n   * @param {number} v - Change in vertical angle, in degrees.\r\n   */\r\n  _updateLayerSpeed(layerName, h, v) {\r\n    const layer = this._managedLayers[layerName];\r\n\r\n    // From \"Realistic Avatar and head Animation Using a Neurobiological Model of Visual Attention\", Itti, Dhavale, Pighin\r\n    layer.maxHSpeed = 473 * (1 - Math.exp(-h / 7.8));\r\n    layer.maxVSpeed = 473 * (1 - Math.exp(-v / 7.8));\r\n\r\n    // From \"Eyes Alive\", Lee, Badler\r\n    const D0 = 0.025;\r\n    const d = 0.00235;\r\n    layer.hDuration = D0 + d * h;\r\n    layer.vDuration = D0 + d * v;\r\n  }\r\n\r\n  /**\r\n   * Set the microSaccade object with new randomized values.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that owns the saccade motion.\r\n   */\r\n  _setMicroSaccade(layerName) {\r\n    const layer = this._managedLayers[layerName];\r\n    const {microSaccade} = layer;\r\n\r\n    if (this._target) {\r\n      // Micro movements should be smaller when focused on a target\r\n      microSaccade.h = Utils.getRandomFloat(0.01, 0.15);\r\n      microSaccade.v = Utils.getRandomFloat(0.01, 0.15);\r\n    } else {\r\n      // Microsaccades. Encyclopedia of Neuroscience. (2009) Springer, Berlin, Heidelberg. https://doi.org/10.1007/978-3-540-29678-2_3492\r\n      microSaccade.h = Utils.getRandomFloat(0.01, 0.3);\r\n      microSaccade.v = Utils.getRandomFloat(0.01, 0.3);\r\n    }\r\n\r\n    this._updateLayerSpeed(layerName, microSaccade.h, microSaccade.v);\r\n\r\n    // Restart the timer\r\n    this._initializeMicroTimer(layerName, ...MicroSaccadeWaitRanges.default);\r\n  }\r\n\r\n  /**\r\n   * Set the macroSaccade object with new randomized values.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that owns the saccade motion.\r\n   */\r\n  _setMacroSaccade(layerName) {\r\n    const layer = this._managedLayers[layerName];\r\n    const {macroSaccade} = layer;\r\n    let macroSaccadeWaitRange;\r\n\r\n    // Increase random value range when not focused on a target\r\n    if (!this._target) {\r\n      macroSaccadeWaitRange = MacroSaccadeWaitRanges.default;\r\n\r\n      // Normal human horizontal eye rotation limit is about 35 degrees\r\n      const hLimit = Utils.getRandomFloat(0.143, 0.286);\r\n      const hFactor = Utils.getRandomFloat(-hLimit, hLimit);\r\n      macroSaccade.h = hFactor * 35;\r\n\r\n      // Normal human vertical eye rotation limit is about 25 degrees upward and 30 degrees downward\r\n      const vLimit = Utils.getRandomFloat(0.093, 0.186);\r\n      const vFactor = Utils.getRandomFloat(-vLimit, vLimit);\r\n      macroSaccade.v = vFactor > 0 ? vFactor * 25 : vFactor * 30;\r\n    }\r\n\r\n    // Pick a new face target\r\n    else {\r\n      // Social triangle - saccade between eyes and mouth, weighted to look at eyes more often\r\n      switch (layer.saccadeTarget) {\r\n        case 1:\r\n          macroSaccadeWaitRange = MacroSaccadeWaitRanges.eyeTarget;\r\n          layer.saccadeTarget =\r\n            Math.random() < 0.75\r\n              ? FaceTargetTypes.EyeRight\r\n              : FaceTargetTypes.Mouth;\r\n          break;\r\n        case 2:\r\n          macroSaccadeWaitRange = MacroSaccadeWaitRanges.eyeTarget;\r\n          layer.saccadeTarget =\r\n            Math.random() < 0.75\r\n              ? FaceTargetTypes.EyeLeft\r\n              : FaceTargetTypes.Mouth;\r\n          break;\r\n        case 3:\r\n          macroSaccadeWaitRange = MacroSaccadeWaitRanges.mouthTarget;\r\n          layer.saccadeTarget =\r\n            Math.random() < 0.5\r\n              ? FaceTargetTypes.EyeLeft\r\n              : FaceTargetTypes.EyeRight;\r\n          break;\r\n        case 0:\r\n        default:\r\n          macroSaccadeWaitRange = MacroSaccadeWaitRanges.eyeTarget;\r\n          layer.saccadeTarget =\r\n            Math.random() < 0.5\r\n              ? FaceTargetTypes.EyeLeft\r\n              : FaceTargetTypes.EyeRight;\r\n          break;\r\n      }\r\n\r\n      const {h, v} = this._getFaceTargetAngles(layer.saccadeTarget);\r\n      macroSaccade.h = h;\r\n      macroSaccade.v = v;\r\n    }\r\n\r\n    this._updateLayerSpeed(layerName, macroSaccade.h, macroSaccade.v);\r\n\r\n    // Restart the timers\r\n    this._initializeMicroTimer(layerName, ...MicroSaccadeWaitRanges.postMacro);\r\n    this._initializeMacroTimer(layerName, ...macroSaccadeWaitRange);\r\n  }\r\n\r\n  /**\r\n   * Start a new wait timer that will set a new micro saccade movement when it\r\n   * resolves.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that owns the saccade motion.\r\n   * @param {number} minWaitTime - Minimum number of seconds before a new saccade\r\n   * will be triggered.\r\n   * @param {number} maxWaitTime - Maximum number of seconds before a new saccade\r\n   * will be triggered.\r\n   */\r\n  _initializeMicroTimer(layerName, minWaitTime, maxWaitTime) {\r\n    const layer = this._managedLayers[layerName];\r\n    const waitTime = Utils.getRandomFloat(minWaitTime, maxWaitTime);\r\n\r\n    if (layer.microSaccadeTimer) {\r\n      layer.microSaccadeTimer.cancel();\r\n    }\r\n    layer.microSaccadeTimer = Utils.wait(waitTime, {\r\n      onFinish: () => {\r\n        this._setMicroSaccade(layerName);\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start a new wait timer that will set a new macro saccade movement when it\r\n   * resolves.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that owns the saccade motion.\r\n   * @param {number} minWaitTime - Minimum number of seconds before a new saccade\r\n   * will be triggered.\r\n   * @param {number} maxWaitTime - Maximum number of seconds before a new saccade\r\n   * will be triggered.\r\n   */\r\n  _initializeMacroTimer(layerName, minWaitTime, maxWaitTime) {\r\n    const layer = this._managedLayers[layerName];\r\n    const waitTime = Utils.getRandomFloat(minWaitTime, maxWaitTime);\r\n\r\n    if (layer.macroSaccadeTimer) {\r\n      layer.macroSaccadeTimer.cancel();\r\n    }\r\n    layer.macroSaccadeTimer = Utils.wait(waitTime, {\r\n      onFinish: () => {\r\n        this._setMacroSaccade(layerName);\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Sets a new target to look at.\r\n   *\r\n   * @param {Object|null} target - The new target to look at.\r\n   */\r\n  setTarget(target) {\r\n    this.target = target;\r\n  }\r\n\r\n  /**\r\n   * Finds an object given its name and sets it as the new target to look at.\r\n   * Should be overloaded for each rendering engine implementation.\r\n   *\r\n   * @param {string} target - Name to search for.\r\n   */\r\n  setTargetByName(name) {\r\n    if (!name) {\r\n      this._target = null;\r\n    }\r\n\r\n    if (!this._scene) {\r\n      throw new Error(\r\n        `Cannot set PointOfInterestFeature target using name ${name} on host ${this._host.id}. Scene must be defined.`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finds an object given its id and sets it as the new target to look at.\r\n   * Should be overloaded for each rendering engine implementation.\r\n   *\r\n   * @param {string|number} target - Id to search for.\r\n   */\r\n  setTargetById(id) {\r\n    if (!id) {\r\n      this._target = null;\r\n    }\r\n\r\n    if (!this._scene) {\r\n      throw new Error(\r\n        `Cannot set PointOfInterestFeature target using id ${id} on host ${this._host.id}. Scene must be defined.`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start keeping track of an animation layer that owns a blend2d animation with\r\n   * blendWeights corresponding to horizontal and vertical look angles.\r\n   *\r\n   * @param {string} layerName - Name of the layer to keep track of.\r\n   * @param {Object=} options - Options for the layer.\r\n   * @param {string} [options.animation = 'look'] - Name of the animation on the\r\n   * layer whose blendWeights will be driven based on the angle between the lookTracker\r\n   * and the lookTarget. This animation must be of type blend2d.\r\n   * @param {number} [options.maxSpeed = 25] - The maximum speed at which the blend2d\r\n   * blendWeights can be manipulated.\r\n   * @param {string} [options.forwardAxis = 'PositiveZ'] - Axis pointing from the\r\n   * front of the lookReference object. Valid options are 'PositiveX', 'NegativeX',\r\n   * 'PositiveY', 'NegativeY', 'PositiveZ', 'NegativeZ'.\r\n   * @param {Object=} options.lookReference - 3D transformation node that the lookTracker\r\n   * rotation limits should be calculated relative to. Defaults to the host owner.\r\n   * @param {number} [options.hasSaccade = false] - Whether or not to include\r\n   * saccadic motion onto the blendWeight animation. This should only be set to\r\n   * true for blend2d animations representing eye animation.\r\n   * @param {number=} [options.blendTime=[PointOfInterestFeature.DEFAULT_LAYER_OPTIONS.blendTime]{@link PointOfInterestFeature#DEFAULT_LAYER_OPTIONS#blendTime}] -\r\n   * Default amount of time to use when manipulating layer weight.\r\n   * @param {Function=} options.easingFn - Default easing function to use when\r\n   * manipulating layer weight.\r\n   */\r\n  registerLookLayer(\r\n    layerName,\r\n    {\r\n      animation = 'look',\r\n      maxSpeed = 25,\r\n      reference,\r\n      forwardAxis = 'PositiveZ',\r\n      hasSaccade = false,\r\n      blendTime = PointOfInterestFeature.DEFAULT_LAYER_OPTIONS.blendTime,\r\n      easingFn,\r\n    } = {}\r\n  ) {\r\n    // Validate reference object\r\n    reference = reference || this._host.owner;\r\n\r\n    if (!this.constructor._validateTransformObject(reference)) {\r\n      throw new Error(\r\n        `Cannot initialize register look layer ${layerName} for PointOfInterestFeature on host ${this._host.id}. Reference must be defined as a valid transformation object.`\r\n      );\r\n    }\r\n\r\n    // Find vector associated with axis string\r\n    forwardAxis =\r\n      AxisMap[forwardAxis] !== undefined\r\n        ? AxisMap[forwardAxis]\r\n        : AxisMap.PositiveZ;\r\n\r\n    // Store tracking configuration\r\n    const trackingConfig = this._addTrackingConfig({\r\n      reference,\r\n      forwardAxis,\r\n    });\r\n\r\n    // Register the layer and animation\r\n    this.registerLayer(layerName, {\r\n      trackingConfig,\r\n      maxSpeed,\r\n      maxHSpeed: undefined,\r\n      maxVSpeed: undefined,\r\n      hDuration: undefined,\r\n      vDuration: undefined,\r\n      hVelocity: [0, 0],\r\n      vVelocity: [0, 0],\r\n      hasSaccade,\r\n      blendTime,\r\n      easingFn,\r\n      microSaccade: {h: 0, v: 0},\r\n      macroSaccade: {h: 0, v: 0},\r\n      saccadeTarget: FaceTargetTypes.EyeCenter,\r\n      animations: {[animation]: {}},\r\n    });\r\n    this._lookLayers[layerName] = animation;\r\n\r\n    // Validate the look animation\r\n    this._registerLookAnimation(layerName, animation);\r\n\r\n    // Initialize saccade timers\r\n    if (hasSaccade) {\r\n      const macroSaccadeWaitRange = this._target\r\n        ? MacroSaccadeWaitRanges.eyeTarget\r\n        : MacroSaccadeWaitRanges.default;\r\n      this._initializeMicroTimer(layerName, ...MicroSaccadeWaitRanges.default);\r\n      this._initializeMacroTimer(layerName, ...macroSaccadeWaitRange);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start keeping track of an animation layer that owns a blink animation. Blink\r\n   * animations can be of any type, but if it is of type randomAnimation then a\r\n   * it will be randomized each time a blink is called.\r\n   *\r\n   * @param {string} layerName - Name of the layer to keep track of.\r\n   * @param {Object=} options - Options for the layer.\r\n   * @param {string} [options.animation = 'blink'] - Name of the blink animation\r\n   * on the layer.\r\n   * @param {number} [options.blendTime=[PointOfInterestFeature.DEFAULT_LAYER_OPTIONS.blendTime]{@link PointOfInterestFeature#DEFAULT_LAYER_OPTIONS#blendTime}] -\r\n   * Default amount of time to use when manipulating the layer's weight.\r\n   * @param {Function=} options.easingFn - Default easing function to use when\r\n   * manipulating the layer's weight.\r\n   */\r\n  registerBlinkLayer(\r\n    layerName,\r\n    {\r\n      animation = 'blink',\r\n      blendTime = PointOfInterestFeature.DEFAULT_LAYER_OPTIONS.blendTime,\r\n      easingFn,\r\n    } = {}\r\n  ) {\r\n    // Register the layer and animation\r\n    this.registerLayer(layerName, {\r\n      blendTime,\r\n      easingFn,\r\n      animations: {[animation]: {}},\r\n    });\r\n    this._blinkLayers[layerName] = animation;\r\n  }\r\n\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    // Update the look angles\r\n    if (this._target) {\r\n      this._setLookAngles();\r\n    } else {\r\n      this._resetLookAngles();\r\n    }\r\n\r\n    const deltaSeconds = Math.min(deltaTime, MaxDelta) / 1000;\r\n    let triggerBlink = false;\r\n\r\n    // Set look blend values\r\n    Object.entries(this._lookLayers).forEach(([layerName, animName]) => {\r\n      const options = this._managedLayers[layerName];\r\n\r\n      // Increment the saccade timers\r\n      if (options.isActive && options.hasSaccade) {\r\n        options.microSaccadeTimer.execute(deltaTime);\r\n        options.macroSaccadeTimer.execute(deltaTime);\r\n      }\r\n\r\n      // Set the blend values\r\n      if (options.animations[animName].isActive) {\r\n        const currentH = this._host.AnimationFeature.getAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          'X'\r\n        );\r\n        const currentV = this._host.AnimationFeature.getAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          'Y'\r\n        );\r\n\r\n        let targetH = options.trackingConfig.angles.h;\r\n        let targetV = options.trackingConfig.angles.v;\r\n\r\n        // Check if the look angle has changed enough to trigger a blink\r\n        if (this._isTargetMoving && !triggerBlink) {\r\n          const prevTargetH = options.trackingConfig.prevAngles.h;\r\n          const prevTargetV = options.trackingConfig.prevAngles.v;\r\n          const changeAmount = MathUtils.toDegrees(\r\n            MathUtils.getAngleBetween(\r\n              [prevTargetH, prevTargetV],\r\n              [targetH, targetV]\r\n            )\r\n          );\r\n\r\n          if (changeAmount >= BlinkThreshold) {\r\n            triggerBlink = true;\r\n          }\r\n        }\r\n\r\n        options.trackingConfig.prevAngles.h = targetH;\r\n        options.trackingConfig.prevAngles.v = targetV;\r\n\r\n        // Add in the saccade movement\r\n        if (options.hasSaccade) {\r\n          MathUtils.dampValue(\r\n            0,\r\n            options.macroSaccade.h + options.macroSaccade.h,\r\n            options.hVelocity,\r\n            options.hDuration,\r\n            options.maxHSpeed\r\n          );\r\n          targetH += options.hVelocity[0];\r\n          MathUtils.dampValue(\r\n            0,\r\n            options.macroSaccade.v + options.macroSaccade.v,\r\n            options.vVelocity,\r\n            options.vDuration,\r\n            options.maxVSpeed\r\n          );\r\n          targetV += options.vVelocity[0];\r\n        }\r\n\r\n        // Clamp to max speed\r\n        const factor = MathUtils.clamp(deltaSeconds * options.maxSpeed, 0, 1);\r\n        targetH = MathUtils.lerp(currentH, targetH, factor);\r\n        targetV = MathUtils.lerp(currentV, targetV, factor);\r\n\r\n        // Update the blend values\r\n        this._host.AnimationFeature.setAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          'X',\r\n          targetH\r\n        );\r\n        this._host.AnimationFeature.setAnimationBlendWeight(\r\n          layerName,\r\n          animName,\r\n          'Y',\r\n          targetV\r\n        );\r\n      }\r\n    });\r\n\r\n    if (!triggerBlink || !this._isTargetMoving) {\r\n      return;\r\n    }\r\n\r\n    // Execute blink\r\n    Object.entries(this._blinkLayers).forEach(([layerName, animName]) => {\r\n      const animation = this._managedLayers[layerName].animations[animName];\r\n\r\n      if (animation.isActive) {\r\n        this._host.AnimationFeature.playAnimation(layerName, animName);\r\n      }\r\n    });\r\n  }\r\n\r\n  installApi() {\r\n    /**\r\n     * @inner\r\n     * @namespace PointOfInterestFeature\r\n     */\r\n    const api = super.installApi();\r\n\r\n    Object.defineProperties(api, {\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @see core/PointOfInterestFeature#target\r\n       */\r\n      target: {\r\n        get: () => this.target,\r\n        set: target => {\r\n          this.target = target;\r\n        },\r\n      },\r\n    });\r\n\r\n    Object.assign(api, {\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/PointOfInterestFeature#registerLookLayer\r\n       */\r\n      registerLookLayer: this.registerLookLayer.bind(this),\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/PointOfInterestFeature#registerBlinkLayer\r\n       */\r\n      registerBlinkLayer: this.registerBlinkLayer.bind(this),\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/PointOfInterestFeature#setTarget\r\n       */\r\n      setTarget: this.setTarget.bind(this),\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/PointOfInterestFeature#setTargetByName\r\n       */\r\n      setTargetByName: this.setTargetByName.bind(this),\r\n      /**\r\n       * @memberof PointOfInterestFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/PointOfInterestFeature#setTargetById\r\n       */\r\n      setTargetById: this.setTargetById.bind(this),\r\n    });\r\n\r\n    return api;\r\n  }\r\n}\r\n\r\nexport default PointOfInterestFeature;\r\nexport {AxisMap};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from './Deferred';\r\n\r\n/**\r\n * A collection of useful generic functions.\r\n *\r\n * @hideconstructor\r\n */\r\nclass Utils {\r\n  /**\r\n   * @static\r\n   *\r\n   * Generate a unique id\r\n   *\r\n   * @returns {String}\r\n   */\r\n  static createId() {\r\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n      const randomNumber = Math.floor((Date.now() + Math.random() * 16) % 16);\r\n      if (c === 'x') {\r\n        return randomNumber.toString(16);\r\n      }\r\n      // Set bit 6 and 7 to 0 and 1\r\n      return ((randomNumber & 0x3) | 0x8).toString(16);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @static\r\n   *\r\n   * Check a name string against an array of strings to determine if it is unique.\r\n   * If it isn't, append incremented trailing integers to the end of the name\r\n   * until it is unique.\r\n   *\r\n   * @param {string} name - String name to make unique.\r\n   * @param {Array.<string>=} nameArray - Array of string names to check agains.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  static getUniqueName(name, nameArray = []) {\r\n    // If the name isn't in the array return it right away\r\n    if (!nameArray.includes(name)) {\r\n      return name;\r\n    }\r\n\r\n    const nameSet = new Set(nameArray);\r\n\r\n    // Separate the name into string and trailing numbers\r\n    const matchGroup = name.match(/\\d*$/);\r\n    const {index} = matchGroup;\r\n    const baseName = name.slice(0, index);\r\n    let increment = Number(matchGroup[0]);\r\n\r\n    // Find the highest trailing number value for the base of the name\r\n    nameSet.forEach(setName => {\r\n      const setMatchGroup = setName.match(/\\d*$/);\r\n\r\n      if (setName.slice(0, setMatchGroup.index) === baseName) {\r\n        const setIncrement = Number(setMatchGroup[0]);\r\n\r\n        if (setIncrement > increment) {\r\n          increment = setIncrement;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Increment the highest trailing number and append to the name\r\n    return `${baseName}${increment + 1}`;\r\n  }\r\n\r\n  /**\r\n   * Return a deferred promise that will wait a given number of seconds before\r\n   * resolving. Pass delta time in milliseconds to the deferred promise's execute\r\n   * method in an update loop to progress time.\r\n   *\r\n   * @param {number} [seconds=0] - Number of seconds to wait before resolving.\r\n   * @param {Object=} options - Optional options object\r\n   * @param {Function} [options.onFinish] - Callback to execute once the wait time\r\n   * is met.\r\n   * @param {Function=} options.onProgress - Callback to execute each time the wait\r\n   * time progresses towards the target number of seconds. The amount of progress\r\n   * as a 0-1 percentage is passed as an argument.\r\n   * @param {Function=} options.onCancel - Callback to execute if the user cancels\r\n   * the wait before completion.\r\n   * @param {Function=} options.onError - Callback to execute if the wait stops\r\n   * because an error is encountered. The error message is passed as a parameter.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  static wait(seconds = 0, {onFinish, onProgress, onCancel, onError} = {}) {\r\n    // Make sure seconds is numeric\r\n    if (typeof seconds !== 'number') {\r\n      console.warn(\r\n        `Invalid seconds value ${seconds} for wait. Defaulting to 0.`\r\n      );\r\n\r\n      seconds = 0;\r\n    }\r\n\r\n    // Resolve immediately if the wait time is not greater than 0\r\n    if (seconds <= 0) {\r\n      if (typeof onFinish === 'function') {\r\n        onFinish();\r\n      }\r\n\r\n      return Deferred.resolve();\r\n    }\r\n\r\n    let currentTime = 0;\r\n    const totalTime = seconds * 1000; // convert to milliseconds\r\n\r\n    // Executable to pass to Deferred, meant to be run in an update loop\r\n    const onUpdate = (resolve, reject, _cancel, deltaTime = 0) => {\r\n      if (typeof deltaTime !== 'number') {\r\n        const e = new Error(\r\n          `Invalid property wait deltaTime. DeltaTime must be a number.`\r\n        );\r\n        reject(e);\r\n        return;\r\n      }\r\n\r\n      // Make sure time has passed\r\n      if (deltaTime === 0) {\r\n        return;\r\n      }\r\n\r\n      // Signal progress\r\n      currentTime += deltaTime;\r\n      if (currentTime < 0) {\r\n        currentTime = 0;\r\n      }\r\n\r\n      if (typeof onProgress === 'function') {\r\n        onProgress(Math.min(currentTime / totalTime, 1));\r\n      }\r\n\r\n      // Signal completion once time is up\r\n      if (currentTime >= totalTime) {\r\n        resolve();\r\n      }\r\n    };\r\n\r\n    return new Deferred(onUpdate, onFinish, onError, onCancel);\r\n  }\r\n\r\n  /**\r\n   * Get a random float number between a min (inclusive) and max (exclusive) value\r\n   * @param {number} min minimum value\r\n   * @param {number} max maximum value\r\n   * @returns {float}\r\n   */\r\n  static getRandomFloat(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n  }\r\n\r\n  /**\r\n   * Get a random integer number between a min (inclusive) and max (exclusive) value\r\n   * @param {number} min minimum value\r\n   * @param {number} max maximum value\r\n   * @returns {integer}\r\n   */\r\n  static getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  static addStringOnlyOnce(stringToManipulate, stringToAdd) {\r\n    if (stringToManipulate == null) {\r\n      return stringToAdd;\r\n    }\r\n\r\n    if (stringToManipulate.indexOf(stringToAdd) !== -1) {\r\n      return stringToManipulate;\r\n    }\r\n\r\n    return stringToManipulate.concat(' ', stringToAdd);\r\n  }\r\n\r\n  /**\r\n   * Appends the Sumerian Hosts custom user-agent to a string if it is not\r\n   * already present.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} currentUserAgent - String to append to if needed.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  static addCoreUserAgentComponent(currentUserAgent) {\r\n    const sumerianHostsUserAgent = `SumerianHosts-${Utils.getVersion()}`;\r\n    return Utils.addStringOnlyOnce(currentUserAgent, sumerianHostsUserAgent);\r\n  }\r\n\r\n  static getVersion() {\r\n    // HOSTS_VERSION  is defined by Webpack, to the version of the library\r\n    // Either a git commit or a release version\r\n    // eslint-disable-next-line no-undef\r\n    return HOSTS_VERSION;\r\n  }\r\n}\r\n\r\nexport default Utils;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractHostFeature from '../AbstractHostFeature';\r\nimport Utils from '../Utils';\r\nimport QueueState from './state/QueueState';\r\nimport FreeBlendState from './state/FreeBlendState';\r\nimport Blend1dState from './state/Blend1dState';\r\nimport Blend2dState from './state/Blend2dState';\r\nimport SingleState from './state/SingleState';\r\nimport RandomAnimationState from './state/RandomAnimationState';\r\nimport AnimationLayer, {LayerBlendModes} from './AnimationLayer';\r\nimport Deferred from '../Deferred';\r\n\r\n/**\r\n * Enum for animation state classes.\r\n *\r\n * @readonly\r\n * @enum {Class}\r\n */\r\nexport const AnimationTypes = {\r\n  single: SingleState,\r\n  freeBlend: FreeBlendState,\r\n  queue: QueueState,\r\n  randomAnimation: RandomAnimationState,\r\n  blend1d: Blend1dState,\r\n  blend2d: Blend2dState,\r\n};\r\n\r\n/**\r\n * Feature for managing animations on an object.\r\n *\r\n * @extends AbstractHostFeature\r\n * @alias core/AnimationFeature\r\n *\r\n * @property {Object} EVENTS - Built-in messages that the feature emits. When the\r\n * feature is added to a {@link core/HostObject}, event names will be prefixed by the\r\n * name of the feature class + '.'.\r\n * @property {string} [EVENTS.addLayer=onAddLayerEvent] - Message that is emitted after\r\n * [addLayer]{@link core/AnimationFeature#addLayer} has been successfully executed.\r\n * An object representing the name of the layer that was added and its index in\r\n * the layer stack with the signature {name: string, index: number} is supplied\r\n * as an argument to listener functions.\r\n * @property {string} [EVENTS.removeLayer=onRemoveLayerEvent] - Message that is\r\n * emitted after [removeLayer]{@link core/AnimationFeature#removeLayer} has been\r\n * successfully executed. An object representing the name of the layer that was\r\n * removed and its index in the layer stack with the signature {name: string, index: number}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.renameLayer=onRenameLayerEvent] - Message that is\r\n * emitted after [renameLayer]{@link core/AnimationFeature#renameLayer} has been\r\n * successfully executed. An object representing the original name of the layer\r\n * that was renamed and its updated name with the signature {oldName: string, newName: string}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.addAnimation=onAddAnimationEvent] - Message that is\r\n * emitted after [addAnimation]{@link core/AnimationFeature#addAnimation} has been\r\n * successfully executed. An object representing the name of the layer that the\r\n * animation was added to and the name of the animation that was added with the\r\n * signature {layerName: string, animationName: string} is supplied as an argument\r\n * to listener functions.\r\n * @property {string} [EVENTS.removeAnimation=onRemovedAnimationEvent] - Message\r\n * that is emitted after [removeAnimation]{@link core/AnimationFeature#removeAnimation}\r\n * has been successfully executed. An object representing the name of the layer\r\n * that the animation was removed from and the name of the animation that was removed\r\n * with the signature {layerName: string, animationName: string} is supplied as\r\n * an argument to listener functions.\r\n * @property {string} [EVENTS.renameAnimation=onRenameAnimationEvent] - Message\r\n * that is emitted after [renameAnimation]{@link core/AnimationFeature#renameAnimation}\r\n * has been successfully executed. An object representing the name of the layer\r\n * that contains the animation that was renamed, the original name of the animation\r\n * that was renamed and its updated name with the signature {layerName: string, oldName: string, newName: string}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.play=onPlayEvent] - Message that is emitted after\r\n * each call to [play]{@link core/AnimationFeature#playAnimation}. An object representing\r\n * the name of the layer contains the animation that was played and the name of\r\n * the animation that was played with the signature {layerName: string, animationName: string}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.pause=onPauseEvent] - Message that is emitted after\r\n * each call to [pause]{@link core/AnimationFeature#pauseAnimation}. An object representing\r\n * the name of the layer contains the animation that was paused and the name of\r\n * the animation that was paused with the signature {layerName: string, animationName: string}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.resume=onResumeEvent] - Message that is emitted after\r\n * each call to [resume]{@link core/AnimationFeature#resumeAnimation}. An object representing\r\n * the name of the layer contains the animation that was resumed and the name of\r\n * the animation that was resumed with the signature {layerName: string, animationName: string}\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.interrupt=onInterruptEvent] - Message that is emitted\r\n * if there is a current speech in progress and [play]{@link core/AnimationFeature#playAnimation}\r\n * or [resume]{@link core/AnimationFeature#resumeAnimation} are executed for a new speech.\r\n * An object representing the name of the layer contains the animation that was\r\n * interrupted and the name of the animation that was interrupted with the signature\r\n * {layerName: string, animationName: string} is supplied as an argument to listener\r\n * functions.\r\n * @property {string} [EVENTS.stop=onStopEvent] - Message that is emitted after\r\n * each call to [stop]{@link core/AnimationFeature#stopAnimation} and when a speech reaches\r\n * the end of playback. An object representing\r\n * the name of the layer contains the animation that was stopped and the name of\r\n * the animation that was stopped with the signature {layerName: string, animationName: string}\r\n * is supplied as an argument to listener functions.\r\n */\r\nclass AnimationFeature extends AbstractHostFeature {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - Host object that owns the feature.\r\n   */\r\n  constructor(host) {\r\n    super(host);\r\n\r\n    this._layers = [];\r\n    this._layerMap = {};\r\n    this._paused = false;\r\n  }\r\n\r\n  /**\r\n   * Make sure a supplied layer index is within the range of layers.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {number} index\r\n   * @param {boolean} [existing=true] - Whether the index represents and existing\r\n   * layer or a new layer to be added.\r\n   *\r\n   * @returns {number=}\r\n   */\r\n  _validateIndex(index, existing = true) {\r\n    // Index is invalid if there are no layers and we're checking for an existing layer index\r\n    if (this._layers.length === 0 && existing) {\r\n      return undefined;\r\n    }\r\n\r\n    const lastIndex = existing ? this._layers.length - 1 : this._layers.length;\r\n\r\n    // Count from the end of the array for negative indices\r\n    if (index < 0) {\r\n      index = lastIndex + index + 1;\r\n    }\r\n\r\n    if (index < 0 || index > lastIndex) {\r\n      return undefined;\r\n    } else {\r\n      return index;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Re-evaluate internal weight values of layers starting from the top of the\r\n   * stack. Override layers' weights affect the values of all layers lower in the\r\n   * stack.\r\n   *\r\n   * @private\r\n   */\r\n  _updateInternalWeights() {\r\n    const numLayers = this._layers.length;\r\n    let weightMultiplier = 1;\r\n\r\n    // Update internal weight values on layers in reverse order\r\n    for (let i = numLayers - 1; i >= 0; i--) {\r\n      const layer = this._layers[i];\r\n      layer.updateInternalWeight(weightMultiplier);\r\n\r\n      // If the layer is override, update the multiplier with the remainder of the full weight\r\n      if (layer.blendMode === LayerBlendModes.Override && layer.currentState) {\r\n        weightMultiplier *= 1 - layer.currentState.internalWeight;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a SingleState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the SingleState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {timeScale} [options.timeScale=1] - Factor to scale the playback speed of the\r\n   * animation.\r\n   * @param {number} [options.loopCount=Infinity] - Number of times the animation should\r\n   * repeat before finishing.\r\n   * @param {string} [options.blendMode=LayerBlendModes[DefaultLayerBlendMode]] - Type of\r\n   * blending the animation should use.\r\n   *\r\n   * @returns {core/SingleState}\r\n   */\r\n  _createSingleState(options) {\r\n    return new SingleState(options);\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a FreeBlendState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the FreeBlendState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {timeScale} [options.timeScale=1] - Factor to scale the playback speed of the\r\n   * animation.\r\n   * @param {number} [options.loopCount=Infinity] - Number of times the animation should\r\n   * repeat before finishing.\r\n   * @param {string} [options.blendMode=LayerBlendModes[DefaultLayerBlendMode]] - Type of\r\n   * blending the animation should use.\r\n   * @param {Array.<Object>} [options.blendStateOptions] - Array of options used to create the\r\n   * blend states for this container.\r\n   *\r\n   * @returns {FreeBlendState}\r\n   */\r\n  _createFreeBlendState(options) {\r\n    const {blendStateOptions = []} = options;\r\n\r\n    const blendStates = [];\r\n    blendStateOptions.forEach(blendOptions => {\r\n      blendStates.push(\r\n        this._createSingleState({...blendOptions, blendMode: options.blendMode})\r\n      );\r\n    });\r\n\r\n    return new FreeBlendState(options, blendStates);\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a QueueState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the QueueState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {number} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {number=} options.transitionTime - The amount of time it takes to transition\r\n   * between queued states.\r\n   * @param {string} [options.blendMode=LayerBlendModes[DefaultLayerBlendMode]] - Type of\r\n   * blending the animation should use.\r\n   * @param {Array.<Object>} [options.queueOptions] - Array of options used to create the\r\n   * queue states for this container.\r\n   *\r\n   * @returns {QueueState}\r\n   */\r\n  _createQueueState(options) {\r\n    const {queueOptions = []} = options;\r\n\r\n    const queueStates = queueOptions.map(queueOption =>\r\n      this._createSingleState({\r\n        transitionTime: options.transitionTime,\r\n        ...queueOption,\r\n        blendMode: options.blendMode,\r\n      })\r\n    );\r\n\r\n    return new QueueState(options, queueStates);\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a Blend1dState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the Blend1dState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {timeScale} [options.timeScale=1] - Factor to scale the playback speed of the\r\n   * animation.\r\n   * @param {number} [options.loopCount=Infinity] - Number of times the animation should\r\n   * repeat before finishing.\r\n   * @param {string} [options.blendMode=LayerBlendModes[DefaultLayerBlendMode]] - Type of\r\n   * blending the animation should use.\r\n   * @param {Array.<Object>} [options.blendStateOptions] - Array of options used to create the\r\n   * blend states for this container.\r\n   * @param {Array.<number>} [options.blendThresholds] - Array of numbers used to set the\r\n   * thresholds for each blend state in this container.\r\n   * @param {Array.<boolean>} [options.blendMatchPhases=[]] - Optional array of booleans used to\r\n   * set whether or not each blend state in this container will match phases.\r\n   *\r\n   * @returns {Blend1dState}\r\n   */\r\n  _createBlend1dState(options) {\r\n    const {blendStateOptions = []} = options;\r\n    const {blendThresholds = []} = options;\r\n    const {blendMatchPhases = []} = options;\r\n\r\n    const blendStates = [];\r\n    blendStateOptions.forEach(blendOptions => {\r\n      blendStates.push(\r\n        this._createSingleState({...blendOptions, blendMode: options.blendMode})\r\n      );\r\n    });\r\n\r\n    return new Blend1dState(\r\n      options,\r\n      blendStates,\r\n      blendThresholds,\r\n      blendMatchPhases\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a Blend2dState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the Blend1dState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {timeScale} [options.timeScale=1] - Factor to scale the playback speed of the\r\n   * animation.\r\n   * @param {number} [options.loopCount=Infinity] - Number of times the animation should\r\n   * repeat before finishing.\r\n   * @param {string} [options.blendMode=LayerBlendModes[DefaultLayerBlendMode]] - Type of\r\n   * blending the animation should use.\r\n   * @param {Array.<Object>} [options.blendStateOptions] - Array of options used to create the\r\n   * blend states for this container.\r\n   * @param {Array.<Array.<number>>} [options.blendThresholds] - Array of Array of numbers used to set the\r\n   * thresholds for each blend state in this container.\r\n   * @param {Array.<boolean>} [options.blendMatchPhases=[]] - Optional array of booleans used to\r\n   * set whether or not each blend state in this container will match phases.\r\n   *\r\n   * @returns {Blend1dState}\r\n   */\r\n  _createBlend2dState(options) {\r\n    const {blendStateOptions = []} = options;\r\n    const {blendThresholds = []} = options;\r\n    const {blendMatchPhases = []} = options;\r\n\r\n    const blendStates = [];\r\n    blendStateOptions.forEach(blendOptions => {\r\n      blendStates.push(\r\n        this._createSingleState({...blendOptions, blendMode: options.blendMode})\r\n      );\r\n    });\r\n\r\n    return new Blend2dState(\r\n      options,\r\n      blendStates,\r\n      blendThresholds,\r\n      blendMatchPhases\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return a new instance of a RandomAnimationState.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} options - Options to pass to the RandomAnimationState constructor.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {number} [options.playInterval=3] - The base animation playback interval.\r\n   * @param {Array.<Object>} [options.subStateOptions] - Array of options used to create the\r\n   * sub states for this container.\r\n   *\r\n   * @returns {RandomAnimationState}\r\n   */\r\n  _createRandomAnimationState(options) {\r\n    const {subStateOptions = []} = options;\r\n\r\n    const subStates = [];\r\n    subStateOptions.forEach(subStateOptions => {\r\n      subStates.push(\r\n        this._createSingleState({\r\n          ...subStateOptions,\r\n          blendMode: options.blendMode,\r\n        })\r\n      );\r\n    });\r\n\r\n    return new RandomAnimationState(options, subStates);\r\n  }\r\n\r\n  /**\r\n   * Make sure the layer with the given name exists and return a unique version\r\n   * of the animation name supplied for that layer.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer to check against.\r\n   * @param {string} animationName - Name of the animation to validate.\r\n   *\r\n   * @returns {string} Validated animation name.\r\n   */\r\n  _validateNewAnimation(layerName, animationName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot add animation to layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    // Make sure the animationName is unique\r\n    const name = Utils.getUniqueName(animationName, layer.getStateNames());\r\n\r\n    if (name !== animationName) {\r\n      console.warn(\r\n        `Animation name ${animationName} is not unique for layer ${layer.name}. Animation will be renamed to ${name}.`\r\n      );\r\n    }\r\n\r\n    return name;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not all animations are paused.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get paused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * Gets an array of names of animation layers.\r\n   *\r\n   * @readonly\r\n   * @type {Array.<string>}\r\n   */\r\n  get layers() {\r\n    return this._layers.map(layer => layer.name);\r\n  }\r\n\r\n  /**\r\n   * Create and store a new animation layer.\r\n   *\r\n   * @param {string} [name='NewLayer'] - Name for the layer.\r\n   * @param {Object} [options={}] - Options to pass to {@link AnimationLayer#constructor}\r\n   * @param {index=} index - Index to insert the new layer at. If none is provided\r\n   * it will be added to the end of the stack.\r\n   *\r\n   * @returns {number} Index of the new layer.\r\n   */\r\n  addLayer(name = 'NewLayer', options = {}, index) {\r\n    const numLayers = this._layers.length;\r\n    let layerIndex = index;\r\n\r\n    // Make sure the given index is within the range of layers\r\n    if (index === undefined || index === -1) {\r\n      layerIndex = this._layers.length;\r\n    } else {\r\n      layerIndex = this._validateIndex(index, false);\r\n\r\n      if (layerIndex === undefined) {\r\n        // Insert at the beginning if the user passed in a negative index\r\n        if (index < 0) {\r\n          layerIndex = 0;\r\n        }\r\n        // Otherwise append to the end\r\n        else {\r\n          layerIndex = this._layers.length;\r\n        }\r\n\r\n        console.warn(\r\n          `Index ${index} is invalid for host ${this._host.id}. New layer will be added at the closest valid index: ${layerIndex}.`\r\n        );\r\n      }\r\n    }\r\n\r\n    // Make sure the layer name is unique\r\n    const layerName = Utils.getUniqueName(name, Object.keys(this._layerMap));\r\n\r\n    if (name !== layerName) {\r\n      console.warn(\r\n        `Layer name ${name} is not unique. New layer will be added with the name ${layerName}.`\r\n      );\r\n    }\r\n\r\n    const layer = new AnimationLayer({...options, name: layerName});\r\n    this._layerMap[layerName] = layer;\r\n\r\n    if (layerIndex === numLayers) {\r\n      this._layers.push(layer);\r\n    } else {\r\n      this._layers.splice(layerIndex, 0, layer);\r\n    }\r\n\r\n    // Notify that a layer has been added to the feature\r\n    const eventData = {name: layerName, index: layerIndex};\r\n    this.emit(this.constructor.EVENTS.addLayer, eventData);\r\n\r\n    return eventData;\r\n  }\r\n\r\n  /**\r\n   * Remove an animation layer from the stack. Animations on this layer will no\r\n   * longer be evaluated.\r\n   *\r\n   * @param {string} name - Name for the layer to remove.\r\n   *\r\n   * @returns {boolean} Whether or not removal was successful.\r\n   */\r\n  removeLayer(name) {\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      console.warn(\r\n        `Did not remove layer ${name} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    layer.discard();\r\n\r\n    const index = this._layers.indexOf(layer);\r\n    this._layers.splice(index, 1);\r\n    delete this._layerMap[name];\r\n\r\n    // Notify that a layer has been removed from the feature\r\n    this.emit(this.constructor.EVENTS.removeLayer, {name, index});\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Re-order the layer stack so that the layer with the given name is positioned\r\n   * at the given index.\r\n   *\r\n   * @param {string} name - Name of the layer to move.\r\n   * @param {number} index - New index to position the layer at.\r\n   *\r\n   * @returns {number} The new index of the layer\r\n   */\r\n  moveLayer(name, index) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot move layer ${name} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    // Make sure the index falls in the range of existing layers\r\n    const layerIndex = this._validateIndex(index, true);\r\n    const lastIndex = this._layers.length - 1;\r\n\r\n    if (layerIndex === undefined) {\r\n      throw new Error(\r\n        `Cannot move layer ${name} from host ${this._host.id} to index ${index}. Index must be in the 0 - ${lastIndex} range.`\r\n      );\r\n    }\r\n\r\n    const currentIndex = this._layers.indexOf(layer);\r\n    if (currentIndex === layerIndex) {\r\n      return;\r\n    }\r\n\r\n    // Remove from the current position\r\n    this._layers.splice(currentIndex, 1);\r\n\r\n    // Insert at the new position\r\n    if (layerIndex === lastIndex) {\r\n      this._layers.push(layer);\r\n    } else {\r\n      this._layers.splice(layerIndex, 0, layer);\r\n    }\r\n\r\n    return layerIndex;\r\n  }\r\n\r\n  /**\r\n   * Update the name of a layer. Names must be unique, if the new name is not\r\n   * unique it will have trailing numbers appended until it is unique.\r\n   *\r\n   * @param {string} currentName - Current name of the layer.\r\n   * @param {string} newName - New name to set on the layer.\r\n   *\r\n   * @returns {string} The new name of the layer\r\n   */\r\n  renameLayer(currentName, newName) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[currentName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot rename layer ${currentName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    // Make sure the layer name is unique\r\n    const name = Utils.getUniqueName(newName, Object.keys(this._layerMap));\r\n\r\n    if (name !== newName) {\r\n      console.warn(\r\n        `Layer name ${newName} is not unique. Layer will be renamed to ${name}.`\r\n      );\r\n    }\r\n\r\n    delete this._layerMap[currentName];\r\n    this._layerMap[name] = layer;\r\n    layer.name = name;\r\n\r\n    // Notify that a layer has been renamed on the feature\r\n    this.emit(this.constructor.EVENTS.renameLayer, {\r\n      oldName: currentName,\r\n      newName: name,\r\n    });\r\n\r\n    return name;\r\n  }\r\n\r\n  /**\r\n   * Return the weight of an animation layer.\r\n   *\r\n   * @param {string} name - Name of the layer to return weight from.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  getLayerWeight(name) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot get weight on layer ${name} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.weight;\r\n  }\r\n\r\n  /**\r\n   * Update the weight of an animation layer.\r\n   *\r\n   * @param {string} name - The name of the layer to update.\r\n   * @param {number} weight - The weight value to set on the layer. This number\r\n   * should be in the 0-1 range.\r\n   * @param {number=} seconds - The number of seconds it should take to reach the\r\n   * new weight. Default is zero and will set immediately.\r\n   * @param {Function=} easingFn - The easing function to use while interpolating\r\n   * the weight. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} A promise that will resolve once the layer's weight reaches\r\n   * the target value.\r\n   */\r\n  setLayerWeight(name, weight, seconds, easingFn) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot set weight on layer ${name} from host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    return layer.setWeight(weight, seconds, easingFn);\r\n  }\r\n\r\n  /**\r\n   * Returns the names of blend states in an animation in a layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer containing the animation containing\r\n   * the blend state to update.\r\n   * @param {string} animationName - Name of the animation containing the blend state\r\n   * to update.\r\n   *\r\n   * @returns {Array.<string>} - Names of blend states.\r\n   */\r\n  getAnimationBlendNames(layerName, animationName) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot get blend names on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.getAnimationBlendNames(animationName);\r\n  }\r\n\r\n  /**\r\n   * Update the weight for a blend state in an animation in a layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer containing the animation containing\r\n   * the blend state to update.\r\n   * @param {string} animationName - Name of the animation containing the blend state\r\n   * to update.\r\n   * @param {string} blendName - Name of the blend state to update.\r\n   * @param {number} weight - Weight value to set on the animation. This number shoudld be\r\n   * in the 0-1 range.\r\n   * @param {number=} seconds - Number of seconds it should take to reach the new weight.\r\n   * Default is zero and will set immediately.\r\n   * @param {Function=} easingFn - Easing function to use while interpolating the new\r\n   * weight. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} - Promise that will resolve once the animation's weight reaches\r\n   * the target value.\r\n   */\r\n  setAnimationBlendWeight(\r\n    layerName,\r\n    animationName,\r\n    blendName,\r\n    weight,\r\n    seconds,\r\n    easingFn\r\n  ) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot set blend weight on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    return layer.setAnimationBlendWeight(\r\n      animationName,\r\n      blendName,\r\n      weight,\r\n      seconds,\r\n      easingFn\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns the weight for a blend state in an animation in a layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer containing the animation containing\r\n   * the blend state to update.\r\n   * @param {string} animationName - Name of the animation containing the blend state\r\n   * to update.\r\n   * @param {string} blendName - Name of the blend state to update.\r\n   *\r\n   * @returns {number} - Weight of the blend state.\r\n   */\r\n  getAnimationBlendWeight(layerName, animationName, blendName) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot get blend weight on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.getAnimationBlendWeight(animationName, blendName);\r\n  }\r\n\r\n  /**\r\n   * Pause weight interpolation animation on a layer with the given name.\r\n   *\r\n   * @param {string} name - Name of the layer to pause.\r\n   *\r\n   * @returns {boolean} - Whether or not there was an existing interpolation to pause.\r\n   */\r\n  pauseLayerWeight(name) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot pause weight interpolation on layer ${name} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.pauseWeight();\r\n  }\r\n\r\n  /**\r\n   * Resume weight interpolation animation on a layer with the given name.\r\n   *\r\n   * @param {string} name - Name of the layer to resume.\r\n   *\r\n   * @returns {Deferred} - Resolves once the layer's weight reaches its target value.\r\n   */\r\n  resumeLayerWeight(name) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot resume weight interpolation on layer ${name} from host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    return layer.resumeWeight();\r\n  }\r\n\r\n  /**\r\n   * Pause current animation and weight interpolation animation on a layer with\r\n   * the given name.\r\n   *\r\n   * @param {string} name - Name of the layer to pause.\r\n   *\r\n   * @returns {boolean} - Whether or not there was an existing interpolation or\r\n   * current animation to pause.\r\n   */\r\n  pauseLayer(name) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot pause layer ${name} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.pause();\r\n  }\r\n\r\n  /**\r\n   * Resume current animation and weight interpolation animation on a layer with\r\n   * the given name.\r\n   *\r\n   * @param {string} name - Name of the layer to resume.\r\n   *\r\n   * @returns {Deferred} - Resolves once the layer's weight reaches its target value\r\n   * and it's current animation finishes playing.\r\n   */\r\n  resumeLayer(name) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot resume layer ${name} from host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    return layer.resume();\r\n  }\r\n\r\n  /**\r\n   * Return whether or not the animation layer with the given name is currently\r\n   * transitioning between animations.\r\n   *\r\n   * @param {string} layerName - Name of the layer to check.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  getTransitioning(layerName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Get transitioning on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.isTransitioning;\r\n  }\r\n\r\n  /**\r\n   * Return an array of the names of all states the layer with the given name controls.\r\n   *\r\n   * @param {string} layerName - Name of the layer to search.\r\n   *\r\n   * @returns {Array.<string>}\r\n   */\r\n  getAnimations(layerName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Get animations on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.getStateNames();\r\n  }\r\n\r\n  /**\r\n   * Return the name of the state currently active on the layer with the given name.\r\n   * Return null if there is no current animation for the layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer.\r\n   *\r\n   * @returns {(string|null)}\r\n   */\r\n  getCurrentAnimation(layerName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Get current animation on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.currentAnimation;\r\n  }\r\n\r\n  /**\r\n   * Return whether or not a layer with the given name is currently playing an\r\n   * animation and that animation is paused.\r\n   *\r\n   * @param {string} layerName - Name of the layer.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  getPaused(layerName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Get paused on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    return layer.currentState && layer.currentState.paused;\r\n  }\r\n\r\n  /**\r\n   * Return the type name of the given animation. @see AnimationTypes.\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the animation.\r\n   * @param {string} animationName - Name of the animation to check.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  getAnimationType(layerName, animationName) {\r\n    // Make sure the layerName is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Get animation type on layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    const state = layer.getState(animationName);\r\n\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Get animation type for animation ${animationName} on layer ${layerName} from host ${this._host.id}. No animation exists with this name.`\r\n      );\r\n    }\r\n\r\n    const {constructor} = state;\r\n\r\n    return Object.keys(AnimationTypes).find(\r\n      typeName => AnimationTypes[typeName] === constructor\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Add a new animation to an animation layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer to add the animation to.\r\n   * @param {string} animationName - Name to use when calling the animation.\r\n   * @param {Object=} options - Options to pass to the constructor for the new\r\n   * SingleState animation.\r\n   *\r\n   * @returns {string} - The name of the animation that was added\r\n   */\r\n  addAnimation(\r\n    layerName,\r\n    animationName,\r\n    animationType = AnimationTypes.single,\r\n    options = {}\r\n  ) {\r\n    options.name = this._validateNewAnimation(layerName, animationName);\r\n\r\n    // Make sure the animation type is valid\r\n    if (!Object.values(AnimationTypes).includes(animationType)) {\r\n      throw new Error(\r\n        `Cannot add animation ${animationName} to layer ${layerName} on host ${this._host.id}. Invalid animation type.`\r\n      );\r\n    }\r\n\r\n    const layer = this._layerMap[layerName];\r\n    options.blendMode = layer.blendMode;\r\n    options.transitionTime = layer.transitionTime;\r\n    const state = this[`_create${animationType.name}`](options);\r\n\r\n    const name = layer.addState(state);\r\n\r\n    // Notify that an animation has been added to the feature\r\n    this.emit(this.constructor.EVENTS.addAnimation, {\r\n      layerName,\r\n      animationName: name,\r\n    });\r\n\r\n    return name;\r\n  }\r\n\r\n  /**\r\n   * Remove an animation from an animation layer.\r\n   *\r\n   * @param {string} layerName - Name of the layer to remove the animation from.\r\n   * @param {string} name - Name of the animation to remove.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  removeAnimation(layerName, animationName) {\r\n    // Make sure the name is valid\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot remove animation from layer ${layerName} from host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    const removed = layer.removeState(animationName);\r\n\r\n    // Notify that an animation has been removed from the feature\r\n    if (removed === true) {\r\n      this.emit(this.constructor.EVENTS.removeAnimation, {\r\n        layerName,\r\n        animationName,\r\n      });\r\n    }\r\n\r\n    return removed;\r\n  }\r\n\r\n  /**\r\n   * Update the name of an animation. Names must be unique on each layer, if the new\r\n   * name is not unique it will have trailing numbers appended until it is unique.\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the animation that\r\n   * will be renamed,\r\n   * @param {string} currentAnimationName - Current name of the animation.\r\n   * @param {string} newAnimationName - New name to set on the animation.\r\n   *\r\n   * @returns {string} - The new name of the animation\r\n   */\r\n  renameAnimation(layerName, currentAnimationName, newAnimationName) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      throw new Error(\r\n        `Cannot rename animation ${currentAnimationName} on layer ${layerName} for host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n    }\r\n\r\n    const name = layer.renameState(currentAnimationName, newAnimationName);\r\n\r\n    // Notify that an animation has been renamed on the feature\r\n    this.emit(this.constructor.EVENTS.renameAnimation, {\r\n      layerName,\r\n      oldName: currentAnimationName,\r\n      newName: name,\r\n    });\r\n\r\n    return name;\r\n  }\r\n\r\n  /**\r\n   * Pause the currently playing animation and play a new animation from the beginning.\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the animation.\r\n   * @param {string} animationName - Name of the animation state to play.\r\n   * @param {number=} seconds - The number of seconds it should take to transition\r\n   * to the new animation. Default is zero and will set immediately.\r\n   * @param {Function=} easingFn - The easing function to use while transitioning\r\n   * between animations. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} - Resolves once the animation reaches the end of its\r\n   * timeline. Looping animations can only resolve if they are interrupted or\r\n   * manually stopped.\r\n   */\r\n  playAnimation(layerName, animationName, seconds, easingFn) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot play animation ${animationName} on layer ${layerName} for host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Notify that a new animation has begun\r\n    this.emit(this.constructor.EVENTS.playAnimation, {\r\n      layerName,\r\n      animationName,\r\n    });\r\n\r\n    return layer.playAnimation(\r\n      animationName,\r\n      seconds,\r\n      easingFn,\r\n      () => {\r\n        // Notify that an animation has stopped\r\n        this.emit(this.constructor.EVENTS.stopAnimation, {\r\n          layerName,\r\n          animationName,\r\n        });\r\n      },\r\n      undefined,\r\n      () => {\r\n        // Notify that an animation has been interrupted\r\n        this.emit(this.constructor.EVENTS.interruptAnimation, {\r\n          layerName,\r\n          animationName,\r\n        });\r\n      },\r\n      ({name, canAdvance, isQueueEnd}) => {\r\n        if (layer.currentAnimation === animationName) {\r\n          // Notify that a new animation has begun\r\n          this.emit(this.constructor.EVENTS.playNextAnimation, {\r\n            layerName,\r\n            animationName,\r\n            nextQueuedAnimation: name,\r\n            canAdvance,\r\n            isQueueEnd,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Play the next animation in the queue of a QueueState animation.\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the queue animation.\r\n   * @param {string=} animationName - Name of the animation queue animation. Defaults\r\n   * to the name of the current animation for the layer.\r\n   * @param {number=} seconds - The number of seconds it should take to transition\r\n   * to the queue animation if it's not already currently playing. Default is zero\r\n   * and will set immediately.\r\n   * @param {Function=} easingFn - The easing function to use while transitioning\r\n   * to the queue animation if it isn't already playing. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} - Resolves once the last animation in the queue finishes\r\n   * playing.\r\n   */\r\n  playNextAnimation(layerName, animationName, transitionTime, easingFn) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot play next animation on layer ${layerName} for host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    if (animationName === undefined) {\r\n      animationName = layer.currentAnimation;\r\n    }\r\n\r\n    const animation = layer.getState(layer.currentAnimation);\r\n\r\n    if (animation === null) {\r\n      const e = `Cannot play next animation on layer ${layerName} for host ${this._host.id}. No animation exists with name ${animationName}.`;\r\n      return Deferred.reject(e);\r\n    } else if (this.getAnimationType(layerName, animationName) !== 'queue') {\r\n      const e = `Cannot play next animation on layer ${layerName} for host ${this._host.id}. ${animationName} is not a queue state.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    const onNext = ({name, canAdvance, isQueueEnd}) => {\r\n      if (layer.currentAnimation === animationName) {\r\n        // Notify that a new animation has begun\r\n        this.emit(this.constructor.EVENTS.playNextAnimation, {\r\n          layerName,\r\n          animationName,\r\n          nextQueuedAnimation: name,\r\n          canAdvance,\r\n          isQueueEnd,\r\n        });\r\n      }\r\n    };\r\n\r\n    // Make the queue animation current if it wasn't already\r\n    if (layer.currentAnimation === null) {\r\n      layer.resumeAnimation(\r\n        animation.name,\r\n        transitionTime,\r\n        easingFn,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        onNext\r\n      );\r\n    }\r\n\r\n    return animation.next(onNext, true);\r\n  }\r\n\r\n  /**\r\n   * Pause the current animation on a layer.\r\n   *\r\n   * @param {string} name - Name of the layer to pause.\r\n   *\r\n   * @returns {boolean} Whether or not an animation was successfully paused.\r\n   */\r\n  pauseAnimation(name) {\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      console.warn(\r\n        `Did not pause animation on layer ${name} for host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    const paused = layer.pauseAnimation();\r\n\r\n    // Notify that an animation was paused\r\n    if (paused) {\r\n      const animationName = layer.currentAnimation;\r\n      this.emit(this.constructor.EVENTS.pauseAnimation, {\r\n        layerName: name,\r\n        animationName,\r\n      });\r\n    }\r\n\r\n    return paused;\r\n  }\r\n\r\n  /**\r\n   * Pause the currently playing animation and play a new animation from where it\r\n   * last left off.\r\n   *\r\n   * @param {string} layerName - Name of the layer that contains the animation.\r\n   * @param {string=} animationName - Name of the animation state to resume. Defaults\r\n   * to the name of the current animation for the layer.\r\n   * @param {number=} seconds - The number of seconds it should take to transition\r\n   * to the new animation. Default is zero and will set immediately.\r\n   * @param {Function=} easingFn - The easing function to use while transitioning\r\n   * between animations. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} - Resolves once the animation reaches the end of its\r\n   * timeline. Looping animations can only resolve if they are interrupted or\r\n   * manually stopped.\r\n   */\r\n  resumeAnimation(layerName, animationName, seconds, easingFn) {\r\n    const layer = this._layerMap[layerName];\r\n\r\n    if (layer === undefined) {\r\n      const e = `Cannot resume animation ${animationName} on layer ${layerName} for host ${this._host.id}. No layer exists with this name.`;\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Notify that an animation was resumed\r\n    this.emit(this.constructor.EVENTS.resumeAnimation, {\r\n      layerName,\r\n      animationName,\r\n    });\r\n\r\n    return layer.resumeAnimation(\r\n      animationName,\r\n      seconds,\r\n      easingFn,\r\n      () => {\r\n        // Notify that an animation has stopped\r\n        this.emit(this.constructor.EVENTS.stopAnimation, {\r\n          layerName,\r\n          animationName,\r\n        });\r\n      },\r\n      undefined,\r\n      () => {\r\n        // Notify that an animation has been interrupted\r\n        this.emit(this.constructor.EVENTS.interruptAnimation, {\r\n          layerName,\r\n          animationName,\r\n        });\r\n      },\r\n      ({name, canAdvance, isQueueEnd}) => {\r\n        if (layer.currentAnimation === animationName) {\r\n          // Notify that a new animation has begun\r\n          this.emit(this.constructor.EVENTS.playNextAnimation, {\r\n            layerName,\r\n            animationName,\r\n            nextQueuedAnimation: name,\r\n            canAdvance,\r\n            isQueueEnd,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Stop the current animation on a layer. Stop rewinds the animation to the\r\n   * beginning and prevents it from progressing forward.\r\n   *\r\n   * @param {string} name - Name of the layer that contains the animation.\r\n   *\r\n   * @returns {boolean} Whether or not an animation was successfully stopped.\r\n   */\r\n  stopAnimation(name) {\r\n    const layer = this._layerMap[name];\r\n\r\n    if (layer === undefined) {\r\n      console.warn(\r\n        `Did not stop animation on layer ${name} for host ${this._host.id}. No layer exists with this name.`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    return layer.stopAnimation();\r\n  }\r\n\r\n  /**\r\n   * Pause current animation and weight interpolation animation on all layers.\r\n\r\n   * @returns {boolean} - Whether or not there was an existing interpolation or\r\n   * current animations to pause.\r\n   */\r\n  pause() {\r\n    this._paused = true;\r\n\r\n    let paused = false;\r\n    this._layers.forEach(l => {\r\n      if (l.pause()) {\r\n        paused = true;\r\n      }\r\n    });\r\n\r\n    return paused;\r\n  }\r\n\r\n  /**\r\n   * Resume current animation and weight interpolation animation on all layers.\r\n\r\n   * @returns {boolean} - Whether or not there was an existing interpolation or\r\n   * current animations to resume.\r\n   */\r\n  resume() {\r\n    this._paused = false;\r\n\r\n    let resumed = false;\r\n    this._layers.forEach(l => {\r\n      if (l.resume()) {\r\n        resumed = true;\r\n      }\r\n    });\r\n\r\n    return resumed;\r\n  }\r\n\r\n  /**\r\n   * Adds a namespace to the host with the name of the feature to contain properties\r\n   * and methods from the feature that users of the host need access to.\r\n   *\r\n   * @see AnimationFeature\r\n   */\r\n  installApi() {\r\n    /**\r\n     * @inner\r\n     * @namespace AnimationFeature\r\n     */\r\n    const api = super.installApi();\r\n\r\n    Object.defineProperties(api, {\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @see core/AnimationFeature#paused\r\n       */\r\n      paused: {\r\n        get: () => this.paused,\r\n      },\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @see core/AnimationFeature#layers\r\n       */\r\n      layers: {\r\n        get: () => this.layers,\r\n      },\r\n    });\r\n\r\n    Object.assign(api, {\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#addLayer\r\n       */\r\n      addLayer: this.addLayer.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#removeLayer\r\n       */\r\n      removeLayer: this.removeLayer.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#moveLayer\r\n       */\r\n      moveLayer: this.moveLayer.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#renameLayer\r\n       */\r\n      renameLayer: this.renameLayer.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getLayerWeight\r\n       */\r\n      getLayerWeight: this.getLayerWeight.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#setLayerWeight\r\n       */\r\n      setLayerWeight: this.setLayerWeight.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#pauseLayerWeight\r\n       */\r\n      pauseLayerWeight: this.pauseLayerWeight.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#resumeLayerWeight\r\n       */\r\n      resumeLayerWeight: this.resumeLayerWeight.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#pauseLayer\r\n       */\r\n      pauseLayer: this.pauseLayer.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#resumeLayer\r\n       */\r\n      resumeLayer: this.resumeLayer.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getTransitioning\r\n       */\r\n      getTransitioning: this.getTransitioning.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getAnimations\r\n       */\r\n      getAnimations: this.getAnimations.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getCurrentAnimation\r\n       */\r\n      getCurrentAnimation: this.getCurrentAnimation.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getPaused\r\n       */\r\n      getPaused: this.getPaused.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getAnimationType\r\n       */\r\n      getAnimationType: this.getAnimationType.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#addAnimation\r\n       */\r\n      addAnimation: this.addAnimation.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#removeAnimation\r\n       */\r\n      removeAnimation: this.removeAnimation.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#renameAnimation\r\n       */\r\n      renameAnimation: this.renameAnimation.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getAnimationBlendNames\r\n       */\r\n      getAnimationBlendNames: this.getAnimationBlendNames.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#getAnimationBlendWeight\r\n       */\r\n      getAnimationBlendWeight: this.getAnimationBlendWeight.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#setAnimationBlendWeight\r\n       */\r\n      setAnimationBlendWeight: this.setAnimationBlendWeight.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#playAnimation\r\n       */\r\n      playAnimation: this.playAnimation.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#playNextAnimation\r\n       */\r\n      playNextAnimation: this.playNextAnimation.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#pauseAnimation\r\n       */\r\n      pauseAnimation: this.pauseAnimation.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#resumeAnimation\r\n       */\r\n      resumeAnimation: this.resumeAnimation.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#stopAnimation\r\n       */\r\n      stopAnimation: this.stopAnimation.bind(this),\r\n\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#pause\r\n       */\r\n      pause: this.pause.bind(this),\r\n      /**\r\n       * @memberof AnimationFeature\r\n       * @instance\r\n       * @method\r\n       * @see core/AnimationFeature#resume\r\n       */\r\n      resume: this.resume.bind(this),\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update each animation layer.\r\n   *\r\n   * @param {number} deltaTime - Time since the last update.\r\n   */\r\n  update(deltaTime) {\r\n    if (!this._layers.length) {\r\n      return;\r\n    }\r\n\r\n    if (this._paused) {\r\n      deltaTime = 0;\r\n    }\r\n\r\n    // Re-evaluate internal weights for layers\r\n    this._updateInternalWeights();\r\n\r\n    // Update layers\r\n    this._layers.forEach(layer => {\r\n      layer.update(deltaTime);\r\n    });\r\n\r\n    super.update(deltaTime);\r\n  }\r\n\r\n  discard() {\r\n    this._layers.forEach(layer => {\r\n      layer.discard();\r\n    });\r\n\r\n    delete this._layers;\r\n    delete this._layerMap;\r\n\r\n    super.discard();\r\n  }\r\n}\r\n\r\nObject.defineProperty(AnimationFeature, 'EVENTS', {\r\n  value: {\r\n    ...Object.getPrototypeOf(AbstractHostFeature).EVENTS,\r\n    addLayer: 'onAddLayerEvent',\r\n    removeLayer: 'onRemoveLayerEvent',\r\n    renameLayer: 'onRenameLayerEvent',\r\n    addAnimation: 'onAddAnimationEvent',\r\n    removeAnimation: 'onRemovedAnimationEvent',\r\n    renameAnimation: 'onRenameAnimationEvent',\r\n    playAnimation: 'onPlayEvent',\r\n    playNextAnimation: 'onNextEvent',\r\n    pauseAnimation: 'onPauseEvent',\r\n    resumeAnimation: 'onResumeEvent',\r\n    interruptAnimation: 'onInterruptEvent',\r\n    stopAnimation: 'onStopEvent',\r\n  },\r\n});\r\n\r\nexport default AnimationFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable max-classes-per-file */\r\nimport FeatureDependentInterface from '../FeatureDependentInterface';\r\n\r\n/**\r\n * Class factory interface for features that are dependent on the AnimationFeature\r\n * being present on the host. Layer and animation events will automatically be\r\n * listened for once a AnimationFeature is added to the host and stopped once it\r\n * is removed.\r\n *\r\n * @interface\r\n * @extends FeatureDependentInterface\r\n *\r\n * @property {Object} EVENT_DEPENDENCIES - Events that the feature should start/stop\r\n * listening for when a feature of type FeatureName is added/removed from the host.\r\n * @property {Object} EVENT_DEPENDENCIES.AnimationFeature - Events that are\r\n * specific to the AnimationFeature.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.addLayer='_onLayerAdded'] -\r\n * The name of the method that will be executed when AnimationFeature addLayer\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.removeLayer='_onLayerRemoved'] -\r\n * The name of the method that will be executed when AnimationFeature removeLayer\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.renameLayer='_onLayerRenamed'] -\r\n * The name of the method that will be executed when AnimationFeature renameLayer\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.addAnimation='_onAnimationAdded'] -\r\n * The name of the method that will be executed when AnimationFeature addAnimation\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.removeAnimation='_onAnimationRemoved'] -\r\n * The name of the method that will be executed when AnimationFeature removeAnimation\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.AnimationFeature.renameAnimation='_onAnimationRenamed'] -\r\n * The name of the method that will be executed when AnimationFeature renameAnimation\r\n * events are emitted.\r\n */\r\nclass AnimationFeatureDependentInterface extends FeatureDependentInterface {\r\n  /**\r\n   * Executed when animation layer added events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} name - Name of the layer that was added.\r\n   */\r\n  _onLayerAdded({name}) {}\r\n\r\n  /**\r\n   * Executed when animation layer removed events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} name - Name of the layer that was removed.\r\n   */\r\n  _onLayerRemoved({name}) {}\r\n\r\n  /**\r\n   * Executed when animation layer renamed events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} oldName - Name of the layer that was renamed.\r\n   * @param {string} newName - New name of the layer.\r\n   */\r\n  _onLayerRenamed({oldName, newName}) {}\r\n\r\n  /**\r\n   * Executed when animation added events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that an animation was added to.\r\n   * @param {string} animationName - Name of the animation that was added.\r\n   */\r\n  _onAnimationAdded({layerName, animationName}) {}\r\n\r\n  /**\r\n   * Executed when animation removed events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that an animation was removed from.\r\n   * @param {string} animationName - Name of the animation that was removed.\r\n   */\r\n  _onAnimationRemoved({layerName, animationName}) {}\r\n\r\n  /**\r\n   * Executed when animation renamed events are caught.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} layerName - Name of the layer that an animation belongs to.\r\n   * @param {string} oldName - Name of the animation that was renamed.\r\n   * @param {string} newName - New name of the animation.\r\n   */\r\n  _onAnimationRenamed({layerName, oldName, newName}) {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link AnimationFeatureDependentInterface}\r\n   * and extends a specified base class.\r\n   *\r\n   * @param {Class} BaseClass - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link AnimationFeatureDependentInterface}.\r\n   */\r\n  static Mixin(BaseClass) {\r\n    const ParentClass = FeatureDependentInterface.Mixin(BaseClass);\r\n    const AnimationFeatureDependentMixin = class extends ParentClass {\r\n      _onLayerAdded({name}) {}\r\n\r\n      _onLayerRemoved({name}) {}\r\n\r\n      _onLayerRenamed({oldName, newName}) {}\r\n\r\n      _onAnimationAdded({layerName, animationName}) {}\r\n\r\n      _onAnimationRemoved({layerName, animationName}) {}\r\n\r\n      _onAnimationRenamed({layerName, oldName, newName}) {}\r\n    };\r\n\r\n    Object.defineProperties(AnimationFeatureDependentMixin, {\r\n      EVENT_DEPENDENCIES: {\r\n        value: {\r\n          ...ParentClass.EVENT_DEPENDENCIES,\r\n          ...AnimationFeatureDependentInterface.EVENT_DEPENDENCIES,\r\n        },\r\n        writable: false,\r\n      },\r\n    });\r\n\r\n    return AnimationFeatureDependentMixin;\r\n  }\r\n}\r\n\r\nObject.defineProperties(AnimationFeatureDependentInterface, {\r\n  EVENT_DEPENDENCIES: {\r\n    value: {\r\n      AnimationFeature: {\r\n        addLayer: '_onLayerAdded',\r\n        removeLayer: '_onLayerRemoved',\r\n        renameLayer: '_onLayerRenamed',\r\n        addAnimation: '_onAnimationAdded',\r\n        removeAnimation: '_onAnimationRemoved',\r\n        renameAnimation: '_onAnimationRenamed',\r\n      },\r\n    },\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default AnimationFeatureDependentInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractBlendState from './state/AbstractBlendState';\r\nimport AnimationPlayerInterface from './AnimationPlayerInterface';\r\nimport AnimationUtils from './AnimationUtils';\r\nimport MathUtils from '../MathUtils';\r\nimport Deferred from '../Deferred';\r\nimport StateContainerInterface from './state/StateContainerInterface';\r\n\r\n/**\r\n * Enum for types of {@link AnimationLayer} blending.\r\n *\r\n * @readonly\r\n * @enum {string}\r\n */\r\nexport const LayerBlendModes = {Override: 'Override', Additive: 'Additive'};\r\n\r\n/**\r\n * The default blending mode {@link AnimationLayer}.\r\n *\r\n * @readonly\r\n * @type {string}\r\n */\r\nexport const DefaultLayerBlendMode = 'Override';\r\n\r\n/**\r\n * Checks if a given blendMode is present in the values of {@link LayerBlendModes}.\r\n * If it is, return the original value, otherwise return {@link DefaultLayerBlendMode}.\r\n *\r\n * @param {string} blendMode - The name of the type of blending.\r\n *\r\n * @returns {(string|DefaultLayerBlendMode)}\r\n */\r\nexport function validateBlendMode(blendMode) {\r\n  if (Array.from(Object.values(LayerBlendModes)).includes(blendMode)) {\r\n    return blendMode;\r\n  } else {\r\n    return DefaultLayerBlendMode;\r\n  }\r\n}\r\n\r\n/**\r\n * Class for managing a set of animations where only one state can be active at\r\n * any given time.\r\n *\r\n * @implements AnimationPlayerInterface\r\n * @implements StateContainerInterface\r\n */\r\nclass AnimationLayer extends AnimationPlayerInterface.Mixin(\r\n  StateContainerInterface.Mixin()\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options -  Options for the animation layer.\r\n   * @param {string} options.name - Name of the layer. Names must be unique to the\r\n   * animation feature that contains the layer.\r\n   * @param {LayerBlendModes} [options.blendMode=DefaultLayerBlendMode] -\r\n   * Type of blending to use for all states controlled by the layer.\r\n   * @param {number} [options.weight=1] - The amount of influence the layer's current\r\n   * animation has over the result for the host.\r\n   * @param {number} [options.transitionTime=0] - The default amount of time to use when\r\n   * playing and resuming animations.\r\n   * @param {Function=} options.easingFn - The default easing function to use when\r\n   * transitioning between animations and setting layer weight.\r\n   */\r\n  constructor(options = {}) {\r\n    super(options);\r\n\r\n    this.name = options.name === undefined ? 'AnimationLayer' : options.name;\r\n    this._blendMode = Array.from(Object.values(LayerBlendModes)).includes(\r\n      options.blendMode\r\n    )\r\n      ? options.blendMode\r\n      : DefaultLayerBlendMode;\r\n    this._promises = {\r\n      weight: Deferred.resolve(),\r\n    };\r\n    this._weightPaused = false;\r\n\r\n    this.weight = typeof options.weight === 'number' ? options.weight : 1;\r\n    this._internalWeight = this._weight;\r\n  }\r\n\r\n  /**\r\n   * Gets the type of blending used for states controlled by the layer.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get blendMode() {\r\n    return this._blendMode;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the amount of influence the layer's current animation has over\r\n   * the result for the host.\r\n   *\r\n   * @type {number}\r\n   */\r\n  set weight(weight) {\r\n    this._weight = MathUtils.clamp(weight, 0, 1);\r\n  }\r\n\r\n  get weight() {\r\n    return this._weight;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the layer's weight value is currently being animated.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get weightPending() {\r\n    return this._promises.weight && this._promises.weight.pending;\r\n  }\r\n\r\n  /**\r\n   * Pause the current animation state and any interpolation happening on the layer's\r\n   * weight property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pause() {\r\n    this._paused = true;\r\n    this._weightPaused = true;\r\n\r\n    return this.pauseAnimation() || this.weightPending;\r\n  }\r\n\r\n  /**\r\n   * Resume the current animation state and any interpolation happening on the layer's\r\n   * weight property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  resume() {\r\n    this._paused = false;\r\n    this._weightPaused = false;\r\n\r\n    const isWeightActive = this.weightPending;\r\n\r\n    if (this._currentState) {\r\n      return this.resumeAnimation() || isWeightActive;\r\n    } else {\r\n      return isWeightActive;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the user defined weight over time.\r\n   *\r\n   * @param {number} weight - The target weight value.\r\n   * @param {number} [seconds=0] - The amount of time it will take to reach the\r\n   * target weight.\r\n   * @param {Function=} easingFn - The easing function to use for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setWeight(weight, seconds = 0, easingFn) {\r\n    if (this.weightPending) {\r\n      this._promises.weight.cancel();\r\n    }\r\n\r\n    weight = MathUtils.clamp(weight);\r\n    this._promises.weight = AnimationUtils.interpolateProperty(\r\n      this,\r\n      'weight',\r\n      weight,\r\n      {\r\n        seconds,\r\n        easingFn: easingFn !== undefined ? easingFn : this._easingFn,\r\n      }\r\n    );\r\n\r\n    return this._promises.weight;\r\n  }\r\n\r\n  /**\r\n   * Pause any interpolation happening on the layer's weight property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pauseWeight() {\r\n    this._weightPaused = true;\r\n\r\n    return this.weightPending;\r\n  }\r\n\r\n  /**\r\n   * Resume any interpolation happening on the layer's weight property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  resumeWeight() {\r\n    this._weightPaused = false;\r\n\r\n    return this.weightPending;\r\n  }\r\n\r\n  /**\r\n   * Multiplies the user weight by a factor to determine the internal weight.\r\n   *\r\n   * @param {number} factor - 0-1 multiplier to apply to the user weight.\r\n   */\r\n  updateInternalWeight(factor) {\r\n    this._internalWeight = this._weight * factor;\r\n\r\n    if (this._currentState) {\r\n      this._currentState.updateInternalWeight(this._internalWeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the names of blend states in an animation.\r\n   *\r\n   * @param {string} animationName - Name of the animation.\r\n   *\r\n   * @returns {Array.<string>} - Names of blend states.\r\n   */\r\n  getAnimationBlendNames(animationName) {\r\n    const state = this.getState(animationName);\r\n\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Cannot get blend names of animation ${animationName} on layer ${this.name}. No animation exists with this name.`\r\n      );\r\n    }\r\n\r\n    if (state instanceof AbstractBlendState) {\r\n      return state.getStateNames();\r\n    }\r\n\r\n    throw new Error(\r\n      `Cannot get blend names of animation ${animationName} on layer ${this.name}. Animation is not an instance of AbstractBlendState.`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Update the weight for a blend state of an animation.\r\n   *\r\n   * @param {string} animationName - Name of the animation containing the blend state\r\n   * to update.\r\n   * @param {string} blendName - Name of the blend state to update.\r\n   * @param {number} weight - Weight value to set on the animation. This number shoudld be\r\n   * in the 0-1 range.\r\n   * @param {number=} seconds - Number of seconds it should take to reach the new weight.\r\n   * Default is zero and will set immediately.\r\n   * @param {Function=} easingFn - Easing function to use while interpolating the new\r\n   * weight. Default is Easing.Linear.InOut.\r\n   *\r\n   * @returns {Deferred} - Promise that will resolve once the animation's weight reaches\r\n   * the target value.\r\n   */\r\n  setAnimationBlendWeight(\r\n    animationName,\r\n    blendName,\r\n    weight,\r\n    seconds = 0,\r\n    easingFn\r\n  ) {\r\n    const state = this.getState(animationName);\r\n\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Cannot set blend weight of animation ${animationName} on layer ${this.name}. No animation exists with this name.`\r\n      );\r\n    }\r\n\r\n    if (state instanceof AbstractBlendState) {\r\n      return state.setBlendWeight(blendName, weight, seconds, easingFn);\r\n    }\r\n\r\n    throw new Error(\r\n      `Cannot set blend weight of animation ${animationName} on layer ${this.name}. Animation is not an instance of AbstractBlendState.`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns the weight for a blend state of an animation.\r\n   *\r\n   * @param {string} animationName - Name of the animation containing the blend state\r\n   * to update.\r\n   * @param {string} blendName - Name of the blend state to retrieve the weight of.\r\n   *\r\n   * @returns {number} - Weight of the blend state.\r\n   */\r\n  getAnimationBlendWeight(animationName, blendName) {\r\n    const state = this.getState(animationName);\r\n\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Cannot get blend weight of animation ${animationName} on layer ${this.name}. No animation exists with this name.`\r\n      );\r\n    }\r\n\r\n    if (state instanceof AbstractBlendState) {\r\n      return state.getBlendWeight(blendName);\r\n    }\r\n\r\n    throw new Error(\r\n      `Cannot get blend weight of animation ${animationName} on layer ${this.name}. Animation is not an instance of AbstractBlendState.`\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Update any weight interpolators and the current animation.\r\n   *\r\n   * @param {number} deltaTime - Time in milliseconds since the last update.\r\n   */\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    if (!this._paused && !this._weightPaused) {\r\n      this._promises.weight.execute(deltaTime);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cancel any pending promises and discard states controlled by the layer.\r\n   */\r\n  discard() {\r\n    super.discard();\r\n\r\n    this.discardStates();\r\n\r\n    this._promises.weight.cancel();\r\n    delete this._promises;\r\n  }\r\n}\r\n\r\nexport default AnimationLayer;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable max-classes-per-file */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-empty-function */\r\n/* eslint-disable getter-return */\r\n/* eslint-disable no-useless-constructor */\r\nimport TransitionState from './state/TransitionState';\r\nimport Deferred from '../Deferred';\r\n\r\n/**\r\n * Class factory interface for controlling playback of a collection of animations.\r\n * One animation can be played at any given time, crossfading between animations\r\n * will result in playing a {@link TransitionState}.\r\n *\r\n * @interface\r\n */\r\nclass AnimationPlayerInterface {\r\n  /**\r\n   * Gets whether or not the player is updating states.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get paused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the default number of seconds it takes to transition to a new\r\n   * animation.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get transitionTime() {}\r\n\r\n  set transitionTime(seconds) {}\r\n\r\n  /**\r\n   * Gets and sets the default easing function to use when transitioning and\r\n   * setting weights.\r\n   *\r\n   * @type {Function}\r\n   */\r\n  get easingFn() {}\r\n\r\n  set easingFn(fn) {}\r\n\r\n  /**\r\n   * Gets the state the layer is currently in control of.\r\n   *\r\n   * @readonly\r\n   * @type {AbstractState}\r\n   */\r\n  get currentState() {}\r\n\r\n  /**\r\n   * Gets the name of the state the layer is currently in control of.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get currentAnimation() {}\r\n\r\n  /**\r\n   * Gets whether or not the layer is currently transitioning to a new animation.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get isTransitioning() {}\r\n\r\n  /**\r\n   * Update the layer's current state to a new value. If transitionTime is defined\r\n   * and greater than zero, perform a smooth blend between any states that currently\r\n   * have non-zero weight values and the new state.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {(string|null)} name - Name of the state to transition to.\r\n   * @param {string} playMethod - Name of the operation being prepared for, to be\r\n   * used in error messaging.\r\n   * @param {number=} transitionTime - Amount of time in seconds it will take to\r\n   * switch to the new state.\r\n   * @param {Function=} easingFn - Easing function to use when transitioning to a\r\n   * new state over time.\r\n   * @param {Function=} onError - Function to execute if an error is encountered.\r\n   */\r\n  _prepareCurrentState(name, playMethod, transitionTime, easingFn, onError) {}\r\n\r\n  /**\r\n   * Start playback an animation from the beginning.\r\n   *\r\n   * @param {string} name - Name of the animation to play.\r\n   * @param {number=} transitionTime - Amount of time it will take before the\r\n   * new state has full influence for the layer.\r\n   * @param {Function=} easingFn - Easing function to use for blending if transitionTime\r\n   * is greater than zero.\r\n   * @param {Function=} onFinish - Function to execute when the animation finishes.\r\n   * @param {Function=} onError - Function to execute if the animation encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   * @param {Function=} onNext - Function to execute if an animation queue is\r\n   * played and it advances to the next animation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  playAnimation(\r\n    name,\r\n    transitionTime,\r\n    easingFn,\r\n    onFinish,\r\n    onError,\r\n    onCancel,\r\n    onNext\r\n  ) {}\r\n\r\n  /**\r\n   * Cancel playback of the current animation.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  cancelAnimation() {}\r\n\r\n  /**\r\n   * Pause playback of the current animation.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pauseAnimation() {}\r\n\r\n  /**\r\n   * Resume playback of an animation.\r\n   *\r\n   * @param {string=} name - Name of the animation to resume playback for. Default\r\n   * is the layer's current animation name.\r\n   * @param {number=} transitionTime - Amount of time it will take before the\r\n   * new state has full influence for the layer.\r\n   * @param {Function=} onFinish - Function to execute when the state finishes.\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   * @param {Function=} onNext - Function to execute if an animation queue is\r\n   * played and it advances to the next animation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  resumeAnimation(\r\n    name,\r\n    transitionTime,\r\n    easingFn,\r\n    onFinish,\r\n    onError,\r\n    onCancel,\r\n    onNext\r\n  ) {}\r\n\r\n  /**\r\n   * Stop playback of the current animation.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  stopAnimation() {}\r\n\r\n  /**\r\n   * Update the current animation.\r\n   *\r\n   * @param {number} deltaTime - Time in milliseconds since the last update.\r\n   */\r\n  update(deltaTime) {}\r\n\r\n  /**\r\n   * Discard the transition state.\r\n   */\r\n  discard() {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link AnimationPlayerInterface} and extends\r\n   * a specified base class.\r\n   *\r\n   * @param {Class} [BaseClass = class{}] - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link AnimationPlayerInterface}.\r\n   */\r\n  static Mixin(BaseClass = class {}) {\r\n    const AnimationPlayerMixin = class extends BaseClass {\r\n      constructor(options = {}, ...args) {\r\n        super(options, ...args);\r\n\r\n        this._transitionState = new TransitionState();\r\n        this._states = this._states !== undefined ? this._states : new Map();\r\n        this._currentState = null;\r\n        this._paused = false;\r\n\r\n        this._transitionTime =\r\n          Number(options.transitionTime) >= 0\r\n            ? Number(options.transitionTime)\r\n            : 0;\r\n\r\n        this._easingFn =\r\n          typeof options.easingFn === 'function' ? options.easingFn : undefined;\r\n      }\r\n\r\n      get paused() {\r\n        return this._paused;\r\n      }\r\n\r\n      get transitionTime() {\r\n        return this._transitionTime;\r\n      }\r\n\r\n      set transitionTime(seconds) {\r\n        seconds = Number(seconds);\r\n\r\n        if (!(seconds >= 0)) {\r\n          throw new Error(\r\n            `Cannot set transition time for ${this.constructor.name} to ${seconds}. Seconds must be a numeric value greather than or equal to zero.`\r\n          );\r\n        }\r\n\r\n        this._transitionTime = seconds;\r\n      }\r\n\r\n      get easingFn() {\r\n        return this._easingFn;\r\n      }\r\n\r\n      set easingFn(fn) {\r\n        this._easingFn = fn;\r\n      }\r\n\r\n      get currentState() {\r\n        return this._currentState;\r\n      }\r\n\r\n      get currentAnimation() {\r\n        if (this._currentState) {\r\n          return this._currentState.name;\r\n        }\r\n\r\n        return null;\r\n      }\r\n\r\n      get isTransitioning() {\r\n        return this._currentState === this._transitionState;\r\n      }\r\n\r\n      _prepareCurrentState(\r\n        name,\r\n        playMethod,\r\n        transitionTime,\r\n        easingFn,\r\n        onError\r\n      ) {\r\n        if (name !== null && !this._states.has(name)) {\r\n          const e = new Error(\r\n            `Cannot ${playMethod} animation ${name}. No animation exists with this name.`\r\n          );\r\n\r\n          if (typeof onError === 'function') {\r\n            onError(e);\r\n          }\r\n\r\n          throw e;\r\n        }\r\n\r\n        const targetState = name !== null ? this._states.get(name) : null;\r\n\r\n        // Make sure the new state isn't already playing\r\n        if (this.currentAnimation !== name) {\r\n          // Switch to the new state immediately\r\n          if (transitionTime <= 0) {\r\n            // Cancel the current state and set its weight to 0\r\n            if (this._currentState) {\r\n              this._currentState.cancel();\r\n              this._currentState.weight = 0;\r\n              this._currentState.deactivate();\r\n            }\r\n\r\n            this._currentState = targetState;\r\n          }\r\n          // Blend to the new state over time\r\n          else {\r\n            // Make sure to transition out of any states with non-zero weight\r\n            const currentStates = [...this._states.values()].filter(\r\n              s => s !== targetState && (s.weight || s.weightPending)\r\n            );\r\n\r\n            // Update the transition state with new inputs\r\n            this._transitionState.configure(\r\n              currentStates,\r\n              targetState,\r\n              transitionTime,\r\n              easingFn,\r\n              () => {\r\n                this._currentState = targetState;\r\n                this._transitionState.weight = 0;\r\n              }\r\n            );\r\n\r\n            this._currentState = this._transitionState;\r\n          }\r\n        } else if (playMethod === 'play') {\r\n          this._currentState.cancel();\r\n\r\n          if (this._currentState === this._transitionState) {\r\n            this._transitionState.reset(transitionTime, easingFn, () => {\r\n              this._currentState = targetState;\r\n              this._transitionState.weight = 0;\r\n            });\r\n          }\r\n        }\r\n\r\n        // Update weight for the new current state so it has full influence for the player\r\n        this._currentState.weight = 1;\r\n        this._currentState.updateInternalWeight(this._internalWeight);\r\n      }\r\n\r\n      playAnimation(\r\n        name,\r\n        transitionTime,\r\n        easingFn,\r\n        onFinish,\r\n        onError,\r\n        onCancel,\r\n        onNext\r\n      ) {\r\n        let error;\r\n        let reject = false;\r\n        try {\r\n          this._prepareCurrentState(\r\n            name,\r\n            'play',\r\n            transitionTime !== undefined\r\n              ? transitionTime\r\n              : this._transitionTime,\r\n            easingFn !== undefined ? easingFn : this._easingFn,\r\n            onError\r\n          );\r\n        } catch (e) {\r\n          error = e;\r\n          reject = true;\r\n        }\r\n\r\n        if (reject) {\r\n          return Deferred.reject(error);\r\n        }\r\n\r\n        return this._currentState.play(onFinish, onError, onCancel, onNext);\r\n      }\r\n\r\n      pauseAnimation() {\r\n        if (this._currentState) {\r\n          return this._currentState.pause();\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      resumeAnimation(\r\n        name,\r\n        transitionTime,\r\n        easingFn,\r\n        onFinish,\r\n        onError,\r\n        onCancel,\r\n        onNext\r\n      ) {\r\n        if (name === undefined && this._currentState) {\r\n          name = this._currentState.name;\r\n        }\r\n\r\n        let error;\r\n        let reject = false;\r\n        try {\r\n          this._prepareCurrentState(\r\n            name,\r\n            'resume',\r\n            transitionTime !== undefined\r\n              ? transitionTime\r\n              : this._transitionTime,\r\n            easingFn !== undefined ? easingFn : this._easingFn,\r\n            onError\r\n          );\r\n        } catch (e) {\r\n          error = e;\r\n          reject = true;\r\n        }\r\n\r\n        if (reject) {\r\n          return Deferred.reject(error);\r\n        }\r\n\r\n        return this._currentState.resume(onFinish, onError, onCancel, onNext);\r\n      }\r\n\r\n      cancelAnimation() {\r\n        if (this._currentState) {\r\n          return this._currentState.cancel();\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      stopAnimation() {\r\n        if (this._currentState) {\r\n          return this._currentState.stop();\r\n        } else {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      update(deltaTime) {\r\n        if (super.update) {\r\n          super.update(deltaTime);\r\n        }\r\n\r\n        if (this._currentState) {\r\n          this._currentState.update(deltaTime);\r\n        }\r\n      }\r\n\r\n      discard() {\r\n        if (super.discard) {\r\n          super.discard();\r\n        }\r\n\r\n        this._transitionState.discard();\r\n        delete this._transitionState;\r\n      }\r\n    };\r\n\r\n    return AnimationPlayerMixin;\r\n  }\r\n}\r\n\r\nexport default AnimationPlayerInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../Deferred';\r\nimport Utils from '../Utils';\r\nimport MathUtils from '../MathUtils';\r\nimport {Linear} from './Easing';\r\n\r\n/**\r\n * A collection of useful animation functions.\r\n *\r\n * @hideconstructor\r\n */\r\nclass AnimationUtils {\r\n  static lerp(from, to, factor) {\r\n    console.warn(\r\n      `AnimationUtils.lerp is being deprecated. Use MathUtils.lerp instead.`\r\n    );\r\n\r\n    return MathUtils.lerp(from, to, factor);\r\n  }\r\n\r\n  /**\r\n   * Clamp a number between 2 values.\r\n   *\r\n   * @param {number} value - Value to clamp.\r\n   * @param {number} [min=0] - Minumum value.\r\n   * @param {number} [max=1] - Maximum value.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  static clamp(value, min = 0, max = 1) {\r\n    console.warn(\r\n      `AnimationUtils.clamp is being deprecated. Use MathUtils.clamp instead.`\r\n    );\r\n\r\n    return MathUtils.clamp(value, min, max);\r\n  }\r\n\r\n  /**\r\n   * Return a deferred promise that can be used to update the value of a numeric\r\n   * property of this object over time. Pass delta time in milliseconds to the\r\n   * deferred promise's execute method in an update loop to animate the property\r\n   * towards the target value.\r\n   *\r\n   * @param {Object} propertyOwner - Object that contains the property to animation.\r\n   * @param {string} propertyName - Name of the property to animate.\r\n   * @param {number} targetValue - Target value to reach.\r\n   * @param {Object=} options - Optional options object\r\n   * @param {number} [options.seconds=0] - Number of seconds it will take to reach\r\n   * the target value.\r\n   * @param {Function} [options.easingFn=Linear.InOut] - Easing function to use for animation.\r\n   * @param {Function} [options.onFinish] - Callback to execute once the animation completes.\r\n   * The target value is passed as a parameter.\r\n   * @param {Function=} options.onProgress - Callback to execute each time the animation\r\n   * property is updated during the animation. The property's value at the time of\r\n   * the update is passed as a parameter.\r\n   * @param {Function=} options.onCancel - Callback to execute if the user cancels the\r\n   * animation before completion. The animation property's value at the time of\r\n   * cancel is passed as a parameter.\r\n   * @param {Function=} options.onError - Callback to execute if the animation stops\r\n   * because an error is encountered. The error message is passed as a parameter.\r\n   *\r\n   * @returns {Deferred} Resolves with the property's value once it reaches the\r\n   * target value.\r\n   */\r\n  static interpolateProperty(\r\n    propertyOwner,\r\n    propertyName,\r\n    targetValue,\r\n    {seconds = 0, easingFn, onFinish, onProgress, onCancel, onError} = {}\r\n  ) {\r\n    // Make sure property is an object\r\n    if (!(propertyOwner instanceof Object)) {\r\n      const e = new Error(\r\n        `Cannot interpolate property ${propertyName}. Property owner must be an object.`\r\n      );\r\n\r\n      if (typeof onError === 'function') {\r\n        onError(e);\r\n      }\r\n\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Make sure property is numeric\r\n    if (Number.isNaN(Number(propertyOwner[propertyName]))) {\r\n      const e = new Error(\r\n        `Cannot interpolate property ${propertyName}. Property must be numeric.`\r\n      );\r\n\r\n      if (typeof onError === 'function') {\r\n        onError(e);\r\n      }\r\n\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Make sure the target value is numeric\r\n    if (Number.isNaN(Number(targetValue))) {\r\n      const e = new Error(\r\n        `Cannot interpolate property ${propertyName} to value ${targetValue}. Target value must be numeric.`\r\n      );\r\n\r\n      if (typeof onError === 'function') {\r\n        onError(e);\r\n      }\r\n\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Resolve immediately if the target has already been reached\r\n    const startValue = propertyOwner[propertyName];\r\n\r\n    if (startValue === targetValue) {\r\n      if (typeof onFinish === 'function') {\r\n        onFinish(targetValue);\r\n      }\r\n\r\n      return Deferred.resolve(targetValue);\r\n    }\r\n\r\n    // Default to linear interpolation\r\n    if (typeof easingFn !== 'function') {\r\n      if (easingFn !== undefined) {\r\n        console.warn(\r\n          `Invalid property interpolation easingFn. Defaulting to linear interpolation.`\r\n        );\r\n      }\r\n\r\n      easingFn = Linear.InOut;\r\n    }\r\n\r\n    const interpolator = Utils.wait(seconds, {\r\n      onFinish: () => {\r\n        propertyOwner[propertyName] = targetValue;\r\n\r\n        if (typeof onFinish === 'function') {\r\n          onFinish(targetValue);\r\n        }\r\n      },\r\n      onCancel: () => {\r\n        if (typeof onCancel === 'function') {\r\n          onCancel(propertyOwner[propertyName]);\r\n        }\r\n      },\r\n      onProgress: progress => {\r\n        if (propertyOwner[propertyName] !== targetValue) {\r\n          // Calculate the lerp factor\r\n          const easeFactor = easingFn(progress);\r\n\r\n          if (typeof easeFactor !== 'number') {\r\n            const e = new Error(\r\n              `Invalid property interpolation easingFn. EasingFn must return a number.`\r\n            );\r\n            interpolator.reject(e);\r\n            return;\r\n          }\r\n\r\n          // Update the value\r\n          propertyOwner[propertyName] = MathUtils.lerp(\r\n            startValue,\r\n            targetValue,\r\n            easeFactor\r\n          );\r\n        }\r\n\r\n        // Signal progress\r\n        if (typeof onProgress === 'function') {\r\n          onProgress(propertyOwner[propertyName]);\r\n        }\r\n\r\n        // Signal completion once time is up\r\n        if (progress === 1) {\r\n          propertyOwner[propertyName] = targetValue;\r\n          interpolator.resolve(targetValue);\r\n        }\r\n      },\r\n      onError,\r\n    });\r\n\r\n    return interpolator;\r\n  }\r\n}\r\n\r\nexport default AnimationUtils;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/**\r\n * @typedef {Object} EasingObject Object containing easing functions\r\n * @property {Function} In - Easing 'In' function. Should use the signature (k:number):number.\r\n * @property {Function} Out - Easing 'Out' function. Should use the signature (k:number):number.\r\n * @property {Function} InOut - Easing 'InOut' function. Should use the signature (k:number):number.\r\n */\r\n\r\n/**\r\n * Linear Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Linear = {\r\n  None(k) {\r\n    return k;\r\n  },\r\n  In(k) {\r\n    return k;\r\n  },\r\n  Out(k) {\r\n    return k;\r\n  },\r\n  InOut(k) {\r\n    return k;\r\n  },\r\n};\r\n\r\n/**\r\n * Quadratic Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Quadratic = {\r\n  In(k) {\r\n    return k * k;\r\n  },\r\n  Out(k) {\r\n    return k * (2 - k);\r\n  },\r\n  InOut(k) {\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * k * k;\r\n    }\r\n    return -0.5 * (--k * (k - 2) - 1);\r\n  },\r\n};\r\n\r\n/**\r\n * Cubic Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Cubic = {\r\n  In(k) {\r\n    return k * k * k;\r\n  },\r\n  Out(k) {\r\n    return --k * k * k + 1;\r\n  },\r\n  InOut(k) {\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * k * k * k;\r\n    }\r\n\r\n    k -= 2;\r\n    return 0.5 * (k * k * k + 2);\r\n  },\r\n};\r\n\r\n/**\r\n * Quartic Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Quartic = {\r\n  In(k) {\r\n    return k * k * k * k;\r\n  },\r\n  Out(k) {\r\n    return 1 - --k * k * k * k;\r\n  },\r\n  InOut(k) {\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * k * k * k * k;\r\n    }\r\n\r\n    k -= 2;\r\n    return -0.5 * (k * k * k * k - 2);\r\n  },\r\n};\r\n\r\n/**\r\n * Quintic Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Quintic = {\r\n  In(k) {\r\n    return k * k * k * k * k;\r\n  },\r\n  Out(k) {\r\n    return --k * k * k * k * k + 1;\r\n  },\r\n  InOut(k) {\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * k * k * k * k * k;\r\n    }\r\n\r\n    k -= 2;\r\n    return 0.5 * (k * k * k * k * k + 2);\r\n  },\r\n};\r\n\r\n/**\r\n * Sinusoidal Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Sinusoidal = {\r\n  In(k) {\r\n    return 1 - Math.cos((k * Math.PI) / 2);\r\n  },\r\n  Out(k) {\r\n    return Math.sin((k * Math.PI) / 2);\r\n  },\r\n  InOut(k) {\r\n    return 0.5 * (1 - Math.cos(Math.PI * k));\r\n  },\r\n};\r\n\r\n/**\r\n * Exponential Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Exponential = {\r\n  In(k) {\r\n    return k === 0 ? 0 : 1024 ** (k - 1);\r\n  },\r\n  Out(k) {\r\n    return k === 1 ? 1 : 1 - 2 ** (-10 * k);\r\n  },\r\n  InOut(k) {\r\n    if (k === 0) {\r\n      return 0;\r\n    }\r\n    if (k === 1) {\r\n      return 1;\r\n    }\r\n\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * 1024 ** (k - 1);\r\n    }\r\n    return 0.5 * (-(2 ** (-10 * (k - 1))) + 2);\r\n  },\r\n};\r\n\r\n/**\r\n * Circular Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Circular = {\r\n  In(k) {\r\n    return 1 - Math.sqrt(1 - k * k);\r\n  },\r\n  Out(k) {\r\n    return Math.sqrt(1 - --k * k);\r\n  },\r\n  InOut(k) {\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n    }\r\n\r\n    k -= 2;\r\n    return 0.5 * (Math.sqrt(1 - k * k) + 1);\r\n  },\r\n};\r\n\r\n/**\r\n * Elastic Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Elastic = {\r\n  In(k) {\r\n    let s;\r\n    let a = 0.1;\r\n    const p = 0.4;\r\n\r\n    if (k === 0) {\r\n      return 0;\r\n    }\r\n\r\n    if (k === 1) {\r\n      return 1;\r\n    }\r\n\r\n    if (!a || a < 1) {\r\n      a = 1;\r\n      s = p / 4;\r\n    } else {\r\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI);\r\n    }\r\n\r\n    k -= 1;\r\n    return -(a * 2 ** (10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p));\r\n  },\r\n  Out(k) {\r\n    let s;\r\n    let a = 0.1;\r\n    const p = 0.4;\r\n\r\n    if (k === 0) {\r\n      return 0;\r\n    }\r\n\r\n    if (k === 1) {\r\n      return 1;\r\n    }\r\n\r\n    if (!a || a < 1) {\r\n      a = 1;\r\n      s = p / 4;\r\n    } else {\r\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI);\r\n    }\r\n\r\n    return a * 2 ** (-10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1;\r\n  },\r\n  InOut(k) {\r\n    let s;\r\n    let a = 0.1;\r\n    const p = 0.4;\r\n\r\n    if (k === 0) {\r\n      return 0;\r\n    }\r\n\r\n    if (k === 1) {\r\n      return 1;\r\n    }\r\n\r\n    if (!a || a < 1) {\r\n      a = 1;\r\n      s = p / 4;\r\n    } else {\r\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI);\r\n    }\r\n\r\n    k *= 2;\r\n    if (k < 1) {\r\n      k -= 1;\r\n      return (\r\n        -0.5 * (a * 2 ** (10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p))\r\n      );\r\n    }\r\n\r\n    k -= 1;\r\n    return (\r\n      a * 2 ** (-10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) * 0.5 + 1\r\n    );\r\n  },\r\n};\r\n\r\n/**\r\n * Back Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Back = {\r\n  In(k) {\r\n    const s = 1.70158;\r\n    return k * k * ((s + 1) * k - s);\r\n  },\r\n  Out(k) {\r\n    const s = 1.70158;\r\n    return --k * k * ((s + 1) * k + s) + 1;\r\n  },\r\n  InOut(k) {\r\n    const s = 1.70158 * 1.525;\r\n    k *= 2;\r\n    if (k < 1) {\r\n      return 0.5 * (k * k * ((s + 1) * k - s));\r\n    }\r\n\r\n    k -= 2;\r\n    return 0.5 * (k * k * ((s + 1) * k + s) + 2);\r\n  },\r\n};\r\n\r\n/**\r\n * Bounce Easing\r\n * @type {EasingObject}\r\n */\r\nexport const Bounce = {\r\n  In(k) {\r\n    return 1 - Bounce.Out(1 - k);\r\n  },\r\n  Out(k) {\r\n    if (k < 1 / 2.75) {\r\n      return 7.5625 * k * k;\r\n    } else if (k < 2 / 2.75) {\r\n      k -= 1.5;\r\n      return 7.5625 * (k / 2.75) * k + 0.75;\r\n    } else if (k < 2.5 / 2.75) {\r\n      k -= 2.25;\r\n      return 7.5625 * (k / 2.75) * k + 0.9375;\r\n    }\r\n    k -= 2.625;\r\n    return 7.5625 * (k / 2.75) * k + 0.984375;\r\n  },\r\n  InOut(k) {\r\n    if (k < 0.5) {\r\n      return Bounce.In(k * 2) * 0.5;\r\n    }\r\n    return Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\r\n  },\r\n};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable max-classes-per-file */\r\nimport AnimationFeatureDependentInterface from './AnimationFeatureDependentInterface';\r\n\r\n/**\r\n * Class factory interface for that keeps track of layers and animations on a host.\r\n * Tracked assets are marked as inactive until layers and animations with matching\r\n * names are detected as present on the host.\r\n *\r\n * @interface\r\n * @extends AnimationFeatureDependentInterface\r\n *\r\n * @property {Object} DEFAULT_LAYER_OPTIONS - Default options to use when executing\r\n * {@link AnimationLayer} methods.\r\n * @property {number} [DEFAULT_LAYER_OPTIONS.blendTime=0.5] - Default time in seconds\r\n * to use when executing {@link AnimationLayer.setBlendWeight}.\r\n * @property {Object} [DEFAULT_LAYER_OPTIONS.animations={}] - Maps animation names\r\n * to default options objects to use for managed animations.\r\n */\r\nclass ManagedAnimationLayerInterface extends AnimationFeatureDependentInterface {\r\n  /**\r\n   * Start tracking keeping track of whether a layer with the given name is present\r\n   * on the host.\r\n   *\r\n   * @param {string} name - Name of the layer to keep track of.\r\n   * @param {Object=} options - Options for the layer.\r\n   * @param {number=} options.blendTime - Default amount of time to use when\r\n   * manipulating layer weights on this layer.\r\n   * @param {Function=} options.easingFn - Default easing function to use when\r\n   * manipulating layer weights on this layer.\r\n   * @param {Object=} options.animations - Animations to keep track of on the layer.\r\n   * Animations are represented as key/value pairs of animation names and their\r\n   * options.\r\n   */\r\n  registerLayer(name, options = {}) {}\r\n\r\n  /**\r\n   * Start tracking keeping track of whether an animation with the given name is\r\n   * present on the host.\r\n   *\r\n   * @param {string} layerName - Name of the layer that will own the animation.\r\n   * @param {string} animationName - Name of the animation to keep track of.\r\n   * @param {Object=} options - Options for the animation.\r\n   */\r\n  registerAnimation(layerName, animationName, options = {}) {}\r\n\r\n  /**\r\n   * Set layer weights on tracked layers.\r\n   *\r\n   * @param {Function=} nameFilter - Predicate function to test each tracked layer\r\n   * with. By default all layers will pass.\r\n   * @param {number} weight - Weight value to set on layers.\r\n   * @param {number=} seconds - Number of seconds it will take to reach the weight\r\n   * on each layer. If undefined, each layers' blendTime option is used.\r\n   * @param {Function=} easingFn - Easing function to use when setting weight\r\n   * on each layer. If undefined, each layers' easingFn option is used.\r\n   */\r\n  setLayerWeights(nameFilter = () => true, weight, seconds, easingFn) {}\r\n\r\n  /**\r\n   * Set all tracked layers' weights to 1.\r\n   *\r\n   * @param {number=} seconds - Number of seconds it will take to reach the weight\r\n   * on each layer. If undefined, each layers' blendTime option is used.\r\n   * @param {Function=} easingFn - Easing function to use when setting weight\r\n   * on each layer. If undefined, each layers' easingFn option is used.\r\n   */\r\n  enable(seconds, easingFn) {}\r\n\r\n  /**\r\n   * Set all tracked layers' weights to 0.\r\n   *\r\n   * @param {number=} seconds - Number of seconds it will take to reach the weight\r\n   * on each layer. If undefined, each layers' blendTime option is used.\r\n   * @param {Function=} easingFn - Easing function to use when setting weight\r\n   * on each layer. If undefined, each layers' easingFn option is used.\r\n   */\r\n  disable(seconds, easingFn) {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link ManagedAnimationLayerInterface}\r\n   * and extends a specified base class.\r\n   *\r\n   * @param {Class} BaseClass - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link ManagedAnimationLayerInterface}.\r\n   */\r\n  static Mixin(BaseClass) {\r\n    const ParentClass = AnimationFeatureDependentInterface.Mixin(BaseClass);\r\n    const ManagedAnimationLayerMixin = class extends ParentClass {\r\n      constructor(...args) {\r\n        super(...args);\r\n\r\n        this._managedLayers = {};\r\n      }\r\n\r\n      _onFeatureAdded(typeName) {\r\n        super._onFeatureAdded(typeName);\r\n\r\n        if (typeName !== 'AnimationFeature') {\r\n          return;\r\n        }\r\n\r\n        this._managedLayers = this._managedLayers || {};\r\n\r\n        // Detect new layers\r\n        this._host.AnimationFeature.layers.forEach(name => {\r\n          this._onLayerAdded({name});\r\n        });\r\n      }\r\n\r\n      _onFeatureRemoved(typeName) {\r\n        super._onFeatureRemoved(typeName);\r\n\r\n        if (typeName !== 'AnimationFeature') {\r\n          return;\r\n        }\r\n\r\n        this._managedLayers = this._managedLayers || {};\r\n\r\n        // Deactivate the layers\r\n        Object.keys(this._managedLayers).forEach(name => {\r\n          this._onLayerRemoved({name});\r\n        });\r\n      }\r\n\r\n      _onLayerAdded({name}) {\r\n        // Mark the layer as active if it is managed\r\n        if (this._managedLayers[name] !== undefined) {\r\n          this._managedLayers[name].isActive = true;\r\n\r\n          // Detect new animations\r\n          this._host.AnimationFeature.getAnimations(name).forEach(animName => {\r\n            this._onAnimationAdded({layerName: name, animationName: animName});\r\n          });\r\n        }\r\n      }\r\n\r\n      _onLayerRemoved({name}) {\r\n        // Deactivate the layer if it is managed\r\n        if (this._managedLayers[name] !== undefined) {\r\n          this._managedLayers[name].isActive = false;\r\n\r\n          // Deactivate the animations\r\n          Object.keys(this._managedLayers[name].animations).forEach(\r\n            animName => {\r\n              this._onAnimationRemoved({\r\n                layerName: name,\r\n                animationName: animName,\r\n              });\r\n            }\r\n          );\r\n        }\r\n      }\r\n\r\n      _onLayerRenamed({oldName, newName}) {\r\n        const layerOptions = this._managedLayers[oldName];\r\n\r\n        // Replace the layer key with the new name\r\n        if (layerOptions !== undefined) {\r\n          delete this._managedLayers[oldName];\r\n          this._managedLayers[newName] = layerOptions;\r\n        }\r\n      }\r\n\r\n      _onAnimationAdded({layerName, animationName}) {\r\n        // Mark the animation as active if it is managed\r\n        if (\r\n          this._managedLayers[layerName] !== undefined &&\r\n          this._managedLayers[layerName].animations[animationName] !== undefined\r\n        ) {\r\n          this._managedLayers[layerName].animations[\r\n            animationName\r\n          ].isActive = true;\r\n        }\r\n      }\r\n\r\n      _onAnimationRemoved({layerName, animationName}) {\r\n        // Deactivate the animation if it is managed\r\n        if (\r\n          this._managedLayers[layerName] !== undefined &&\r\n          this._managedLayers[layerName].animations[animationName] !== undefined\r\n        ) {\r\n          this._managedLayers[layerName].animations[\r\n            animationName\r\n          ].isActive = false;\r\n        }\r\n      }\r\n\r\n      _onAnimationRenamed({layerName, oldName, newName}) {\r\n        if (\r\n          this._managedLayers[layerName] !== undefined &&\r\n          this._managedLayers[layerName].animations[oldName] !== undefined\r\n        ) {\r\n          // Replace the animation key with the new name\r\n          const animOptions = this._managedLayers[layerName].animations[\r\n            oldName\r\n          ];\r\n          delete this._managedLayers[layerName].animations[oldName];\r\n          this._managedLayers[layerName].animations[newName] = animOptions;\r\n        }\r\n      }\r\n\r\n      registerLayer(name, options = {}) {\r\n        // Start with default options for each new layer\r\n        if (this._managedLayers[name] === undefined) {\r\n          this._managedLayers[name] = {\r\n            ...this.constructor.DEFAULT_LAYER_OPTIONS,\r\n            animations: {},\r\n          };\r\n        }\r\n\r\n        // Update all options except animations\r\n        const layerOptions = this._managedLayers[name];\r\n        options = {...options};\r\n        const animationOptions = options.animations || {};\r\n        delete options.animations;\r\n        Object.assign(layerOptions, options);\r\n\r\n        // Check whether the layer can be manipulated now\r\n        layerOptions.isActive =\r\n          this._host.AnimationFeature !== undefined &&\r\n          this._host.AnimationFeature.layers.includes(name);\r\n\r\n        // Register the animations\r\n        Object.entries(animationOptions).forEach(([animName, animOptions]) => {\r\n          this.registerAnimation(name, animName, animOptions);\r\n        });\r\n      }\r\n\r\n      registerAnimation(layerName, animationName, options = {}) {\r\n        // Register the layer if it hasn't been registered yet\r\n        if (this._managedLayers[layerName] === undefined) {\r\n          this.registerLayer(layerName);\r\n        }\r\n\r\n        // Update animation options\r\n        const animOptions =\r\n          this._managedLayers[layerName].animations[animationName] || {};\r\n        Object.assign(animOptions, options);\r\n        this._managedLayers[layerName].animations[animationName] = animOptions;\r\n\r\n        // Check whether the animation can be manipulated now\r\n        this._managedLayers[layerName].animations[animationName].isActive =\r\n          this._managedLayers[layerName].isActive &&\r\n          this._host.AnimationFeature.getAnimations(layerName).includes(\r\n            animationName\r\n          );\r\n      }\r\n\r\n      setLayerWeights(nameFilter = () => true, weight, seconds, easingFn) {\r\n        const layerNames = Object.keys(this._managedLayers).filter(nameFilter);\r\n\r\n        layerNames.forEach(name => {\r\n          const layerOptions = this._managedLayers[name];\r\n\r\n          if (layerOptions.isActive) {\r\n            this._host.AnimationFeature.setLayerWeight(\r\n              name,\r\n              weight,\r\n              seconds !== undefined ? seconds : layerOptions.blendTime,\r\n              easingFn || layerOptions.easingFn\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      enable(seconds, easingFn) {\r\n        this.setLayerWeights(undefined, 1, seconds, easingFn);\r\n      }\r\n\r\n      disable(seconds, easingFn) {\r\n        this.setLayerWeights(undefined, 0, seconds, easingFn);\r\n      }\r\n\r\n      installApi() {\r\n        const api = super.installApi();\r\n\r\n        Object.assign(api, {\r\n          registerLayer: this.registerLayer.bind(this),\r\n          registerAnimation: this.registerAnimation.bind(this),\r\n          setLayerWeights: this.setLayerWeights.bind(this),\r\n          enable: this.enable.bind(this),\r\n          disable: this.disable.bind(this),\r\n        });\r\n\r\n        return api;\r\n      }\r\n    };\r\n\r\n    Object.defineProperties(ManagedAnimationLayerMixin, {\r\n      DEFAULT_LAYER_OPTIONS: {\r\n        value: ManagedAnimationLayerInterface.DEFAULT_LAYER_OPTIONS,\r\n        writable: false,\r\n      },\r\n    });\r\n\r\n    return ManagedAnimationLayerMixin;\r\n  }\r\n}\r\n\r\nObject.defineProperties(ManagedAnimationLayerInterface, {\r\n  DEFAULT_LAYER_OPTIONS: {\r\n    value: {blendTime: 0.5, animations: {}},\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default ManagedAnimationLayerInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * @module core/animpack\r\n */\r\n\r\nimport {\r\n  Linear,\r\n  Quadratic,\r\n  Cubic,\r\n  Quartic,\r\n  Quintic,\r\n  Sinusoidal,\r\n  Exponential,\r\n  Circular,\r\n  Elastic,\r\n  Back,\r\n  Bounce,\r\n} from './Easing';\r\nimport AnimationFeature, {AnimationTypes} from './AnimationFeature';\r\nimport AnimationLayer, {\r\n  LayerBlendModes,\r\n  DefaultLayerBlendMode,\r\n} from './AnimationLayer';\r\nimport SingleState from './state/SingleState';\r\nimport TransitionState from './state/TransitionState';\r\nimport FreeBlendState from './state/FreeBlendState';\r\nimport QueueState from './state/QueueState';\r\nimport RandomAnimationState from './state/RandomAnimationState';\r\nimport Blend1dState from './state/Blend1dState';\r\nimport Blend2dState from './state/Blend2dState';\r\nimport AnimationUtils from './AnimationUtils';\r\n\r\n/**\r\n * @namespace\r\n */\r\nconst Easing = {\r\n  /**\r\n   * @see Linear\r\n   */\r\n  Linear,\r\n  /**\r\n   * @see Quadratic\r\n   */\r\n  Quadratic,\r\n  /**\r\n   * @see Cubic\r\n   */\r\n  Cubic,\r\n  /**\r\n   * @see Quartic\r\n   */\r\n  Quartic,\r\n  /**\r\n   * @see Quintic\r\n   */\r\n  Quintic,\r\n  /**\r\n   * @see Sinusoidal\r\n   */\r\n  Sinusoidal,\r\n  /**\r\n   * @see Exponential\r\n   */\r\n  Exponential,\r\n  /**\r\n   * @see Circular\r\n   */\r\n  Circular,\r\n  /**\r\n   * @see Elastic\r\n   */\r\n  Elastic,\r\n  /**\r\n   * @see Back\r\n   */\r\n  Back,\r\n  /**\r\n   * @see Bounce\r\n   */\r\n  Bounce,\r\n};\r\n\r\nexport default {\r\n  /**\r\n   * @see core/AnimationFeature\r\n   */\r\n  AnimationFeature,\r\n  /**\r\n   * @see AnimationLayer\r\n   */\r\n  AnimationLayer,\r\n  /**\r\n   * @see core/SingleState\r\n   */\r\n  SingleState,\r\n  /**\r\n   * @see TransitionState\r\n   */\r\n  TransitionState,\r\n  /**\r\n   * @see FreeBlendState\r\n   */\r\n  FreeBlendState,\r\n  /**\r\n   * @see QueueState\r\n   */\r\n  QueueState,\r\n  /**\r\n   * @see RandomAnimationState\r\n   */\r\n  RandomAnimationState,\r\n  /**\r\n   * @see Blend1dState\r\n   */\r\n  Blend1dState,\r\n  /**\r\n   * @see Blend2dState\r\n   */\r\n  Blend2dState,\r\n  /**\r\n   * @see AnimationUtils\r\n   */\r\n  AnimationUtils,\r\n\r\n  Easing,\r\n  /**\r\n   * @see LayerBlendModes\r\n   */\r\n  LayerBlendModes,\r\n  /**\r\n   * @see DefaultLayerBlendMode\r\n   */\r\n  DefaultLayerBlendMode,\r\n  /**\r\n   * @see AnimationTypes\r\n   */\r\n  AnimationTypes,\r\n};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../../Deferred';\r\nimport MathUtils from '../../MathUtils';\r\nimport AbstractState from './AbstractState';\r\nimport StateContainerInterface from './StateContainerInterface';\r\n\r\n/**\r\n * Base class for a state that blends a collection of {@link AbstractState}.\r\n *\r\n * @abstract\r\n * @implements StateContainerInterface\r\n */\r\nclass AbstractBlendState extends StateContainerInterface.Mixin(AbstractState) {\r\n  constructor(options = {}, blendStates = [], ...args) {\r\n    super(options, ...args);\r\n    blendStates.forEach(state => {\r\n      this.addState(state);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Gets the sum of internal weights of the sub-states.\r\n   *\r\n   * @readonly\r\n   * @type {number}\r\n   */\r\n  get internalWeight() {\r\n    let blendWeights = 0;\r\n    this._states.forEach(state => {\r\n      blendWeights += state.internalWeight;\r\n    });\r\n    return blendWeights;\r\n  }\r\n\r\n  /**\r\n   * Returns the weight of a state controlled by the container.\r\n   *\r\n   * @param {string} name - Name of the state to return the weight from.\r\n   *\r\n   * @returns {number} - Weight of the state.\r\n   */\r\n  getBlendWeight(name) {\r\n    // Make sure the name is valid\r\n    const state = this.getState(name);\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Cannot get weight of state ${name} from BlendState ${this.name}. No state exists with this name.`\r\n      );\r\n    }\r\n\r\n    return state.weight;\r\n  }\r\n\r\n  /**\r\n   * Sets the weight of a state controlled by the container.\r\n   *\r\n   * @param {string} name - Name of the state to set the weight of.\r\n   * @param {number} weight - Weight value to set on the state.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setBlendWeight(name, weight, seconds = 0, easingFn) {\r\n    // Make sure the name is valid\r\n    const state = this.getState(name);\r\n\r\n    if (state === undefined) {\r\n      throw new Error(\r\n        `Cannot set weight of state ${name} from BlendState ${this.name}. No state exists with this name.`\r\n      );\r\n    }\r\n\r\n    weight = MathUtils.clamp(weight);\r\n    return state.setWeight(weight, seconds, easingFn);\r\n  }\r\n\r\n  /**\r\n   * Multiplies the weight of each sub-state by a factor to determine the internal weight.\r\n   *\r\n   * @param {number} factor - 0-1 multiplier to apply to the user weight.\r\n   */\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    this._states.forEach(state => {\r\n      state.updateInternalWeight(this._internalWeight);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Update any values of the sub-states that need to be evaluated every frame.\r\n   *\r\n   * @param {number} deltaTime - Time in milliseconds since the last update.\r\n   */\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    this._states.forEach(state => {\r\n      state.update(deltaTime);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Start playback of the sub-states from the beginning.\r\n   *\r\n   * @param {Function=} onFinish - Function to execute when the state finishes.\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  play(onFinish, onError, onCancel) {\r\n    const promises = [super.play()];\r\n\r\n    this._states.forEach(state => {\r\n      promises.push(state.play());\r\n    });\r\n    return Deferred.all(promises, onFinish, onError, onCancel);\r\n  }\r\n\r\n  /**\r\n   * Pause playback of the sub-states. This prevents pending promises from being executed.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pause() {\r\n    this._states.forEach(state => {\r\n      state.pause();\r\n    });\r\n    return super.pause();\r\n  }\r\n\r\n  /**\r\n   * Resume playback of the sub-states.\r\n   *\r\n   * @param {Function=} onFinish - Function to execute when the state finishes.\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  resume(onFinish, onError, onCancel) {\r\n    const promises = [super.resume()];\r\n\r\n    this._states.forEach(state => {\r\n      promises.push(state.resume());\r\n    });\r\n    return Deferred.all(promises, onFinish, onError, onCancel);\r\n  }\r\n\r\n  /**\r\n   * Cancel playback of the sub-states and cancel any pending promises.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  cancel() {\r\n    this._states.forEach(state => {\r\n      state.cancel();\r\n    });\r\n    return super.cancel();\r\n  }\r\n\r\n  /**\r\n   * Stop playback of the sub-states and resolve any pending promises.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  stop() {\r\n    this._states.forEach(state => {\r\n      state.stop();\r\n    });\r\n    return super.stop();\r\n  }\r\n\r\n  /**\r\n   * Discards all sub-state resources.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  discard() {\r\n    super.discard();\r\n\r\n    this.discardStates();\r\n  }\r\n}\r\n\r\nexport default AbstractBlendState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../../Deferred';\r\nimport MathUtils from '../../MathUtils';\r\nimport AnimationUtils from '../AnimationUtils';\r\n\r\n/**\r\n * Base class for a state in our animation system.\r\n *\r\n * @abstract\r\n */\r\nclass AbstractState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options - Options for the animation state.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the container the state is applied to and should be validated at\r\n   * the container level. If no name is given it will default to the constructor\r\n   * name.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   */\r\n  constructor(options = {}) {\r\n    this.name =\r\n      options.name !== undefined ? options.name : this.constructor.name;\r\n    this._weight =\r\n      options.weight !== undefined ? MathUtils.clamp(options.weight, 0, 1) : 0;\r\n    this._internalWeight = this._weight;\r\n    this._paused = false;\r\n\r\n    this._promises = {\r\n      finish: Deferred.resolve(),\r\n      weight: Deferred.resolve(),\r\n      play: Deferred.resolve(),\r\n    };\r\n\r\n    this._playCallbacks = {\r\n      onFinish: undefined,\r\n      onError: undefined,\r\n      onCancel: undefined,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the state is currently paused.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get paused() {\r\n    return this._paused;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the user defined weight.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get weight() {\r\n    return this._weight;\r\n  }\r\n\r\n  set weight(weight) {\r\n    this._weight = MathUtils.clamp(weight, 0, 1);\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the weight is currently being animated.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get weightPending() {\r\n    return this._promises.weight && this._promises.weight.pending;\r\n  }\r\n\r\n  /**\r\n   * Updates the user defined weight over time.\r\n   *\r\n   * @param {number} weight - The target weight value.\r\n   * @param {number} [seconds=0] - The amount of time it will take to reach the\r\n   * target weight.\r\n   * @param {Function=} easingFn - The easing function to use for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setWeight(weight, seconds = 0, easingFn) {\r\n    this._promises.weight.cancel();\r\n    weight = MathUtils.clamp(weight);\r\n\r\n    this._promises.weight = AnimationUtils.interpolateProperty(\r\n      this,\r\n      'weight',\r\n      weight,\r\n      {seconds, easingFn}\r\n    );\r\n\r\n    return this._promises.weight;\r\n  }\r\n\r\n  /**\r\n   * Gets the internal weight.\r\n   *\r\n   * @readonly\r\n   * @type {number}\r\n   */\r\n  get internalWeight() {\r\n    return this._internalWeight;\r\n  }\r\n\r\n  /**\r\n   * Multiplies the user weight by a factor to determine the internal weight.\r\n   *\r\n   * @param {number} factor - 0-1 multiplier to apply to the user weight.\r\n   */\r\n  updateInternalWeight(factor) {\r\n    this._internalWeight = this._weight * factor;\r\n  }\r\n\r\n  /**\r\n   * Update any values that need to be evaluated every frame.\r\n   *\r\n   * @param {number} deltaTime - Time in milliseconds since the last update.\r\n   */\r\n  update(deltaTime) {\r\n    if (!this._paused) {\r\n      Object.values(this._promises).forEach(promise => {\r\n        promise.execute(deltaTime);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start playback of the state from the beginning.\r\n   *\r\n   * @param {Function=} onFinish - Function to execute when the state finishes.\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  play(onFinish, onError, onCancel) {\r\n    this._paused = false;\r\n    this._playCallbacks.onFinish = onFinish;\r\n    this._playCallbacks.onError = onError;\r\n    this._playCallbacks.onCancel = onCancel;\r\n\r\n    this._promises.play = new Deferred(undefined, onFinish, onError, onCancel);\r\n    this._promises.finish = Deferred.all([\r\n      this._promises.play,\r\n      this._promises.weight,\r\n    ]);\r\n\r\n    return this._promises.finish;\r\n  }\r\n\r\n  /**\r\n   * Pause playback of the state. This prevents pending promises from being executed.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pause() {\r\n    this._paused = true;\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Resume playback of the state.\r\n   *\r\n   * @param {Function=} onFinish - Function to execute when the state finishes.\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   * @param {Function=} onCancel - Function to execute if playback is canceled.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  resume(onFinish, onError, onCancel) {\r\n    this._paused = false;\r\n\r\n    if (!this._promises.play.pending) {\r\n      this._playCallbacks.onFinish = onFinish || this._playCallbacks.onFinish;\r\n      this._playCallbacks.onError = onError || this._playCallbacks.onError;\r\n      this._playCallbacks.onCancel = onCancel || this._playCallbacks.onCancel;\r\n\r\n      this._promises.play = new Deferred(\r\n        undefined,\r\n        this._playCallbacks.onFinish,\r\n        this._playCallbacks.onError,\r\n        this._playCallbacks.onCancel\r\n      );\r\n      this._promises.finish = Deferred.all([\r\n        this._promises.play,\r\n        this._promises.weight,\r\n      ]);\r\n    }\r\n\r\n    return this._promises.finish;\r\n  }\r\n\r\n  /**\r\n   * Cancel playback of the state and cancel any pending promises.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  cancel() {\r\n    this._paused = true;\r\n\r\n    Object.values(this._promises).forEach(promise => {\r\n      promise.cancel();\r\n    });\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Stop playback of the state and resolve any pending promises.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  stop() {\r\n    this._paused = true;\r\n\r\n    Object.values(this._promises).forEach(promise => {\r\n      promise.resolve();\r\n    });\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Cancel any pending promises and remove reference to them.\r\n   */\r\n  discard() {\r\n    this.cancel();\r\n\r\n    delete this._promises;\r\n  }\r\n\r\n  /**\r\n   * Force the internal weight to 0. Should be called before switching or transitioning\r\n   * to a new state.\r\n   */\r\n  deactivate() {\r\n    this.updateInternalWeight(0);\r\n  }\r\n}\r\n\r\nexport default AbstractState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../../Deferred';\r\nimport AbstractBlendState from './AbstractBlendState';\r\nimport AnimationUtils from '../AnimationUtils';\r\n\r\n/**\r\n * Class for blending N number of blend states based on a single\r\n * parameter.\r\n *\r\n * @extends AbstractBlendState\r\n */\r\nclass Blend1dState extends AbstractBlendState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object} [options] - Options for the container state\r\n   * @param {Array.<AbstractBlendState>} [blendStates=[]] - Blend states to be\r\n   * controlled by this container.\r\n   * @param {Array.<number>} [blendThresholds=[]] - Threshold values for activating\r\n   * each blend state.\r\n   * @param {Array.<boolean>} [phaseMatches=[]] - Booleans indicating whether or not\r\n   * each blend state should be phase matched.\r\n   */\r\n  constructor(\r\n    options = {},\r\n    blendStates = [],\r\n    blendThresholds = [],\r\n    phaseMatches = []\r\n  ) {\r\n    super(options, blendStates);\r\n\r\n    this._blendValue = 0;\r\n    this._promises = {\r\n      ...this._promises,\r\n      blendValue: Deferred.resolve(),\r\n    };\r\n\r\n    // Validate there are no duplicate thresholds\r\n    const nonZeroDifferentSize =\r\n      blendStates.length !== 0 && blendStates.length !== blendThresholds.length;\r\n    if (nonZeroDifferentSize) {\r\n      throw new Error(\r\n        `Cannot create Blend1dState with blendThresholds ${blendThresholds}. BlendThresholds count does not match blendStates count.`\r\n      );\r\n    }\r\n\r\n    const containsDuplicates =\r\n      new Set(blendThresholds).size !== blendThresholds.length;\r\n    if (containsDuplicates) {\r\n      throw new Error(\r\n        `Cannot create Blend1dState with blendThresholds ${blendThresholds}. BlendThresholds contains duplicate values`\r\n      );\r\n    }\r\n\r\n    // Initialize the thresholds map\r\n    this._thresholds = [];\r\n    [...this._states.values()].forEach((state, index) => {\r\n      this._thresholds.push({\r\n        value: blendThresholds[index],\r\n        name: state.name,\r\n        phaseMatch: phaseMatches[index] || false,\r\n      });\r\n    });\r\n\r\n    this._sortThresholds();\r\n    this._forceNoThresholdDupes = true;\r\n\r\n    this._phaseLeadState = null;\r\n\r\n    this._updateBlendWeights();\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the blend parameter value.\r\n   */\r\n  get blendValue() {\r\n    return this._blendValue;\r\n  }\r\n\r\n  set blendValue(value) {\r\n    this._blendValue = value;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the blend value is currently being animated.\r\n   */\r\n  get blendValuePending() {\r\n    return this._promises.blendValue && this._promises.blendValue.pending;\r\n  }\r\n\r\n  /**\r\n   * Updates the user defined weight over time.\r\n   *\r\n   * @param {null} name - Unused parameter.\r\n   * @param {number} weight - The target weight value.\r\n   * @param {number} [seconds=0] - The amount of time it will take to reach the\r\n   * target weight.\r\n   * @param {Function=} easingFn - The easing function to use for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setBlendWeight(name, value, seconds = 0, easingFn) {\r\n    this._promises.blendValue.cancel();\r\n\r\n    this._promises.blendValue = AnimationUtils.interpolateProperty(\r\n      this,\r\n      'blendValue',\r\n      value,\r\n      {\r\n        seconds,\r\n        easingFn,\r\n        onProgress: () => {\r\n          this._updateBlendWeights();\r\n        },\r\n        onFinish: () => {\r\n          this._updateBlendWeights();\r\n        },\r\n      }\r\n    );\r\n\r\n    return this._promises.blendValue;\r\n  }\r\n\r\n  /**\r\n   * Gets the user defined weight.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  getBlendWeight() {\r\n    return this.blendValue;\r\n  }\r\n\r\n  addState(state, thresholdValue = 0, phaseMatch = false) {\r\n    this._thresholds = this._thresholds || [];\r\n\r\n    // Make sure there is not already a state with this threshold\r\n    const sameValue = this._thresholds.find(\r\n      threshold => threshold.value === thresholdValue\r\n    );\r\n    if (this._forceNoThresholdDupes && sameValue !== undefined) {\r\n      throw new Error(\r\n        `Cannot set blend threshold of ${thresholdValue} for state ${state.name} on ${this.name}. A state already exists with that threshold.`\r\n      );\r\n    }\r\n\r\n    super.addState(state);\r\n    this._thresholds.push({\r\n      value: thresholdValue,\r\n      name: state.name,\r\n      phaseMatch: phaseMatch || false,\r\n    });\r\n\r\n    this._sortThresholds();\r\n\r\n    return state.name;\r\n  }\r\n\r\n  removeState(name) {\r\n    const removed = super.removeState(name);\r\n\r\n    if (removed) {\r\n      const index = this._thresholds.findIndex(\r\n        threshold => threshold.name === name\r\n      );\r\n      this._thresholds.splice(index, 1);\r\n    }\r\n\r\n    return removed;\r\n  }\r\n\r\n  renameState(currentName, newName) {\r\n    newName = super.renameState(currentName, newName);\r\n\r\n    const threshold = this._thresholds.find(\r\n      threshold => threshold.name === currentName\r\n    );\r\n    threshold.name = newName;\r\n\r\n    return newName;\r\n  }\r\n\r\n  /**\r\n   * Gets the threshold value of a blend with the corresponding name.\r\n   *\r\n   * @param {string} name - Name of the blend to get the threshold of.\r\n   *\r\n   * @returns {number} Threhold value.\r\n   */\r\n  getBlendThreshold(name) {\r\n    const threshold = this._thresholds.find(\r\n      threshold => threshold.name === name\r\n    );\r\n\r\n    if (threshold === undefined) {\r\n      throw new Error(\r\n        `Cannot get blend threshold of state ${name} on ${this.name}. No state exists with that name.`\r\n      );\r\n    }\r\n\r\n    return threshold.value;\r\n  }\r\n\r\n  /**\r\n   * Sets the threshold value of a blend with the corresponding name.\r\n   *\r\n   * @param {string} name - Name of the blend to set the threshold.\r\n   * @param {number} value - Value of the threshold to set.\r\n   *\r\n   * @returns {number} Set threshold value.\r\n   */\r\n  setBlendThreshold(name, value) {\r\n    // Make sure there is not already a state with this threshold\r\n    const sameValue = this._thresholds.find(\r\n      threshold => threshold.value === value\r\n    );\r\n    if (sameValue !== undefined) {\r\n      throw new Error(\r\n        `Cannot set blend threshold of ${value} for state ${name} on ${this.name}. A state already exists with that threshold.`\r\n      );\r\n    }\r\n\r\n    const threshold = this._thresholds.find(\r\n      threshold => threshold.name === name\r\n    );\r\n\r\n    if (threshold === undefined) {\r\n      throw new Error(\r\n        `Cannot set blend threshold of state ${name} on ${this.name}. No state exists with that name.`\r\n      );\r\n    }\r\n\r\n    threshold.value = value;\r\n\r\n    this._sortThresholds();\r\n\r\n    return threshold.value;\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    if (this._phaseLeadState) {\r\n      this._states.forEach(state => {\r\n        if (state.weight !== 0) {\r\n          state.normalizedTime = this._phaseLeadState.normalizedTime;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the blend weights based on their corresponding threshold values\r\n   * and the current blendValue. Additionally, sets a lead phase state if the\r\n   * conditions for phase-matching have been satisfied.\r\n   *\r\n   * @private\r\n   */\r\n  _updateBlendWeights() {\r\n    if (this._thresholds.length === 0) return;\r\n\r\n    if (this._thresholds.length === 1) {\r\n      const state = this._states.get(this._thresholds[0].name);\r\n      state.setWeight(1);\r\n      return;\r\n    }\r\n\r\n    // Initially set all sub-state weights to zero\r\n    this._states.forEach(state => {\r\n      state.setWeight(0);\r\n    });\r\n\r\n    this._phaseLeadState = null;\r\n\r\n    // Find the first threshold that is greater than or equal to the parameter value\r\n    let targetIndex = this._thresholds.findIndex(threshold => {\r\n      return threshold.value >= this._blendValue;\r\n    });\r\n\r\n    if (targetIndex === 0 || targetIndex === -1) {\r\n      // Give one state full influence\r\n      targetIndex = targetIndex === -1 ? this._thresholds.length - 1 : 0;\r\n      const state = this._states.get(this._thresholds[targetIndex].name);\r\n      state.setWeight(1);\r\n    } else {\r\n      // Linear interpolate influence between two states\r\n      const thresholdA = this._thresholds[targetIndex - 1];\r\n      const thresholdB = this._thresholds[targetIndex];\r\n\r\n      const factorB =\r\n        (this.blendValue - thresholdA.value) /\r\n        (thresholdB.value - thresholdA.value);\r\n      const factorA = 1 - factorB;\r\n\r\n      const stateA = this._states.get(thresholdA.name);\r\n      const stateB = this._states.get(thresholdB.name);\r\n\r\n      stateA.setWeight(factorA);\r\n      stateB.setWeight(factorB);\r\n\r\n      // Set phase-matching if needed\r\n      if (thresholdA.phaseMatch && thresholdB.phaseMatch) {\r\n        this._phaseLeadState = factorA > factorB ? stateA : stateB;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sorts the thresholds from low to high based on value.\r\n   *\r\n   * @private\r\n   */\r\n  _sortThresholds() {\r\n    this._thresholds.sort((a, b) => a.value - b.value);\r\n  }\r\n}\r\n\r\nexport default Blend1dState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable no-underscore-dangle */\r\nimport Deferred from '../../Deferred';\r\nimport MathUtils from '../../MathUtils';\r\nimport AbstractBlendState from './AbstractBlendState';\r\nimport AnimationUtils from '../AnimationUtils';\r\n\r\n/**\r\n * Class for blending N number of blend states based on two\r\n * paramters.\r\n *\r\n * @extends AbstractBlendState\r\n */\r\nclass Blend2dState extends AbstractBlendState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object} [options] - Options for the container state\r\n   * @param {Array.<AbstractBlendState>} [blendStates=[]] - Blend states to be\r\n   * controlled by this container.\r\n   * @param {Array.<Array.<number>>} [blendThresholds=[]] - Threshold values for activating\r\n   * each blend state.\r\n   * @param {Array.<boolean>} [phaseMatches=[]] - Booleans indicating whether or not\r\n   * each blend state should be phase matched.\r\n   */\r\n  constructor(\r\n    options = {},\r\n    blendStates = [],\r\n    blendThresholds = [],\r\n    phaseMatches = []\r\n  ) {\r\n    super(options, blendStates);\r\n\r\n    if (blendStates.length !== blendThresholds.length) {\r\n      throw new Error(\r\n        `Cannot create Blend2dState with blendStates ${blendStates} and blendThresholds ${blendThresholds}. Count of blendStates must match count of blendThresholds.`\r\n      );\r\n    }\r\n\r\n    blendThresholds\r\n      .slice(0, blendThresholds.length - 1)\r\n      .forEach((threshold, index) => {\r\n        blendThresholds.slice(index + 1).forEach(otherThreshold => {\r\n          if (\r\n            threshold[0] === otherThreshold[0] &&\r\n            threshold[1] === otherThreshold[1]\r\n          ) {\r\n            throw new Error(\r\n              `Cannot create Blend2dState with blendThresholds ${blendThresholds}. No duplicate values allowed in blendThresholds.`\r\n            );\r\n          }\r\n        });\r\n      });\r\n\r\n    this._blendValueX = 0;\r\n    this._blendValueY = 0;\r\n\r\n    this._promises = {\r\n      ...this._promises,\r\n      blendValueX: Deferred.resolve(),\r\n      blendValueY: Deferred.resolve(),\r\n    };\r\n\r\n    this._thresholds = [];\r\n    [...this._states.values()].forEach((state, index) => {\r\n      this._thresholds.push({\r\n        name: state.name,\r\n        phaseMatch: phaseMatches[index] || false,\r\n      });\r\n    });\r\n\r\n    this._vertices = blendThresholds;\r\n\r\n    if (this._vertices.length >= 3) {\r\n      this._triangles = MathUtils.getDelaunayTriangulation(this._vertices);\r\n    }\r\n\r\n    this._phaseLeadState = null;\r\n\r\n    this._updateBlendWeights();\r\n  }\r\n\r\n  /**\r\n   * Updates the user defined weight over time.\r\n   *\r\n   * @param {string} name - Name of blend weight to update.\r\n   * @param {number} weight - Target weight value.\r\n   * @param {number} [seconds=0] - The amount of time it will take to reach the\r\n   * target value.\r\n   * @param {Function=} easingFn - The easing function to use for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setBlendWeight(name, value, seconds = 0, easingFn) {\r\n    const property = `blendValue${name.toUpperCase()}`;\r\n    if (property !== 'blendValueX' && property !== 'blendValueY') {\r\n      throw new Error(\r\n        `Cannot set blend weight for ${name} on ${this.name}. Blend2dState only accepts 'X' or 'Y' for setBlendWeight`\r\n      );\r\n    }\r\n\r\n    this._promises[property].cancel();\r\n\r\n    this._promises[property] = AnimationUtils.interpolateProperty(\r\n      this,\r\n      property,\r\n      value,\r\n      {\r\n        seconds,\r\n        easingFn,\r\n        onProgress: () => {\r\n          this._updateBlendWeights();\r\n        },\r\n        onFinish: () => {\r\n          this._updateBlendWeights();\r\n        },\r\n      }\r\n    );\r\n\r\n    return this._promises[property];\r\n  }\r\n\r\n  /**\r\n   * Gets the user defined weight.\r\n   *\r\n   * @param {string} name - Name of blend weight.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  getBlendWeight(name) {\r\n    const property = name.toUpperCase();\r\n    if (property !== 'X' && property !== 'Y') {\r\n      throw new Error(\r\n        `Cannot get blend weight for ${name} on ${this.name}. Blend2dState only accepts 'X' or 'Y' for getBlendWeight`\r\n      );\r\n    }\r\n\r\n    return property === 'X' ? this._blendValueX : this._blendValueY;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the x blend weight.\r\n   */\r\n  get blendValueX() {\r\n    return this._blendValueX;\r\n  }\r\n\r\n  set blendValueX(value) {\r\n    this._blendValueX = value;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the y blend weight.\r\n   */\r\n  get blendValueY() {\r\n    return this._blendValueY;\r\n  }\r\n\r\n  set blendValueY(value) {\r\n    this._blendValueY = value;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the x blend value is currently being animated.\r\n   */\r\n  get blendValueXPending() {\r\n    return this._promises.blendValueX && this._promises.blendValueX.pending;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the y blend value is currently being animated.\r\n   */\r\n  get blendValueYPending() {\r\n    return this._promises.blendValueY && this._promises.blendValueY.pending;\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    if (this._phaseLeadState) {\r\n      [...this._states.values()].forEach((state, index) => {\r\n        if (state.weight !== 0 && this._thresholds[index].phaseMatch) {\r\n          state.normalizedTime = this._phaseLeadState.normalizedTime;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the blend weights based on their corresponding threshold values\r\n   * and the current [x,y] blendValue. Additionally, sets a lead phase state if the\r\n   * conditions for phase-matching have been satisfied.\r\n   *\r\n   * @private\r\n   */\r\n  _updateBlendWeights() {\r\n    if (!this._vertices || this._vertices.length === 0) return;\r\n\r\n    if (this._vertices.length === 1) {\r\n      [...this._states.values()][0].weight = 1;\r\n      return;\r\n    }\r\n\r\n    // Initially set all sub-state weights to zero\r\n    this._states.forEach(state => {\r\n      state.setWeight(0);\r\n    });\r\n    this._phaseLeadState = null;\r\n\r\n    const p = [this._blendValueX, this._blendValueY];\r\n\r\n    if (this._vertices.length === 2) {\r\n      this._setInfluenceClosestPointOnLine(p);\r\n    } else {\r\n      const triangle = this._triangles.find(triangle => {\r\n        return MathUtils.isPointInTriangle(\r\n          this._vertices[triangle[0]],\r\n          this._vertices[triangle[1]],\r\n          this._vertices[triangle[2]],\r\n          p\r\n        );\r\n      });\r\n\r\n      if (triangle) {\r\n        this._setInfluenceTriangle(triangle, p);\r\n      } else {\r\n        this._setInfluenceClosestPointInTriangles(p);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets blend weights for states corresponding to a\r\n   * triangle of thresholds and a given [x,y] blendValues.\r\n   *\r\n   * @param {Array.<Array.<number>>} triangle - Set of triangluated indices\r\n   * that correspond to blend thresholds.\r\n   * @param {Array.<number>} p - Given [x,y] blendValue.\r\n   *\r\n   * @private\r\n   */\r\n  _setInfluenceTriangle(triangle, p) {\r\n    const areaA = MathUtils.triangleArea(\r\n      this._vertices[triangle[1]],\r\n      this._vertices[triangle[2]],\r\n      p\r\n    );\r\n\r\n    const areaB = MathUtils.triangleArea(\r\n      this._vertices[triangle[0]],\r\n      this._vertices[triangle[2]],\r\n      p\r\n    );\r\n\r\n    const areaC = MathUtils.triangleArea(\r\n      this._vertices[triangle[0]],\r\n      this._vertices[triangle[1]],\r\n      p\r\n    );\r\n\r\n    const totalArea = areaA + areaB + areaC;\r\n\r\n    const weightA = areaA / totalArea;\r\n    const weightB = areaB / totalArea;\r\n    const weightC = areaC / totalArea;\r\n\r\n    const thresholdA = this._thresholds[triangle[0]];\r\n    const thresholdB = this._thresholds[triangle[1]];\r\n    const thresholdC = this._thresholds[triangle[2]];\r\n\r\n    const stateA = this._states.get(thresholdA.name);\r\n    const stateB = this._states.get(thresholdB.name);\r\n    const stateC = this._states.get(thresholdC.name);\r\n\r\n    stateA.setWeight(weightA);\r\n    stateB.setWeight(weightB);\r\n    stateC.setWeight(weightC);\r\n\r\n    this._setPhaseLeadState(\r\n      [stateA, stateB, stateC],\r\n      [thresholdA.phaseMatch, thresholdB.phaseMatch, thresholdC.phaseMatch]\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Determines the closest point within a triangle of\r\n   * thresholds based on the current [x,y] blendValues and\r\n   * then sets blend weights for the corresponding states.\r\n   *\r\n   * @param {Array.<number>} p - Given [x,y] blendValue.\r\n   *\r\n   * @private\r\n   */\r\n  _setInfluenceClosestPointInTriangles(p) {\r\n    let globalClosestPoint = null;\r\n    let globalMinDist = Number.POSITIVE_INFINITY;\r\n    let closestTriangle = -1;\r\n\r\n    this._triangles.forEach((triangle, index) => {\r\n      const pointA = MathUtils.closestPointOnLine(\r\n        this._vertices[triangle[0]],\r\n        this._vertices[triangle[1]],\r\n        p\r\n      );\r\n      const pointB = MathUtils.closestPointOnLine(\r\n        this._vertices[triangle[1]],\r\n        this._vertices[triangle[2]],\r\n        p\r\n      );\r\n      const pointC = MathUtils.closestPointOnLine(\r\n        this._vertices[triangle[2]],\r\n        this._vertices[triangle[0]],\r\n        p\r\n      );\r\n\r\n      const distA = MathUtils.distanceSquared(pointA, p);\r\n      const distB = MathUtils.distanceSquared(pointB, p);\r\n      const distC = MathUtils.distanceSquared(pointC, p);\r\n\r\n      let localClosestPoint = pointC;\r\n      let localMinDist = distC;\r\n\r\n      if (distA < localMinDist) {\r\n        localClosestPoint = pointA;\r\n        localMinDist = distA;\r\n      }\r\n      if (distB < localMinDist) {\r\n        localClosestPoint = pointB;\r\n        localMinDist = distB;\r\n      }\r\n\r\n      if (localMinDist < globalMinDist) {\r\n        globalMinDist = localMinDist;\r\n        globalClosestPoint = [...localClosestPoint];\r\n        closestTriangle = index;\r\n      }\r\n    });\r\n\r\n    this._setInfluenceTriangle(\r\n      this._triangles[closestTriangle],\r\n      globalClosestPoint\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Determines the closest point on the line formed between the\r\n   * two blend thresholds based on the current [x,y] blendValues and\r\n   * then sets blend weights for the corresponding states.\r\n   *\r\n   * @param {Array.<number>} p - Given [x,y] blendValue.\r\n   *\r\n   * @private\r\n   */\r\n  _setInfluenceClosestPointOnLine(p) {\r\n    const closestPoint = MathUtils.closestPointOnLine(\r\n      this._vertices[[0]],\r\n      this._vertices[[1]],\r\n      p\r\n    );\r\n\r\n    const distA = MathUtils.distanceSquared(this._vertices[0], closestPoint);\r\n    const distB = MathUtils.distanceSquared(this._vertices[1], closestPoint);\r\n\r\n    const weightA = distB / (distA + distB);\r\n    const weightB = distA / (distA + distB);\r\n\r\n    const thresholdA = this._thresholds[0];\r\n    const thresholdB = this._thresholds[1];\r\n\r\n    const stateA = this._states.get(thresholdA.name);\r\n    const stateB = this._states.get(thresholdB.name);\r\n\r\n    stateA.setWeight(weightA);\r\n    stateB.setWeight(weightB);\r\n\r\n    this._setPhaseLeadState(\r\n      [stateA, stateB],\r\n      [thresholdA.phaseMatch, thresholdB.phaseMatch]\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Sets a lead phase state if the conditions\r\n   * for phase-matching are satisfied.\r\n   *\r\n   * @param {Array.<AbstractBlendState>} states - States to\r\n   * check phase-matching criteria.\r\n   * @param {Array.<boolean>} phaseMatched - List of phase-match booleans.\r\n   *\r\n   * @private\r\n   */\r\n  _setPhaseLeadState(states, phaseMatched) {\r\n    let max = 0;\r\n    states.forEach((state, index) => {\r\n      if (phaseMatched[index] && state.weight > max) {\r\n        this._phaseLeadState = state;\r\n        max = state.weight;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default Blend2dState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractBlendState from './AbstractBlendState';\r\n\r\n/**\r\n * Class for blending N number of blend states.\r\n *\r\n * @extends AbstractBlendState\r\n */\r\nclass FreeBlendState extends AbstractBlendState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object} [options={}] - Options for the container state.\r\n   * @param {Array.<AbstractState>} [blendStates=[]] - Blend states to be controlled by\r\n   * this container.\r\n   */\r\n  constructor(options = {}, blendStates = []) {\r\n    super(options, blendStates);\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    // Determine the total active weight of blend states\r\n    let sumWeights = 0;\r\n\r\n    this._states.forEach(state => {\r\n      sumWeights += state.weight;\r\n    });\r\n\r\n    // Ensure the sum of blend state internal weights does not exceed container internal weight\r\n    factor /= Math.max(sumWeights, 1);\r\n\r\n    // Sum of blend state internal weights should not exceed container internal weight\r\n    this._states.forEach(state => {\r\n      state.updateInternalWeight(factor * this._weight);\r\n    });\r\n  }\r\n}\r\n\r\nexport default FreeBlendState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractState from './AbstractState';\r\nimport AnimationPlayerInterface from '../AnimationPlayerInterface';\r\nimport StateContainerInterface from './StateContainerInterface';\r\n\r\n/**\r\n * Class for playing an ordered array of animation states in sequence.\r\n *\r\n * @extends AbstractState\r\n * @implements @AnimationPlayerInterface\r\n */\r\nclass QueueState extends AnimationPlayerInterface.Mixin(\r\n  StateContainerInterface.Mixin(AbstractState)\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object} [options={}] - Options for the state.\r\n   * @param {boolean} [options.autoAdvance=true] - Whether to autmatically advance\r\n   * to the next state in the queue as each state completes.\r\n   * @param {Array.<AbstractState>} [queueStates=[]] - Array of states to be played\r\n   * in order.\r\n   */\r\n  constructor(options = {}, queueStates = []) {\r\n    super(options);\r\n\r\n    queueStates.forEach(state => {\r\n      this.addState(state);\r\n    });\r\n\r\n    this._queue = this._states.keys();\r\n    this._done = true;\r\n  }\r\n\r\n  /**\r\n   * Gets whether the animation queue has reached the end.\r\n   */\r\n  get done() {\r\n    return this._done;\r\n  }\r\n\r\n  /**\r\n   * Gets the internal weight.\r\n   *\r\n   * @readonly\r\n   * @type {number}\r\n   */\r\n  get internalWeight() {\r\n    return this._currentState\r\n      ? this._currentState.internalWeight * this._internalWeight\r\n      : 0;\r\n  }\r\n\r\n  /**\r\n   * Restart the queue iterator.\r\n   *\r\n   * @private\r\n   */\r\n  _reset() {\r\n    this._queue = this._states.keys();\r\n    const {value, done} = this._queue.next();\r\n    this._done = done;\r\n\r\n    return value || null;\r\n  }\r\n\r\n  /**\r\n   * Multiplies the user weight by a factor to determine the internal weight.\r\n   *\r\n   * @param {number} factor - 0-1 multiplier to apply to the user weight.\r\n   */\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    if (this._currentState) {\r\n      this._currentState.updateInternalWeight(this._internalWeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start the next animation in the queue.\r\n   *\r\n   * @param {Function=} onNext - Function to execute each time an animation completes\r\n   * and the queue moves to the next animation.\r\n   * @param {boolean} [wrap=false] - Whether or not to start the queue from the\r\n   * beginning again if the end has been reached.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  next(onNext, wrap = false) {\r\n    // Move the queue forward\r\n    const {value: name, done} = this._queue.next();\r\n    this._done = done;\r\n    this._paused = false;\r\n\r\n    // The queue has reached the end\r\n    if (done) {\r\n      // Start the queue over\r\n      if (wrap) {\r\n        return this.play(\r\n          this._playCallbacks.onFinish,\r\n          this._playCallbacks.onError,\r\n          this._playCallbacks.onCancel,\r\n          onNext\r\n        );\r\n      }\r\n      // Stop the queue\r\n      else {\r\n        this._promises.finish.resolve();\r\n        return this._promises.finish;\r\n      }\r\n    }\r\n\r\n    // Signal the next animation is starting\r\n    if (typeof onNext === 'function') {\r\n      const lastName = [...this._states.keys()][this._states.size - 1];\r\n      const isQueueEnd = name === lastName;\r\n      onNext({\r\n        name,\r\n        canAdvance: this.getState(name).loopCount !== Infinity && !isQueueEnd,\r\n        isQueueEnd,\r\n      });\r\n    }\r\n\r\n    // Start the next animation\r\n    this.playAnimation(\r\n      name,\r\n      this._transitionTime,\r\n      this._easingFn,\r\n      () => {\r\n        if (!this._paused && !this.isTransitioning) {\r\n          this.next(onNext);\r\n        }\r\n      },\r\n      this._playCallbacks.onError\r\n    );\r\n\r\n    return this._promises.finish;\r\n  }\r\n\r\n  play(onFinish, onError, onCancel, onNext) {\r\n    const name = this._reset();\r\n    super.play(onFinish, onError, onCancel);\r\n\r\n    if (this._done) {\r\n      this._promises.finish.resolve();\r\n    } else {\r\n      // Signal the next animation is starting\r\n      if (name !== this.currentAnimation && typeof onNext === 'function') {\r\n        const lastName = [...this._states.keys()][this._states.size - 1];\r\n        const isQueueEnd = name === lastName;\r\n        onNext({\r\n          name,\r\n          canAdvance: name\r\n            ? this.getState(name).loopCount !== Infinity && !isQueueEnd\r\n            : true,\r\n          isQueueEnd: !name || isQueueEnd,\r\n        });\r\n      }\r\n\r\n      // Start the next animation\r\n      this.playAnimation(\r\n        name,\r\n        this._currentState ? this._transitionTime : 0,\r\n        this._easingFn,\r\n        () => {\r\n          if (!this._paused && !this.isTransitioning) {\r\n            this.next(onNext);\r\n          }\r\n        },\r\n        onError\r\n      );\r\n    }\r\n\r\n    return this._promises.finish;\r\n  }\r\n\r\n  pause() {\r\n    const paused = super.pause();\r\n    this.pauseAnimation();\r\n\r\n    return paused;\r\n  }\r\n\r\n  resume(onFinish, onError, onCancel, onNext) {\r\n    if (this._done) {\r\n      return this.play(onFinish, onError, onCancel, onNext);\r\n    } else {\r\n      super.resume(onFinish, onError, onCancel);\r\n\r\n      this.resumeAnimation(\r\n        this._currentState.name,\r\n        this._transitionTime,\r\n        this._easingFn,\r\n        () => {\r\n          if (!this._paused && !this.isTransitioning) {\r\n            this.next(onNext);\r\n          }\r\n        },\r\n        onError\r\n      );\r\n\r\n      return this._promises.finish;\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    const canceled = super.cancel();\r\n\r\n    if (this._currentState) {\r\n      this._currentState.cancel();\r\n    }\r\n\r\n    return canceled;\r\n  }\r\n\r\n  stop() {\r\n    const stopped = super.stop();\r\n    this.stopAnimation();\r\n    this._done = true;\r\n\r\n    return stopped;\r\n  }\r\n\r\n  discard() {\r\n    super.discard();\r\n\r\n    this.discardStates();\r\n  }\r\n}\r\n\r\nexport default QueueState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractState from './AbstractState';\r\nimport StateContainerInterface from './StateContainerInterface';\r\nimport AnimationPlayerInterface from '../AnimationPlayerInterface';\r\nimport Utils from '../../Utils';\r\n\r\n/**\r\n * Class for playing random animations at random intervals within this state.\r\n *\r\n * @extends AbstractState\r\n * @implements AnimationPlayerInterface\r\n * @implements StateContainerInterface\r\n */\r\nclass RandomAnimationState extends AnimationPlayerInterface.Mixin(\r\n  StateContainerInterface.Mixin(AbstractState)\r\n) {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object} [options={}] - Options for the container state.\r\n   * @param {number} [options.playInterval=3] - The base animation playback interval.\r\n   * @param {Array.<AbstractState>} [subStates=[]] - states to be randomly picked to play\r\n   */\r\n  constructor(options = {}, subStates = []) {\r\n    super(options);\r\n\r\n    this._playInterval = options.playInterval ? options.playInterval : 3;\r\n\r\n    subStates.forEach(state => {\r\n      this.addState(state);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the base animation play interval\r\n   *\r\n   * @type {float}\r\n   */\r\n  get playInterval() {\r\n    return this._playInterval;\r\n  }\r\n\r\n  set playInterval(playInterval) {\r\n    this._playInterval = playInterval;\r\n  }\r\n\r\n  /**\r\n   * Reset the internal timer for animation play interval\r\n   *\r\n   * @private\r\n   */\r\n  _resetTimer() {\r\n    const playTimer = Utils.getRandomFloat(\r\n      this._playInterval / 4,\r\n      this._playInterval * 2\r\n    );\r\n    const onFinish = () => {\r\n      this.playRandomAnimation(this._playCallbacks.onError);\r\n    };\r\n    this._promises.timer = Utils.wait(playTimer, {onFinish});\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    if (this._currentState) {\r\n      this._currentState.updateInternalWeight(this._internalWeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pick a random animation and utilize AnimationPlayerInterface to play that animation\r\n   *\r\n   * @param {Function=} onError - Function to execute if the state encounters\r\n   * an error during playback.\r\n   */\r\n  playRandomAnimation(onError) {\r\n    this._resetTimer();\r\n\r\n    const states = this.getStateNames();\r\n    if (this._currentState) {\r\n      states.splice(states.indexOf(this._currentState.name), 1);\r\n    }\r\n    const randomState = states[Utils.getRandomInt(0, states.length)];\r\n\r\n    this.playAnimation(\r\n      randomState,\r\n      this._transitionTime,\r\n      this._easingFn,\r\n      undefined,\r\n      onError,\r\n      undefined\r\n    );\r\n  }\r\n\r\n  play(onFinish, onError, onCancel) {\r\n    this.playRandomAnimation(onError);\r\n    return super.play(onFinish, onError, onCancel);\r\n  }\r\n\r\n  pause() {\r\n    return super.pause() && this.pauseAnimation();\r\n  }\r\n\r\n  resume(onFinish, onError, onCancel) {\r\n    if (this._currentState) {\r\n      this.resumeAnimation(\r\n        this._currentState.name,\r\n        this._transitionTime,\r\n        this._easingFn,\r\n        undefined,\r\n        onError,\r\n        undefined\r\n      );\r\n    }\r\n    return super.resume(onFinish, onError, onCancel);\r\n  }\r\n\r\n  cancel() {\r\n    return super.cancel() && this.cancelAnimation();\r\n  }\r\n\r\n  stop() {\r\n    return super.stop() && this.stopAnimation();\r\n  }\r\n\r\n  discard() {\r\n    super.discard();\r\n    this.discardStates();\r\n  }\r\n}\r\n\r\nexport default RandomAnimationState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../../Deferred';\r\nimport AbstractState from './AbstractState';\r\nimport {validateBlendMode} from '../AnimationLayer';\r\nimport AnimationUtils from '../AnimationUtils';\r\n\r\n/**\r\n * Class for playing a single animation clip.\r\n *\r\n * @extends AbstractState\r\n * @alias core/SingleState\r\n */\r\nclass SingleState extends AbstractState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options - Options for the animation state.\r\n   * @param {string=} options.name - Name for the animation state. Names must be\r\n   * unique for the layer the state is applied to.\r\n   * @param {weight} [options.weight=0] - The 0-1 amount of influence the state will have.\r\n   * @param {timeScale} [options.timeScale=1] - Factor to scale the playback speed of the\r\n   * animation.\r\n   * @param {number} [options.loopCount=Infinity] - Number of times the animation should\r\n   * repeat before finishing.\r\n   * @param {string} [options.blendMode=DefaultLayerBlendMode] - Type of\r\n   * blending the animation should use.\r\n   */\r\n  constructor(options = {}) {\r\n    super(options);\r\n\r\n    this._timeScale = options.timeScale !== undefined ? options.timeScale : 1;\r\n    this._promises.timeScale = Deferred.resolve();\r\n    this._loopCount =\r\n      options.loopCount !== undefined ? options.loopCount : Infinity;\r\n    this._blendMode = validateBlendMode(options.blendMode);\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the normalized playing time of the current animation\r\n   *\r\n   * @type {number}\r\n   */\r\n  get normalizedTime() {\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the a factor to scale animation playback speed with.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get timeScale() {\r\n    return this._timeScale;\r\n  }\r\n\r\n  set timeScale(timeScale) {\r\n    this._timeScale = timeScale;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the timeScale is currently being animated.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get timeScalePending() {\r\n    return this._promises.timeScale.pending;\r\n  }\r\n\r\n  /**\r\n   * Updates the timeScale value over time.\r\n   *\r\n   * @param {number} weight - The target timeScale value.\r\n   * @param {number} [seconds=0] - The amount of time it will take to reach the\r\n   * target timeScale.\r\n   * @param {Function=} easingFn - The easing function to use for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setTimeScale(timeScale, seconds = 0, easingFn) {\r\n    this._promises.timeScale.cancel();\r\n\r\n    this._promises.timeScale = AnimationUtils.interpolateProperty(\r\n      this,\r\n      'timeScale',\r\n      timeScale,\r\n      {seconds, easingFn}\r\n    );\r\n\r\n    return this._promises.timeScale;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the number of times the animation will repeat before finishing.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get loopCount() {\r\n    return this._loopCount;\r\n  }\r\n\r\n  set loopCount(loopCount) {\r\n    this._loopCount = loopCount;\r\n  }\r\n\r\n  /**\r\n   * Gets the type of blending used for the animation.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get blendMode() {\r\n    return this._blendMode;\r\n  }\r\n}\r\n\r\nexport default SingleState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n/* eslint-disable max-classes-per-file */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-empty-function */\r\n/* eslint-disable getter-return */\r\n\r\nimport Utils from '../../Utils';\r\n\r\n/**\r\n * Class factory interface for manipulating a collection of {@link AbstractState}.\r\n *\r\n * @interface\r\n */\r\nclass StateContainerInterface {\r\n  /**\r\n   * Return the state with the given name.\r\n   *\r\n   * @param {string} name - Name of the state.\r\n   *\r\n   * @returns {AbstractState}\r\n   */\r\n  getState(name) {}\r\n\r\n  /**\r\n   * Gets an array of the names of all states in the container.\r\n   *\r\n   * @type {Array.<string>}\r\n   */\r\n  getStateNames() {}\r\n\r\n  /**\r\n   * Add a new state to be controlled by the container. States are stored keyed\r\n   * by their name property, which must be unique. If it isn't, a number will\r\n   * be added or incremented until a unique key is generated.\r\n   *\r\n   * @param {AbstractState} state - State to add to the container.\r\n   *\r\n   * @returns {string} - Unique name of the state.\r\n   */\r\n  addState(state) {}\r\n\r\n  /**\r\n   * Removes a state with the given name from the container.\r\n   *\r\n   * @param {string} name - Name of the state to remove.\r\n   *\r\n   * @returns {boolean} - Whether or not a state was removed.\r\n   */\r\n  removeState(name) {}\r\n\r\n  /**\r\n   * Renames a state with the given name in the container. Name must be unique\r\n   * to the container, if it isn't the name will be incremented until it is unique.\r\n   *\r\n   * @param {string} currentName - Name of the state to rename.\r\n   * @param {string} newName - Name to update the state with.\r\n   *\r\n   * @returns {string} - Updated name for the state.\r\n   */\r\n  renameState(currentName, newName) {}\r\n\r\n  /**\r\n   * Discards all states.\r\n   */\r\n  discardStates() {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link StateContainerInterface} and extends\r\n   * a specified base class.\r\n   *\r\n   * @param {Class} [BaseClass = class{}] - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link StateContainerInterface}.\r\n   */\r\n  static Mixin(BaseClass = class {}) {\r\n    /**\r\n     * This mixin adds functionality for manipulating uniquely-named animation states in\r\n     * a map.\r\n     */\r\n    const StateContainerMixin = class extends BaseClass {\r\n      constructor(options = {}, ...args) {\r\n        super(options, ...args);\r\n\r\n        this._states = this._states !== undefined ? this._states : new Map();\r\n      }\r\n\r\n      getState(name) {\r\n        return this._states.get(name);\r\n      }\r\n\r\n      getStateNames() {\r\n        return [...this._states.keys()];\r\n      }\r\n\r\n      addState(state) {\r\n        // Make sure the state is not already in this container\r\n        if ([...this._states.values()].includes(state)) {\r\n          console.warn(\r\n            `Cannot add animation to state ${this.name}. Animation was already added.`\r\n          );\r\n          return state.name;\r\n        }\r\n\r\n        // Make sure the state name is unique\r\n        const uniqueName = Utils.getUniqueName(state.name, [\r\n          ...this._states.keys(),\r\n        ]);\r\n\r\n        if (state.name !== uniqueName) {\r\n          console.warn(\r\n            `Animation name ${state.name} is not unique for state ${this.name}. New animation will be added with name ${uniqueName}.`\r\n          );\r\n          state.name = uniqueName;\r\n        }\r\n\r\n        this._states.set(state.name, state);\r\n\r\n        return state.name;\r\n      }\r\n\r\n      removeState(name) {\r\n        // Check if the state is in this container\r\n        if (!this._states || !this._states.has(name)) {\r\n          console.warn(\r\n            `Did not remove animation ${name} from state ${this.name}. No animation exists with this name.`\r\n          );\r\n          return false;\r\n        }\r\n\r\n        this._states.get(name).discard();\r\n        this._states.delete(name);\r\n        return true;\r\n      }\r\n\r\n      renameState(currentName, newName) {\r\n        // Make sure the state is in this container\r\n        if (!this._states || !this._states.has(currentName)) {\r\n          throw new Error(\r\n            `Cannot rename animation ${currentName} in ${this.name}. No animation exists with this name.`\r\n          );\r\n        }\r\n\r\n        const state = this._states.get(currentName);\r\n\r\n        // Exit if the names are the same\r\n        if (currentName === newName) {\r\n          return currentName;\r\n        }\r\n\r\n        // Make sure the name is unique\r\n        const uniqueName = Utils.getUniqueName(\r\n          newName,\r\n          [...this._states.keys()].filter(s => s.name !== currentName)\r\n        );\r\n\r\n        if (newName !== uniqueName) {\r\n          console.warn(\r\n            `Animation name ${newName} is not unique in state ${this.name}. Animation will be renamed to ${uniqueName}.`\r\n          );\r\n          newName = uniqueName;\r\n        }\r\n\r\n        state.name = newName;\r\n        this._states.delete(currentName);\r\n        this._states.set(state.name, state);\r\n\r\n        return state.name;\r\n      }\r\n\r\n      discardStates() {\r\n        this._states.forEach(state => {\r\n          state.discard();\r\n        });\r\n\r\n        delete this._states;\r\n      }\r\n    };\r\n    return StateContainerMixin;\r\n  }\r\n}\r\nexport default StateContainerInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../../Deferred';\r\nimport AbstractState from './AbstractState';\r\n\r\n/**\r\n * Class for smooth transitioning between states on an animation layer.\r\n *\r\n * @extends AbstractState\r\n */\r\nclass TransitionState extends AbstractState {\r\n  constructor(options = {}) {\r\n    super(options);\r\n\r\n    this._to = null;\r\n    this._from = [];\r\n    this._weightPromise = Deferred.resolve();\r\n  }\r\n\r\n  get internalWeight() {\r\n    // Find the combined weight of all sub-states\r\n    let totalWeight = 0;\r\n\r\n    if (this._to) {\r\n      totalWeight += this._to.weight;\r\n    }\r\n\r\n    this._from.forEach(state => {\r\n      totalWeight += state.weight;\r\n    });\r\n\r\n    return totalWeight * this._internalWeight;\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    this._from.forEach(state => {\r\n      state.updateInternalWeight(this._internalWeight);\r\n    });\r\n\r\n    if (this._to) {\r\n      this._to.updateInternalWeight(this._internalWeight);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update sub-states the transition is controlling and start new weight\r\n   * animations on each one. This should be called each time the current state of\r\n   * an animation layer gets updated to a new value and a transition time greater\r\n   * that zero is specified.\r\n   *\r\n   * @param {Array.<AbstractState>} [currentStates=[]] - States whose weight values\r\n   * will be animated to 0.\r\n   * @param {AbstractState=} targetState - State whose weight will be animated\r\n   * to 1.\r\n   * @param {number} transitionTime - Amount of time it will in seconds take for\r\n   * weight animations to complete.\r\n   * @param {Function=} easingFn - Easing function to use for weight animations.\r\n   * Default is Easing.Linear.InOut.\r\n   * @param {Function=} onComplete - Function to execute once all weight animations\r\n   * complete.\r\n   */\r\n  configure(\r\n    currentStates = [],\r\n    targetState,\r\n    transitionTime,\r\n    easingFn,\r\n    onComplete\r\n  ) {\r\n    // Deactivate any states that aren't in the new configuration\r\n    if (this._to === targetState || currentStates.includes(this._to)) {\r\n      this._to = null;\r\n    }\r\n    this._from = this._from.filter(\r\n      state => state !== targetState && !currentStates.includes(state)\r\n    );\r\n    this.deactivate();\r\n\r\n    this._from = currentStates;\r\n    this._to = targetState;\r\n    this.reset(transitionTime, easingFn, onComplete);\r\n  }\r\n\r\n  /**\r\n   * Start new weight animations state the transition controls. This should be called\r\n   * if an animation is played with a transition time greater than zero and a transtion\r\n   * to that animation was already in progress.\r\n   *\r\n   * @param {number} transitionTime - Amount of time it will in seconds take for\r\n   * weight animations to complete.\r\n   * @param {Function=} easingFn - Easing function to use for weight animations.\r\n   * Default is Easing.Linear.InOut.\r\n   * @param {Function=} onComplete - Function to execute once all weight animations\r\n   * complete.\r\n   */\r\n  reset(transitionTime, easingFn, onComplete) {\r\n    // Stop any pending promises\r\n    this._weightPromise.cancel();\r\n\r\n    // Start tweening weight to 0 for the current states\r\n    const weightPromises = this._from.map(state =>\r\n      state.setWeight(0, transitionTime, easingFn)\r\n    );\r\n\r\n    // Start tweening weight to 1 for the target state\r\n    if (this._to) {\r\n      weightPromises.push(this._to.setWeight(1, transitionTime, easingFn));\r\n      this.name = this._to.name;\r\n    } else {\r\n      this.name = null;\r\n    }\r\n\r\n    this._weightPromise = Deferred.all(weightPromises, () => {\r\n      this._from.forEach(state => {\r\n        state.cancel();\r\n        state.deactivate();\r\n      });\r\n      if (typeof onComplete === 'function') {\r\n        onComplete();\r\n      }\r\n    });\r\n  }\r\n\r\n  play(onFinish, onError, onCancel, onNext) {\r\n    this._paused = false;\r\n    this._playCallbacks.onFinish = onFinish;\r\n    this._playCallbacks.onError = onError;\r\n    this._playCallbacks.onCancel = onCancel;\r\n\r\n    const promises = [this._weightPromise];\r\n\r\n    this._from.forEach(state => {\r\n      state.resume();\r\n    });\r\n\r\n    if (this._to) {\r\n      this._promises.play = this._to.play(\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        onNext\r\n      );\r\n      promises.push(this._promises.play);\r\n    }\r\n\r\n    this._promises.finish = Deferred.all(promises, onFinish, onError, onCancel);\r\n    return this._promises.finish;\r\n  }\r\n\r\n  pause() {\r\n    this._from.forEach(state => {\r\n      state.pause();\r\n    });\r\n\r\n    if (this._to) {\r\n      this._to.pause();\r\n    }\r\n\r\n    return super.pause();\r\n  }\r\n\r\n  resume(onFinish, onError, onCancel, onNext) {\r\n    this._paused = false;\r\n\r\n    if (!this._promises.play.pending) {\r\n      this._playCallbacks.onFinish = onFinish || this._playCallbacks.onFinish;\r\n      this._playCallbacks.onError = onError || this._playCallbacks.onError;\r\n      this._playCallbacks.onCancel = onCancel || this._playCallbacks.onCancel;\r\n    }\r\n\r\n    const promises = [this._weightPromise];\r\n\r\n    this._from.forEach(state => {\r\n      state.resume();\r\n    });\r\n\r\n    if (this._to) {\r\n      this._promises.play = this._to.resume(\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        onNext\r\n      );\r\n      promises.push(this._promises.play);\r\n    }\r\n\r\n    this._promises.finish = Deferred.all(\r\n      promises,\r\n      this._playCallbacks.onFinish,\r\n      this._playCallbacks.onError,\r\n      this._playCallbacks.onCancel\r\n    );\r\n    return this._promises.finish;\r\n  }\r\n\r\n  cancel() {\r\n    this._from.forEach(state => {\r\n      state.pause();\r\n    });\r\n\r\n    if (this._to) {\r\n      this._to.cancel();\r\n    }\r\n\r\n    this._weightPromise.cancel();\r\n\r\n    return super.cancel();\r\n  }\r\n\r\n  stop() {\r\n    this._from.forEach(state => {\r\n      state.pause();\r\n    });\r\n\r\n    if (this._to) {\r\n      this._to.stop();\r\n    }\r\n\r\n    return super.stop();\r\n  }\r\n\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    this._from.forEach(state => {\r\n      state.update(deltaTime);\r\n    });\r\n\r\n    if (this._to) {\r\n      this._to.update(deltaTime);\r\n    }\r\n  }\r\n\r\n  discard() {\r\n    super.discard();\r\n\r\n    this._weightPromise.cancel();\r\n    delete this._weightPromise;\r\n    this._to = null;\r\n    this._from.length = 0;\r\n  }\r\n\r\n  deactivate() {\r\n    if (this._to) {\r\n      this._to.deactivate();\r\n    }\r\n\r\n    this._from.forEach(state => {\r\n      state.deactivate();\r\n    });\r\n  }\r\n}\r\n\r\nexport default TransitionState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Deferred from '../Deferred';\r\n\r\n/**\r\n * Class that can play back audio generated by AWS Polly and synchronized emit\r\n * speechmark messages.\r\n *\r\n * @abstract\r\n */\r\nclass AbstractSpeech {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/TextToSpeechFeature} speaker - The feature that owns the Speech and\r\n   * will emit speechmark messages.\r\n   * @param {string} text - The text of the speech.\r\n   * @param {Array.<Object>} [speechmarks=[]] - An array of speechmark objects representing\r\n   * the text and timing of the speech.\r\n   */\r\n  constructor(speaker, text, speechmarks = []) {\r\n    this._speaker = speaker;\r\n    this._text = text;\r\n    this._speechmarks = speechmarks;\r\n    this._speechmarkOffset = 0;\r\n    this._reset();\r\n  }\r\n\r\n  /**\r\n   * Reset tracking properties.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {number} [currentTime=0] - Time to use for _startTime.\r\n   */\r\n  _reset(currentTime = 0) {\r\n    this._startTime = currentTime;\r\n    this._localTime = 0;\r\n    this._pauseTime = 0;\r\n    this._playing = false;\r\n    this._markIter = this._speechmarks.values();\r\n    const {value, done} = this._markIter.next();\r\n    this._currentMark = value;\r\n    this._endTime = this._speechmarks.length\r\n      ? this._speechmarks[this._speechmarks.length - 1].time\r\n      : 0;\r\n    this._done = done;\r\n    this._promise = null;\r\n  }\r\n\r\n  /**\r\n   * Create a new promise that will stop playback and emit messages for this speech.\r\n   *\r\n   * @param {Function=} onFinish - Funciton to execute once the speech stops.\r\n   * @param {onError=} onError - Function to execute if the speech encounters an\r\n   * error.\r\n   * @param {Function=} onInterrupt - Function to execute if the speech is canceled.\r\n   *\r\n   * @returns {Deferred}\r\n   *\r\n   * @private\r\n   */\r\n  _createPromise(onFinish, onError, onInterrupt) {\r\n    const onResolve = value => {\r\n      this._playing = false;\r\n\r\n      this._speaker.emit(this._speaker.constructor.EVENTS.stop, this);\r\n      this._speaker.constructor.emit(\r\n        this._speaker.constructor.EVENTS.stop,\r\n        this\r\n      );\r\n\r\n      if (typeof onFinish === 'function') {\r\n        onFinish(value);\r\n      }\r\n    };\r\n\r\n    const onReject = e => {\r\n      this._playing = false;\r\n\r\n      this._speaker.emit(this._speaker.constructor.EVENTS.stop, this);\r\n      this._speaker.constructor.emit(\r\n        this._speaker.constructor.EVENTS.stop,\r\n        this\r\n      );\r\n\r\n      console.error(\r\n        `${this.constructor.name} encountered an unexpected error: ${e}`\r\n      );\r\n\r\n      if (typeof onError === 'function') {\r\n        onError(e);\r\n      }\r\n    };\r\n\r\n    const onCancel = value => {\r\n      this._playing = false;\r\n\r\n      this._speaker.emit(this._speaker.constructor.EVENTS.interrupt, this);\r\n      this._speaker.constructor.emit(\r\n        this._speaker.constructor.EVENTS.interrupt,\r\n        this\r\n      );\r\n\r\n      if (typeof onInterrupt === 'function') {\r\n        onInterrupt(value);\r\n      }\r\n    };\r\n\r\n    this._promise = new Deferred(undefined, onResolve, onReject, onCancel);\r\n\r\n    return this._promise;\r\n  }\r\n\r\n  /**\r\n   * Return whether or not the speech has reached it's end.\r\n   *\r\n   * @private\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  _checkFinished() {\r\n    return this._done && this._localTime >= this._endTime;\r\n  }\r\n\r\n  /**\r\n   * Gets the playback state of the audio.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get playing() {\r\n    return this._playing;\r\n  }\r\n\r\n  /**\r\n   * Gets the text of the speech.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get text() {\r\n    return this._text;\r\n  }\r\n\r\n  /**\r\n   * Gets a shallow copy of the speechmarks array for the speech.\r\n   *\r\n   * @readonly\r\n   * @type {Array.<Object>}\r\n   */\r\n  get speechmarks() {\r\n    return [...this._speechmarks];\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the number of seconds to offset speechmark emission.\r\n   * @type {number}\r\n   */\r\n  get speechmarkOffset() {\r\n    return this._speechmarkOffset / 1000;\r\n  }\r\n\r\n  set speechmarkOffset(offset) {\r\n    this._speechmarkOffset = offset * 1000; // Store as milliseconds\r\n  }\r\n\r\n  /**\r\n   * Emit speechmark messages as they are encountered in sync with audio.\r\n   *\r\n   * @param {number} currentTime - Current global time when update was called.\r\n   */\r\n  update(currentTime) {\r\n    if (!this._playing) {\r\n      return;\r\n    }\r\n\r\n    // Update local audio time\r\n    this._localTime = currentTime - this._startTime;\r\n\r\n    if (!this._done) {\r\n      // Emit speechmark messages for marks up to the current time\r\n      while (\r\n        !this._done &&\r\n        this._currentMark.time + this._speechmarkOffset <= this._localTime\r\n      ) {\r\n        this._speaker.emit(\r\n          this._speaker.constructor.EVENTS[this._currentMark.type],\r\n          {\r\n            speech: this,\r\n            mark: this._currentMark,\r\n          }\r\n        );\r\n        const {value, done} = this._markIter.next();\r\n\r\n        this._currentMark = value;\r\n        this._done = done;\r\n      }\r\n    }\r\n\r\n    // End playback\r\n    if (this._checkFinished()) {\r\n      this.stop();\r\n      this._reset();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Play the speech from the beginning.\r\n   *\r\n   * @param {number} currentTime - Current global time when play was called.\r\n   * @param {Function=} onFinish - Optional function to execute once the speech\r\n   * promise resolves.\r\n   * @param {Function=} onError - Optional function to execute if the speech\r\n   * encounters and error during playback.\r\n   * @param {Function=} onInterrupt - Optional function to execute if the speech\r\n   * is canceled.\r\n   *\r\n   * @returns {Deferred} Resolves once the speech reaches the end of playback.\r\n   */\r\n  play(currentTime, onFinish, onError, onInterrupt) {\r\n    this._reset(currentTime);\r\n    this._playing = true;\r\n\r\n    this._speaker.emit(this._speaker.constructor.EVENTS.play, this);\r\n    this._speaker.constructor.emit(this._speaker.constructor.EVENTS.play, this);\r\n\r\n    return this._createPromise(onFinish, onError, onInterrupt);\r\n  }\r\n\r\n  /**\r\n   * Pause the speech at the current time.\r\n   *\r\n   * @param {number} currentTime - Current global time when pause was called.\r\n   */\r\n  pause(currentTime) {\r\n    this._playing = false;\r\n    this._pauseTime = currentTime;\r\n\r\n    this._speaker.emit(this._speaker.constructor.EVENTS.pause, this);\r\n    this._speaker.constructor.emit(\r\n      this._speaker.constructor.EVENTS.pause,\r\n      this\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Resume the speech at the current time.\r\n   *\r\n   * @param {number} currentTime - Current global time when resume was called.\r\n   * @param {Function=} onFinish - Optional function to execute once the speech\r\n   * promise resolves.\r\n   * @param {Function=} onError - Optional function to execute if the speech\r\n   * encounters and error during playback.\r\n   * @param {Function=} onInterrupt - Optional function to execute if the speech\r\n   * is canceled.\r\n   *\r\n   * @returns {Deferred} Resolves once the speech reaches the end of playback.\r\n   */\r\n  resume(currentTime, onFinish, onError, onInterrupt) {\r\n    // Play from the beginning if the speech hasn't played yet\r\n    if (!this._promise) {\r\n      this._reset(currentTime);\r\n      this._createPromise(onFinish, onError, onInterrupt);\r\n    }\r\n\r\n    this._playing = true;\r\n    this._startTime += currentTime - this._pauseTime;\r\n\r\n    this._speaker.emit(this._speaker.constructor.EVENTS.resume, this);\r\n    this._speaker.constructor.emit(\r\n      this._speaker.constructor.EVENTS.resume,\r\n      this\r\n    );\r\n\r\n    return this._promise;\r\n  }\r\n\r\n  /**\r\n   * Cancels playback of the speech at the current time. Cancel the speech promise.\r\n   */\r\n  cancel() {\r\n    if (this._promise) {\r\n      this._promise.cancel();\r\n      this._promise = null;\r\n    }\r\n\r\n    this._playing = false;\r\n  }\r\n\r\n  /**\r\n   * Stop the speech and reset time to the beginning. Resolve the speech promise.\r\n   */\r\n  stop() {\r\n    if (this._promise) {\r\n      this._promise.resolve();\r\n      this._promise = null;\r\n    }\r\n\r\n    this._playing = false;\r\n  }\r\n}\r\n\r\nexport default AbstractSpeech;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractHostFeature from '../AbstractHostFeature';\r\nimport AnimationUtils from '../animpack/AnimationUtils';\r\nimport MathUtils from '../MathUtils';\r\nimport Utils from '../Utils';\r\nimport Deferred from '../Deferred';\r\nimport Speech from './AbstractSpeech';\r\nimport TextToSpeechUtils from './TextToSpeechUtils';\r\n\r\n/**\r\n * The Amazon Polly service object.\r\n * @external Polly\r\n * @see https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Polly.html\r\n */\r\n\r\n/**\r\n * The presigner object that can be used to generate presigned urls for the Polly service.\r\n * @external Presigner\r\n * @see https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Polly/Presigner.html\r\n */\r\n\r\n// Available options for Polly\r\nconst engines = ['standard', 'neural'];\r\nconst audioFormats = ['mp3', 'ogg_vorbis', 'pcm'];\r\nconst speechmarkTypes = ['sentence', 'ssml', 'viseme', 'word'];\r\nconst sampleRates = {\r\n  mp3: {\r\n    rates: ['8000', '16000', '22050', '24000'],\r\n    defaults: {\r\n      standard: '2050',\r\n      neural: '2400',\r\n    },\r\n  },\r\n  pcm: {\r\n    rates: ['8000', '16000'],\r\n    defaults: {\r\n      standard: '1600',\r\n      neural: '1600',\r\n    },\r\n  },\r\n};\r\nsampleRates.ogg_vorbis = sampleRates.mp3;\r\nlet awsVersion;\r\n\r\n/**\r\n * Base class for turning text input into playable audio. There should be one instance\r\n * per speaker, each instance can play only one piece of text at a time.\r\n *\r\n * @extends AbstractHostFeature\r\n * @abstract\r\n *\r\n * @property {(number|undefined)} AWS_VERSION - Gets the version of AWS SDK being\r\n * used. Will be undefined until [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed.\r\n * @property {string} [POLLY_MIN_NEURAL_VERSION='2.503'] - Gets the minimum version\r\n * of the AWS SDK that is necessary to use neural voices with AWS Polly.\r\n * @property {Object} POLLY_DEFAULTS - Default values to use with calls to {@link external:Polly}.\r\n * @property {string} [POLLY_DEFAULTS.Engine='standard']\r\n * @property {Array.<string>} [POLLY_DEFAULTS.LexiconNames=[]]\r\n * @property {string} [POLLY_DEFAULTS.OutputFormat='mp3']\r\n * @property {string} [POLLY_DEFAULTS.SampleRate='22050']\r\n * @property {string} [POLLY_DEFAULTS.Text='']\r\n * @property {string} [POLLY_DEFAULTS.TextType='ssml']\r\n * @property {string} [POLLY_DEFAULTS.VoiceId='Amy']\r\n * @property {string} [POLLY_DEFAULTS.LanguageCode='en-GB']\r\n * @property {string} [POLLY_DEFAULTS.LanguageName='British English']\r\n * @property {Array.<string>} [POLLY_VOICES=[]] - An array of voices available in\r\n * Polly. Will be empty until [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed. See [Polly Documentation]{@link https://docs.aws.amazon.com/polly/latest/dg/voicelist.html}\r\n * for a full list of available voices.\r\n * @property {Object} [POLLY_LANGUAGES={}] - An object that maps language names\r\n * to language codes that are available in Polly. Will be empty until\r\n * [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed. See [Polly Documentation]{@link https://docs.aws.amazon.com/polly/latest/dg/SupportedLanguage.html}\r\n * for a full list of available languages and corresponding codes.\r\n * @property {Object} [POLLY_LANGUAGE_CODES={}] - An object that maps language codes\r\n * to language names that are available in Polly. Will be empty until\r\n * [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed. See [Polly Documentation]{@link https://docs.aws.amazon.com/polly/latest/dg/SupportedLanguage.html}\r\n * for a full list of available languages and corresponding codes.\r\n * @property {Object} EVENTS - Built-in messages that the feature emits. When the\r\n * feature is added to a {@link core/HostObject}, event names will be prefixed by the\r\n * name of the feature class + '.'.\r\n * @property {string} [EVENTS.ready=onReadyEvent] - Message that is emitted after\r\n * [initializeService]{@link AbstractTextToSpeechFeature.initializeService} has been\r\n * successfully executed.\r\n * @property {string} [EVENTS.play=onPlayEvent] - Message that is emitted after\r\n * each call to [play]{@link AbstractTextToSpeechFeature#play}. The speech that was played\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.pause=onPauseEvent] - Message that is emitted after\r\n * each call to [pause]{@link AbstractTextToSpeechFeature#pause}. The speech that was paused\r\n * is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.resume=onResumeEvent] - Message that is emitted after\r\n * each call to [resume]{@link AbstractTextToSpeechFeature#resume}. The speech that was\r\n * resumed is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.interrupt=onInterruptEvent] - Message that is emitted\r\n * if there is a current speech in progress and [play]{@link AbstractTextToSpeechFeature#play}\r\n * or [resume]{@link AbstractTextToSpeechFeature#resume} are executed for a new speech.\r\n * The speech that was interrupted is supplied as an argument to listener functions.\r\n * @property {string} [EVENTS.stop=onStopEvent] - Message that is emitted after\r\n * each call to [stop]{@link AbstractTextToSpeechFeature#stop} and when a speech reaches\r\n * the end of playback. The speech that was stopped is supplied as an argument\r\n * to listener functions.\r\n * @property {string} [EVENTS.sentence=onSentenceEvent] - Message that is emitted\r\n * each time a sentence speechmark is encountered whose timestamp matches up with\r\n * the speech audio's current time. The sentence speechmark object is supplied as\r\n * an argument to listener functions.\r\n * @property {string} [EVENTS.word=onWordEvent] - Message that is emitted\r\n * each time a word speechmark is encountered whose timestamp matches up with\r\n * the speech audio's current time. The word speechmark object is supplied as\r\n * an argument to listener functions.\r\n * @property {string} [EVENTS.viseme=onVisemeEvent] - Message that is emitted\r\n * each time a viseme speechmark is encountered whose timestamp matches up with\r\n * the speech audio's current time. The viseme speechmark object is supplied as\r\n * an argument to listener functions.\r\n * @property {string} [EVENTS.ssml=onSsmlEvent] - Message that is emitted\r\n * each time a ssml speechmark is encountered whose timestamp matches up with\r\n * the speech audio's current time. The ssml speechmark object is supplied as\r\n * an argument to listener functions.\r\n * @property {Object} SERVICES - AWS services that are necessary for the feature\r\n * to function.\r\n * @property {external:Polly} SERVICES.polly - The Polly service that is used\r\n * to synthesize speechmarks. Will be undefined until [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed\r\n * @property {external:Presigner} SERVICES.presigner - The Polly Presigner\r\n * object that is used to synthesize speech audio. Will be undefined until\r\n * [initializeService]{@link AbstractTextToSpeechFeature.initializeService}\r\n * has been successfully executed.\r\n */\r\nclass AbstractTextToSpeechFeature extends AbstractHostFeature {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {core/HostObject} host - Host object managing the feature.\r\n   * @param {Object=} options - Options that will be sent to Polly for each speech.\r\n   * @param {string=} options.voice - The name of the Polly voice to use for all speech.\r\n   * @param {string=} options.engine - The name of the Polly engine to use for all speech.\r\n   * @param {string=} options.language - The name of the language to use for all speech.\r\n   * @param {audioFormat} [options.audioFormat='mp3'] - The format to use for generated\r\n   * audio for all speeches.\r\n   * @param {string=} options.sampleRate - The sample rate for audio files for all\r\n   * speeches.\r\n   * @param {number} [options.speechmarkOffset=0] - Amount of time in seconds to\r\n   * offset speechmark event emission from the audio.\r\n   * @param {number} [options.minEndMarkDuration=.05] - The minimum amount of time\r\n   * in seconds that the last speechmark of each type in a speech can have its\r\n   * duration property set to.\r\n   * @param {number} [options.volume=1] - The default volume to play speech audio\r\n   * with.\r\n   * @param {boolean} [options.isGlobal=false] - Whether the audio source should default\r\n   * to global regardless of whether or not it is attached to an object.\r\n   */\r\n  constructor(\r\n    host,\r\n    options = {\r\n      voice: undefined,\r\n      engine: undefined,\r\n      language: undefined,\r\n      audioFormat: 'mp3',\r\n      sampleRate: undefined,\r\n      speechmarkOffset: 0,\r\n      minEndMarkDuration: 0.05,\r\n      volume: 1,\r\n      isGlobal: false,\r\n    }\r\n  ) {\r\n    super(host);\r\n\r\n    this._speechCache = {};\r\n    this._currentSpeech = null;\r\n    this._currentPromise = null;\r\n    this._isValidated = false;\r\n    this.speechmarkOffset = Number.isNaN(Number(options.speechmarkOffset))\r\n      ? 0\r\n      : Number(options.speechmarkOffset);\r\n    this.minEndMarkDuration = Number.isNaN(Number(options.minEndMarkDuration))\r\n      ? 0\r\n      : Number(options.minEndMarkDuration);\r\n    this.volume = Number.isNaN(Number(options.volume))\r\n      ? 1\r\n      : Number(options.volume);\r\n    this._isGlobal = options.isGlobal || false;\r\n    this._promises = {\r\n      volume: Deferred.resolve(),\r\n    };\r\n    this._volumePaused = false;\r\n\r\n    // Set default options for each speech\r\n    this._voice = options.voice || this.constructor.POLLY_DEFAULTS.VoiceId;\r\n    this._language =\r\n      options.language || this.constructor.POLLY_DEFAULTS.LanguageName;\r\n    this._engine = engines.includes(options.engine)\r\n      ? options.engine\r\n      : this.constructor.POLLY_DEFAULTS.Engine;\r\n    this._audioFormat = audioFormats.includes(options.audioFormat)\r\n      ? options.audioFormat\r\n      : this.constructor.POLLY_DEFAULTS.OutputFormat;\r\n    this._sampleRate = sampleRates[this._audioFormat].rates.includes(\r\n      options.sampleRate\r\n    )\r\n      ? options.sampleRate\r\n      : this.constructor.POLLY_DEFAULTS.SampleRate;\r\n  }\r\n\r\n  /**\r\n   * Store Polly, Presigner and AWS SDK Version for use across all instances.\r\n   *\r\n   * @param {external:Polly} polly - Polly instance to use to generate speechmarks.\r\n   * @param {external:Presigner} presigner - Presigner instance to use to generate\r\n   * audio URLs.\r\n   * @param {string} version - Version of the AWS SDK to use to validate voice options.\r\n   */\r\n  static initializeService(polly, presigner, version) {\r\n    // Make sure all were defined\r\n    if (\r\n      polly === undefined ||\r\n      presigner === undefined ||\r\n      version === undefined\r\n    ) {\r\n      throw new Error(\r\n        'Cannot initialize TextToSpeech feature. All arguments must be defined.'\r\n      );\r\n    }\r\n\r\n    // Add sumerian hosts user-agent\r\n    if (polly.config) {\r\n      polly.config.customUserAgent = Utils.addCoreUserAgentComponent(\r\n        polly.config.customUserAgent\r\n      );\r\n\r\n      polly.config.customUserAgent = Utils.addStringOnlyOnce(\r\n        polly.config.customUserAgent,\r\n        this.prototype.getEngineUserAgentString()\r\n      );\r\n    }\r\n    if (presigner.service && presigner.service.config) {\r\n      presigner.service.config.customUserAgent = Utils.addCoreUserAgentComponent(\r\n        presigner.service.config.customUserAgent\r\n      );\r\n\r\n      presigner.service.config.customUserAgent = Utils.addStringOnlyOnce(\r\n        presigner.service.config.customUserAgent,\r\n        this.prototype.getEngineUserAgentString()\r\n      );\r\n    }\r\n\r\n    this._isReady = false;\r\n\r\n    // Store parameters\r\n    this.SERVICES.polly = polly;\r\n    this.SERVICES.presigner = presigner;\r\n    awsVersion = version;\r\n\r\n    // Clear the current polly objects\r\n    const availableVoices = this.POLLY_VOICES;\r\n    availableVoices.length = 0;\r\n\r\n    const availableLanguages = this.POLLY_LANGUAGES;\r\n    Object.keys(availableLanguages).forEach(name => {\r\n      delete availableLanguages[name];\r\n    });\r\n\r\n    const availableLanguageCodes = this.POLLY_LANGUAGE_CODES;\r\n    Object.keys(availableLanguageCodes).forEach(name => {\r\n      delete availableLanguageCodes[name];\r\n    });\r\n\r\n    // Re-populate according to version\r\n    const minNeuralSdk = this.POLLY_MIN_NEURAL_VERSION;\r\n\r\n    return this.SERVICES.polly\r\n      .describeVoices()\r\n      .promise()\r\n      .then(response => {\r\n        const allCodes = {};\r\n\r\n        response.Voices.forEach(voice => {\r\n          if (\r\n            voice.SupportedEngines.includes('standard') ||\r\n            version >= minNeuralSdk\r\n          ) {\r\n            availableVoices.push(voice);\r\n          }\r\n\r\n          availableVoices.forEach(voice => {\r\n            availableLanguages[voice.LanguageName] = voice.LanguageCode;\r\n            allCodes[voice.LanguageCode] = voice.LanguageName;\r\n          });\r\n        });\r\n\r\n        Object.entries(availableLanguages).forEach(([name, code]) => {\r\n          availableLanguageCodes[code] = name;\r\n        });\r\n\r\n        // Notify that we're ready to generate speeches\r\n        this._isReady = true;\r\n        this.emit(this.EVENTS.ready);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Indicates whether or not the class is capable of generating speech audio. Polly,\r\n   * Presigner and AWS SDK version number must have been defined using\r\n   * [initializeService]{@link AbstractTextToSpeechFeature.initializeService}.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  static get isReady() {\r\n    return this._isReady;\r\n  }\r\n\r\n  /**\r\n   * Gets the text of the currently playing speech.\r\n   *\r\n   * @readonly\r\n   * @type {string}\r\n   */\r\n  get currentSpeech() {\r\n    if (this._currentSpeech) {\r\n      return this._currentSpeech.text;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the number of seconds to offset speechmark emission.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get speechmarkOffset() {\r\n    return this._speechmarkOffset;\r\n  }\r\n\r\n  set speechmarkOffset(offset) {\r\n    this._speechmarkOffset = offset;\r\n\r\n    if (this._currentSpeech) {\r\n      this._currentSpeech.speechmarkOffset = offset;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the The minimum amount of time in seconds that the last\r\n   * speechmark of each type in a speech can have its duration property set to.\r\n   *\r\n   * @type number\r\n   */\r\n  get minEndMarkDuration() {\r\n    return this._minEndMarkDuration / 1000;\r\n  }\r\n\r\n  set minEndMarkDuration(duration) {\r\n    this._minEndMarkDuration = duration * 1000;\r\n  }\r\n\r\n  /**\r\n   * Checks if a given engine type is compatible with the AWS SDK version. If it\r\n   * is, return the original value. Otherwise return a default.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} engine - The type of Polly voice engine to validate.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _validateEngine(engine) {\r\n    // Default to the standard engine if neural is not available for this version\r\n    if (\r\n      engine === undefined ||\r\n      this.constructor.AWS_VERSION < this.constructor.POLLY_MIN_NEURAL_VERSION\r\n    ) {\r\n      engine = this.constructor.POLLY_DEFAULTS.Engine;\r\n    }\r\n\r\n    return engine;\r\n  }\r\n\r\n  /**\r\n   * Checks if a given audio format type is compatible with Polly. If it is, return\r\n   * the original value. Otherwise return a default.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} engine - The type of Polly voice engine to validate.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _validateFormat(format) {\r\n    if (format === undefined || !audioFormats.includes(format)) {\r\n      format = this.constructor.POLLY_DEFAULTS.OutputFormat;\r\n    }\r\n\r\n    return format;\r\n  }\r\n\r\n  /**\r\n   * Checks if a given audio sampling rate is compatible with the current audio\r\n   * format. If it is, return the original value. Otherwise return a default.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} engine - The type of Polly voice engine to validate.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _validateRate(rate) {\r\n    // Use default if specified sample rate is not valid for the audio format\r\n    if (\r\n      rate === undefined ||\r\n      !sampleRates[this._audioFormat].rates.includes(rate)\r\n    ) {\r\n      rate = sampleRates[this._audioFormat].defaults[this._engine];\r\n    }\r\n\r\n    return rate;\r\n  }\r\n\r\n  /**\r\n   * Checks if a given Polly voice id is compatible with the current Polly engine.\r\n   * If it is, return the original value. Otherwise return a default.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} engine - The type of Polly voice engine to validate.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _validateVoice(voiceId) {\r\n    const voice = this.constructor.POLLY_VOICES.find(v => v.Id === voiceId);\r\n\r\n    // Use the default voice if the voice isn't supported by the engine\r\n    if (voice === undefined || !voice.SupportedEngines.includes(this._engine)) {\r\n      voiceId = this.constructor.POLLY_DEFAULTS.VoiceId;\r\n    }\r\n\r\n    return voiceId;\r\n  }\r\n\r\n  /**\r\n   * Checks if a given Polly language is compatible with the current Polly voice.\r\n   * If it is, return the original value. Otherwise return a default.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} engine - The type of Polly voice engine to validate.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  _validateLanguage(language) {\r\n    const voice = this.constructor.POLLY_VOICES.find(v => v.Id === this._voice);\r\n    const languageCode = this.constructor.POLLY_LANGUAGES[language];\r\n\r\n    // Find the languages available for the current voice\r\n    const availableCodes = [voice.LanguageCode];\r\n    if (voice.AdditionalLanguageCodes) {\r\n      availableCodes.push(...voice.AdditionalLanguageCodes);\r\n    }\r\n\r\n    // If the current voice doesn't support the language, use its default\r\n    if (!availableCodes.includes(languageCode)) {\r\n      language = this.constructor.POLLY_LANGUAGE_CODES[voice.LanguageCode];\r\n    }\r\n\r\n    return language;\r\n  }\r\n\r\n  /**\r\n   * Validate the current Polly options to make sure they are compatible with each\r\n   * other.\r\n   *\r\n   * @private\r\n   */\r\n  _validate() {\r\n    // Validate speech parameters\r\n    this._engine = this._validateEngine(this._engine);\r\n    this._audioFormat = this._validateFormat(this._audioFormat);\r\n    this._sampleRate = this._validateRate(this._sampleRate);\r\n    this._voice = this._validateVoice(this._voice);\r\n    this._language = this._validateLanguage(this._language);\r\n    this._isValidated = true;\r\n  }\r\n\r\n  /**\r\n   * Return an object containing parameters compatible with Polly.synthesizeSpeech.\r\n   *\r\n   * @private\r\n   *\r\n   * @returns {Object}\r\n   */\r\n  _getConfig() {\r\n    // Make sure parameters have been validated\r\n    if (this.constructor.isReady && !this._isValidated) {\r\n      this._validate();\r\n    }\r\n\r\n    // Create a config object compatible with Polly\r\n    return {\r\n      Engine: this._engine,\r\n      OutputFormat: this._audioFormat,\r\n      SampleRate: this._sampleRate,\r\n      VoiceId: this._voice,\r\n      LanguageCode: this.constructor.POLLY_LANGUAGES[this._language],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Update Polly parameters with options from a given config. All stored speeches\r\n   * will be updated to use the new parameters, unless the speech text is contained\r\n   * in the 'skipSpeeches' parameter.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} config - Polly parameter options to overwrite.\r\n   * @param {Array.<string>} skipSpeeches - Text of any speeches that should not\r\n   * have parameters updated.\r\n   *\r\n   * @returns {Object}\r\n   */\r\n  _updateConfig(config, skipSpeeches = []) {\r\n    const currentConfig = this._getConfig();\r\n    if (!config) {\r\n      return currentConfig;\r\n    }\r\n\r\n    this._isValidated = false;\r\n    const currentConfigStr = JSON.stringify(currentConfig);\r\n\r\n    // Update options\r\n    if (config.Engine) {\r\n      this._engine = config.Engine;\r\n    }\r\n\r\n    if (config.audioFormat) {\r\n      this._audioFormat = config.audioFormat;\r\n    }\r\n\r\n    if (config.SampleRate) {\r\n      this._sampleRate = config.SampleRate;\r\n    }\r\n\r\n    if (config.VoiceId) {\r\n      this._voice = config.VoiceId;\r\n    }\r\n\r\n    if (config.Language) {\r\n      this._language = config.Language;\r\n    }\r\n\r\n    // Validate the config\r\n    const validConfig = this._getConfig();\r\n\r\n    // Exit if nothing has changed\r\n    const configStr = JSON.stringify(validConfig);\r\n    if (currentConfigStr === configStr) {\r\n      this._isValidated = true;\r\n      return validConfig;\r\n    }\r\n\r\n    // Update all cached configs\r\n    Object.entries(this._speechCache).forEach(([text, speech]) => {\r\n      // Check if this is a skipped speech\r\n      if (skipSpeeches.includes(text)) {\r\n        return;\r\n      }\r\n\r\n      const speechConfigStr = JSON.stringify(speech.config);\r\n\r\n      // Update the speech with new parameters\r\n      if (speechConfigStr !== configStr) {\r\n        this._updateSpeech(text, validConfig);\r\n      }\r\n    });\r\n\r\n    return validConfig;\r\n  }\r\n\r\n  /**\r\n   * Update an existing speech, or add a new speech with new Polly parameters with\r\n   * options from a given config.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - The text of the speech to update.\r\n   * @param {Object} config - Polly parameter options to update.\r\n   * @param {boolean} [force=false] - Whether to force the speech to be updated\r\n   * if no parameters have changes.\r\n   *\r\n   * @returns {AbstractSpeech}\r\n   */\r\n  _updateSpeech(text, config, force = false) {\r\n    const speech = this._speechCache[text] || {};\r\n    // Exit if nothing has changed and force is false\r\n    if (\r\n      !force &&\r\n      config !== undefined &&\r\n      speech.config &&\r\n      JSON.stringify(config) === JSON.stringify(speech.config)\r\n    ) {\r\n      return speech;\r\n    }\r\n\r\n    // Create separate parameters for audio and speechmark generation\r\n    const audioParams = {\r\n      ...config,\r\n      Text: text,\r\n      TextType: 'ssml',\r\n    };\r\n    const speechmarkParams = {\r\n      ...audioParams,\r\n      OutputFormat: 'json',\r\n      SpeechMarkTypes: speechmarkTypes,\r\n    };\r\n\r\n    // Generate audio and speechmarks\r\n    speech.config = config;\r\n    speech.promise = Promise.all([\r\n      this._synthesizeSpeechmarks(speechmarkParams),\r\n      this._synthesizeAudio(audioParams),\r\n    ]).then(results => {\r\n      return this._createSpeech(text, ...results);\r\n    });\r\n    this._speechCache[text] = speech;\r\n\r\n    return speech;\r\n  }\r\n\r\n  /**\r\n   * Create a new Speech object for the speaker.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {TextToSpeech} speaker - The TextToSpeech instance that will own the speech.\r\n   * @param {string} text - Text of the speech.\r\n   * @param {Object} speechmarks - Speechmarks for the speech.\r\n   * @param {Object} audioConfig - Audio for the speech.\r\n   *\r\n   * @returns {AbstractSpeech}\r\n   */\r\n  _createSpeech(text, speechmarks, audioConfig) {\r\n    return new Speech(this, text, speechmarks, audioConfig);\r\n  }\r\n\r\n  /**\r\n   * Create presigned URL of speech audio for the given speech text.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} params - Parameters object compatible with Polly.synthesizeSpeech.\r\n   *\r\n   * @returns {Deferred} Resolves with an object containing the audio URL.\r\n   */\r\n  _synthesizeAudio(params) {\r\n    return new Deferred((resolve, reject) => {\r\n      this.constructor.SERVICES.presigner.getSynthesizeSpeechUrl(\r\n        params,\r\n        function(error, url) {\r\n          if (!error) {\r\n            resolve({url});\r\n          } else {\r\n            reject(error);\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Retrieves and parses speechmarks for the given speech text.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} params - Parameters object compatible with Polly.synthesizeSpeech.\r\n   *\r\n   * @returns {Deferred} Resolves with an array of speechmark objects\r\n   */\r\n  _synthesizeSpeechmarks(params) {\r\n    return this.constructor.SERVICES.polly\r\n      .synthesizeSpeech(params)\r\n      .promise()\r\n      .then(result => {\r\n        // Convert charcodes to string\r\n        const jsonString = JSON.stringify(result.AudioStream);\r\n        const json = JSON.parse(jsonString);\r\n        const dataStr = json.data.map(c => String.fromCharCode(c)).join('');\r\n\r\n        const markTypes = {\r\n          sentence: [],\r\n          word: [],\r\n          viseme: [],\r\n          ssml: [],\r\n        };\r\n        const endMarkTypes = {\r\n          sentence: null,\r\n          word: null,\r\n          viseme: null,\r\n          ssml: null,\r\n        };\r\n\r\n        // Split by enclosing {} to create speechmark objects\r\n        const speechMarks = [...dataStr.matchAll(/\\{.*?\\}(?=\\n|$)/gm)].map(\r\n          match => {\r\n            const mark = JSON.parse(match[0]);\r\n\r\n            // Set the duration of the last speechmark stored matching this one's type\r\n            const numMarks = markTypes[mark.type].length;\r\n            if (numMarks > 0) {\r\n              const lastMark = markTypes[mark.type][numMarks - 1];\r\n              lastMark.duration = mark.time - lastMark.time;\r\n            }\r\n\r\n            markTypes[mark.type].push(mark);\r\n            endMarkTypes[mark.type] = mark;\r\n            return mark;\r\n          }\r\n        );\r\n\r\n        // Find the time of the latest speechmark\r\n        const endTimes = [];\r\n        if (endMarkTypes.sentence) {\r\n          endTimes.push(endMarkTypes.sentence.time);\r\n        }\r\n        if (endMarkTypes.word) {\r\n          endTimes.push(endMarkTypes.word.time);\r\n        }\r\n        if (endMarkTypes.viseme) {\r\n          endTimes.push(endMarkTypes.viseme.time);\r\n        }\r\n        if (endMarkTypes.ssml) {\r\n          endTimes.push(endMarkTypes.ssml.time);\r\n        }\r\n        const endTime = Math.max(...endTimes);\r\n\r\n        // Calculate duration for the ending speechMarks of each type\r\n        if (endMarkTypes.sentence) {\r\n          endMarkTypes.sentence.duration = Math.max(\r\n            this._minEndMarkDuration,\r\n            endTime - endMarkTypes.sentence.time\r\n          );\r\n        }\r\n        if (endMarkTypes.word) {\r\n          endMarkTypes.word.duration = Math.max(\r\n            this._minEndMarkDuration,\r\n            endTime - endMarkTypes.word.time\r\n          );\r\n        }\r\n        if (endMarkTypes.viseme) {\r\n          endMarkTypes.viseme.duration = Math.max(\r\n            this._minEndMarkDuration,\r\n            endTime - endMarkTypes.viseme.time\r\n          );\r\n        }\r\n        if (endMarkTypes.ssml) {\r\n          endMarkTypes.ssml.duration = Math.max(\r\n            this._minEndMarkDuration,\r\n            endTime - endMarkTypes.ssml.time\r\n          );\r\n        }\r\n\r\n        return speechMarks;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Returns a Speech object that has the given text.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - The text content of the Speech.\r\n   * @param {Object=} config - Options to update the Speech with.\r\n   *\r\n   * @returns {Deferred} Resolves with Speech or null;\r\n   */\r\n  _getSpeech(text, config) {\r\n    // Make sure AWS services exist\r\n    if (!this.constructor.isReady) {\r\n      const e = 'AWS services have not been initialized.';\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Make sure its possible to generate speeches\r\n    if (!text) {\r\n      const e = 'Cannot play a speech with no text.';\r\n      return Deferred.reject(e);\r\n    }\r\n\r\n    // Update the speech with options\r\n    text = TextToSpeechUtils.validateText(text);\r\n    config = this._updateConfig(config, text);\r\n\r\n    return this._updateSpeech(text, config).promise;\r\n  }\r\n\r\n  /**\r\n   * Adds a namespace to the host with the name of the feature to contain properties\r\n   * and methods from the feature that users of the host need access to.\r\n   *\r\n   * @see TextToSpeechFeature\r\n   */\r\n  installApi() {\r\n    /**\r\n     * @inner\r\n     * @namespace TextToSpeechFeature\r\n     */\r\n    const api = super.installApi();\r\n\r\n    Object.assign(api, {\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#play\r\n       */\r\n      play: this.play.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#pause\r\n       */\r\n      pause: this.pause.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#resume\r\n       */\r\n      resume: this.resume.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#stop\r\n       */\r\n      stop: this.stop.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#getVolume\r\n       */\r\n      getVolume: this.getVolume.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#setVolume\r\n       */\r\n      setVolume: this.setVolume.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#pauseVolume\r\n       */\r\n      pauseVolume: this.pauseVolume.bind(this),\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @method\r\n       * @see AbstractTextToSpeechFeature#resumeVolume\r\n       */\r\n      resumeVolume: this.resumeVolume.bind(this),\r\n    });\r\n\r\n    Object.defineProperties(api, {\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @see AbstractTextToSpeechFeature#speechmarkOffset\r\n       */\r\n      speechmarkOffset: {\r\n        get: () => this.speechmarkOffset,\r\n        set: offset => {\r\n          this.speechmarkOffset = offset;\r\n        },\r\n      },\r\n    });\r\n\r\n    return api;\r\n  }\r\n\r\n  /**\r\n   * Gets and sets the volume used for all audio clips played by the speaker.\r\n   *\r\n   * @type {number}\r\n   */\r\n  set volume(volume) {\r\n    this._volume = MathUtils.clamp(volume);\r\n  }\r\n\r\n  get volume() {\r\n    return this._volume;\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the speaker's volume value is currently being tweened.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get volumePending() {\r\n    return this._promises.volume && this._promises.volume.pending;\r\n  }\r\n\r\n  /**\r\n   * Gets the volume used for all audio clips played by the speaker.\r\n   *\r\n   * @returns {number}\r\n   */\r\n  getVolume() {\r\n    return this.volume;\r\n  }\r\n\r\n  /**\r\n   * Updates the volume used for all audio clips played by the speaker over time.\r\n   *\r\n   * @param {number} volume - Target volume value.\r\n   * @param {number} [seconds=0] - Amount of time it will take to reach the target\r\n   * volume.\r\n   * @param {Function=} easingFn - Easing function used for interpolation.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  setVolume(volume, seconds = 0, easingFn) {\r\n    if (this.volumePending) {\r\n      this._promises.volume.cancel();\r\n    }\r\n\r\n    volume = MathUtils.clamp(volume);\r\n    this._promises.volume = AnimationUtils.interpolateProperty(\r\n      this,\r\n      'volume',\r\n      volume,\r\n      {seconds, easingFn}\r\n    );\r\n\r\n    return this._promises.volume;\r\n  }\r\n\r\n  /**\r\n   * Pause interpolation happening on the speaker's volume property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  pauseVolume() {\r\n    this._volumePaused = true;\r\n\r\n    return this.volumePending;\r\n  }\r\n\r\n  /**\r\n   * Resume any interpolation happening on the speaker's volume property.\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  resumeVolume() {\r\n    this._volumePaused = false;\r\n\r\n    return this.volumePending;\r\n  }\r\n\r\n  /**\r\n   * Update the currently playing speech.\r\n   *\r\n   * @param {number} deltaTime - Time since the last update.\r\n   */\r\n  update(deltaTime) {\r\n    if (!this._volumePaused) {\r\n      this._promises.volume.execute(deltaTime);\r\n    }\r\n\r\n    if (this._currentSpeech && this._currentSpeech.playing) {\r\n      this._currentSpeech.volume = this._volume;\r\n      this._currentSpeech.update(this._host.now);\r\n      super.update(deltaTime);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the current speech to a new asset and update the speech's speechmark\r\n   * offset value to match that of the feature.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {AbstractSpeech} speech - Speech to set as current.\r\n   */\r\n  _setCurrentSpeech(speech) {\r\n    speech.speechmarkOffset = this._speechmarkOffset;\r\n    this._currentSpeech = speech;\r\n  }\r\n\r\n  /**\r\n   * Create a promise that will play/resume a speech with the given text after\r\n   * the audio context attempts to resume and speech audio is retrieved from Polly.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - The text of the new speech to play.\r\n   * @param {Object=} config - Optional parameters for the speech.\r\n   * @param {string} [playMethod = 'play'] - Method to execute on the resulting\r\n   * Speech object. Valid options are 'play' and 'resume'.\r\n   */\r\n  _startSpeech(text, config, playMethod = 'play') {\r\n    // If no text is provided, try to use the current speech\r\n    if (text === undefined && playMethod === 'resume' && this._currentSpeech) {\r\n      text = this._currentSpeech.text;\r\n    }\r\n\r\n    const currentPromise = this._currentPromise || {\r\n      play: new Deferred(\r\n        undefined,\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        },\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        },\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        }\r\n      ),\r\n      speech: new Deferred(),\r\n    };\r\n    this._currentPromise = currentPromise;\r\n\r\n    this._getSpeech(text, config)\r\n      .then(speech => {\r\n        // Exit if the promise is no longer pending because of user interaction\r\n        if (!currentPromise.play.pending) {\r\n          return;\r\n        } else if (this._currentPromise !== currentPromise) {\r\n          // Cancel if another call to play has already been made\r\n          currentPromise.play.cancel();\r\n          return;\r\n        }\r\n\r\n        // Reset current speech when the speech ends\r\n        const onFinish = () => {\r\n          this._currentSpeech = null;\r\n          this._currentPromise = null;\r\n        };\r\n\r\n        // Cancel the currently playing speech\r\n        if (this._currentSpeech && this._currentSpeech.playing) {\r\n          if (playMethod === 'play') {\r\n            this._currentSpeech.cancel();\r\n          } else if (\r\n            playMethod === 'resume' &&\r\n            this._currentSpeech.audio !== speech.audio\r\n          ) {\r\n            this._currentSpeech.cancel();\r\n          }\r\n        }\r\n\r\n        this._setCurrentSpeech(speech);\r\n\r\n        // Play the speech\r\n        currentPromise.speech = speech[playMethod](\r\n          this._host.now,\r\n          onFinish,\r\n          onFinish,\r\n          onFinish\r\n        );\r\n        currentPromise.speech\r\n          .then(() => {\r\n            if (currentPromise.speech.resolved) {\r\n              currentPromise.play.resolve();\r\n            } else {\r\n              currentPromise.play.cancel();\r\n            }\r\n          })\r\n          .catch(error => {\r\n            currentPromise.play.reject(error);\r\n          });\r\n      })\r\n      .catch(e => {\r\n        e = `Cannot ${playMethod} speech ${text} on host ${this.host.id}. ${e}`;\r\n        currentPromise.play.reject(e);\r\n      });\r\n\r\n    return currentPromise.play;\r\n  }\r\n\r\n  /**\r\n   * Stop any speeches currently playing and play a new speech from the beginning.\r\n   *\r\n   * @param {string} text - The text of the new speech to play.\r\n   * @param {Object=} config - Optional parameters for the speech.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  play(text, config) {\r\n    return this._startSpeech(text, config, 'play');\r\n  }\r\n\r\n  /**\r\n   * If a speech is currently playing, pause it at the current time.\r\n   */\r\n  pause() {\r\n    if (this._currentSpeech && this._currentSpeech.playing) {\r\n      this._currentSpeech.pause(this._host.now);\r\n    } else {\r\n      console.warn(\r\n        `Cannot pause speech on host ${this.host.id}. No speech is currently playing`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop any speeches currently playing and resume a new speech from the current\r\n   * time.\r\n   *\r\n   * @param {string=} text - The text of the new speech to play. If undefined and\r\n   * there is a current speech that is paused, the current speech will be resumed.\r\n   * @param {Object=} config - Optional parameters for the speech.\r\n   *\r\n   * @returns {Deferred}\r\n   */\r\n  resume(text, config) {\r\n    return this._startSpeech(text, config, 'resume');\r\n  }\r\n\r\n  /**\r\n   * If a speech is currently playing, stop playback and reset time.\r\n   */\r\n  stop() {\r\n    if (this._currentSpeech && this._currentSpeech.playing) {\r\n      this._currentSpeech.stop();\r\n      this._currentSpeech = null;\r\n    } else {\r\n      console.warn(\r\n        `Cannot stop speech on host ${this.host.id}. No speech is currently playing.`\r\n      );\r\n    }\r\n  }\r\n\r\n  discard() {\r\n    if (this._currentSpeech && this._currentSpeech.playing) {\r\n      this._currentSpeech.stop();\r\n    }\r\n\r\n    delete this._speechCache;\r\n\r\n    super.discard();\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns The useragent string for the engine you are using, e.g. 'babylonjs/5.1.0'\r\n   */\r\n  getEngineUserAgentString() {\r\n    return 'UnknownEngine';\r\n  }\r\n}\r\n\r\nObject.defineProperties(AbstractTextToSpeechFeature, {\r\n  AWS_VERSION: {\r\n    get: () => awsVersion,\r\n  },\r\n  POLLY_MIN_NEURAL_VERSION: {\r\n    value: '2.503',\r\n    writable: false,\r\n  },\r\n  POLLY_DEFAULTS: {\r\n    value: {\r\n      Engine: 'standard',\r\n      LexiconNames: [],\r\n      OutputFormat: 'mp3',\r\n      SampleRate: '22050',\r\n      Text: '',\r\n      TextType: 'ssml',\r\n      VoiceId: 'Amy',\r\n      LanguageCode: 'en-GB',\r\n      LanguageName: 'British English',\r\n    },\r\n    writable: false,\r\n  },\r\n  POLLY_VOICES: {\r\n    value: [],\r\n    writable: false,\r\n  },\r\n  POLLY_LANGUAGES: {\r\n    value: {},\r\n    writable: false,\r\n  },\r\n  POLLY_LANGUAGE_CODES: {\r\n    value: {},\r\n    writable: false,\r\n  },\r\n  _isReady: {\r\n    value: false,\r\n    writable: true,\r\n  },\r\n  EVENTS: {\r\n    value: {\r\n      ...Object.getPrototypeOf(AbstractTextToSpeechFeature).EVENTS,\r\n      ready: 'onReadyEvent',\r\n      play: 'onPlayEvent',\r\n      pause: 'onPauseEvent',\r\n      resume: 'onResumeEvent',\r\n      interrupt: 'onInterruptEvent',\r\n      stop: 'onStopEvent',\r\n      sentence: 'onSentenceEvent',\r\n      word: 'onWordEvent',\r\n      viseme: 'onVisemeEvent',\r\n      ssml: 'onSsmlEvent',\r\n    },\r\n  },\r\n  SERVICES: {\r\n    value: {\r\n      ...Object.getPrototypeOf(AbstractTextToSpeechFeature).SERVICES,\r\n      polly: undefined,\r\n      presigner: undefined,\r\n    },\r\n  },\r\n});\r\n\r\nexport default AbstractTextToSpeechFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Messenger from '../Messenger';\r\nimport Utils from '../Utils';\r\nimport LexUtils from './LexUtils';\r\n\r\n/**\r\n * The AWS LexRuntime service object.\r\n * @external LexRuntime\r\n * @see https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/LexRuntime.html\r\n */\r\n\r\n/**\r\n * Feature class for interacting with Lex bot which the response from lex bot can be used for speech or other purpose.\r\n *\r\n * @extends core/Messenger\r\n * @alias core/LexFeature\r\n *\r\n * @property {Object} LEX_DEFAULTS - Default values to use with calls to {@link external:LexRuntime}.\r\n * @property {string} [LEX_DEFAULTS.SampleRate='16000']\r\n * @property {Object} EVENTS - Built-in messages that the feature emits.\r\n * @property {string} [EVENTS.lexResponseReady=lexResponseReady] - Message that is emitted after\r\n * receiving lex response for the input sent\r\n * @property {string} [EVENTS.micReady=micReady] - Message that is emitted after\r\n * microphone is ready to use\r\n * @property {string} [EVENTS.recordBegin=recordBegin] - Message that is emitted after\r\n * microphone starts recording\r\n * @property {string} [EVENTS.recordEnd=recordEnd] - Message that is emitted after\r\n * microphone ends recording\r\n */\r\nclass LexFeature extends Messenger {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {external:LexRuntime} lexRuntime - The LexRuntime service that is used\r\n   * to interact with lex bot. Will be undefined until [initializeService]{@link LexFeature.initializeService}\r\n   * has been successfully executed\r\n   * @param {Object=} options - Options that will be used to interact with lex bot.\r\n   * @param {string=} options.botName - The name of the lex bot.\r\n   * @param {string=} options.botAlias - The alias of the lex bot.\r\n   * @param {string=} options.userId - The userId used to keep track of the session with lex bot.\r\n   */\r\n  constructor(\r\n    lexRuntime,\r\n    options = {\r\n      botName: undefined,\r\n      botAlias: undefined,\r\n      userId: undefined,\r\n    }\r\n  ) {\r\n    super();\r\n\r\n    if (!lexRuntime) {\r\n      throw Error('Cannot initialize Lex feature. LexRuntime must be defined');\r\n    }\r\n    if (lexRuntime.config) {\r\n      lexRuntime.config.customUserAgent = Utils.addCoreUserAgentComponent(\r\n        lexRuntime.config.customUserAgent\r\n      );\r\n      lexRuntime.config.customUserAgent = Utils.addStringOnlyOnce(\r\n        lexRuntime.config.customUserAgent,\r\n        this.getEngineUserAgentString()\r\n      );\r\n    }\r\n    this._lexRuntime = lexRuntime;\r\n\r\n    this._botName = options.botName;\r\n    this._botAlias = options.botAlias;\r\n    this._userId = options.userId ? options.userId : Utils.createId();\r\n\r\n    //Microphone related fields\r\n    this._micReady = false;\r\n    this._recording = false;\r\n    this._recLength = 0;\r\n    this._recBuffer = [];\r\n    this._setupAudioContext();\r\n  }\r\n\r\n  /**\r\n   * Setup audio context which will be used for setting up microphone related audio node\r\n   */\r\n  _setupAudioContext() {\r\n    this._audioContext = new AudioContext();\r\n  }\r\n\r\n  /**\r\n   * Sends audio input to Amazon Lex.\r\n   *\r\n   * @param {TypedArray} inputAudio - TypedArray view of the input audio buffer\r\n   * @param {Number} sourceSampleRate - Sample rate of the input audio\r\n   * @param {Object=} config - Optional config for overriding lex bot info\r\n   * @param {string=} config.botName - The name of the lex bot.\r\n   * @param {string=} config.botAlias - The alias of the lex bot.\r\n   * @param {string=} config.userId - The userId used to keep track of the session with lex bot.\r\n   *\r\n   * @returns {Promise} A Promise-like object that resolves to a Lex response object.\r\n   * For details on the structure of that response object see: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/LexRuntime.html#postContent-property\r\n   */\r\n  _processWithAudio(inputAudio, sourceSampleRate, config = {}) {\r\n    const audio = this._prepareAudio(inputAudio, sourceSampleRate);\r\n    return this._process('audio/x-l16; rate=16000', audio, config);\r\n  }\r\n\r\n  /**\r\n   * Sends text user input to Amazon Lex.\r\n   *\r\n   * @param {String} inputText - Text to send to lex bot\r\n   * @param {Object=} config - Optional config for overriding lex bot info\r\n   * @param {string=} config.botName - The name of the lex bot.\r\n   * @param {string=} config.botAlias - The alias of the lex bot.\r\n   * @param {string=} config.userId - The userId used to keep track of the session with lex bot.\r\n   *\r\n   * @returns {Promise} A Promise-like object that resolves to a Lex response object.\r\n   * For details on the structure of that response object see: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/LexRuntime.html#postContent-property\r\n   */\r\n  processWithText(inputText, config = {}) {\r\n    return this._process('text/plain; charset=utf-8', inputText, config);\r\n  }\r\n\r\n  _process(contentType, inputStream, config) {\r\n    const settings = this._validateConfig(config);\r\n    const lexSettings = {\r\n      botName: settings.botName,\r\n      botAlias: settings.botAlias,\r\n      contentType,\r\n      inputStream,\r\n      userId: settings.userId,\r\n    };\r\n    return new Promise((resolve, reject) => {\r\n      this._lexRuntime.postContent(lexSettings, (error, data) => {\r\n        if (error) {\r\n          return reject(error);\r\n        }\r\n        return resolve(data);\r\n      });\r\n    })\r\n      .then(data => {\r\n        this.emit(this.constructor.EVENTS.lexResponseReady, data);\r\n        return data;\r\n      })\r\n      .catch(error => {\r\n        const errorMessage = `Error happened during voice recording: ${error}. Please check whether your speech is more than 15s.`;\r\n        console.error(errorMessage);\r\n        throw new Error(errorMessage);\r\n      });\r\n  }\r\n\r\n  _validateConfig(config) {\r\n    const settings = {};\r\n\r\n    settings.botName = config.botName ? config.botName : this._botName;\r\n    settings.botAlias = config.botAlias ? config.botAlias : this._botAlias;\r\n    settings.userId = config.userId ? config.userId : this._userId;\r\n\r\n    if (!settings.botName || !settings.botAlias || !settings.userId) {\r\n      throw new Error(\r\n        'Cannot process lex request. All arguments must be defined.'\r\n      );\r\n    }\r\n\r\n    return settings;\r\n  }\r\n\r\n  _prepareAudio(audioBuffer, sourceSampleRate) {\r\n    const downsampledAudio = LexUtils.downsampleAudio(\r\n      audioBuffer,\r\n      sourceSampleRate,\r\n      this.constructor.LEX_DEFAULTS.SampleRate\r\n    );\r\n    const encodedAudio = LexUtils.encodeWAV(\r\n      downsampledAudio,\r\n      this.constructor.LEX_DEFAULTS.SampleRate\r\n    );\r\n\r\n    return new Blob([encodedAudio], {type: 'application/octet-stream'});\r\n  }\r\n\r\n  /**\r\n   * Async function to setup microphone recorder which will get user permission for accessing microphone\r\n   * This method must be called before attempting to record voice input with the\r\n   * beginVoiceRecording() method. Expect an error to be thrown if the user has\r\n   * chosen to block microphone access.\r\n   *\r\n   * @throws {DOMException} See the documentation for\r\n   * [MediaDevices.getUserMedia()](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia).\r\n   * The most likely error to expect will be the \"NotAllowed\" error indicating\r\n   * the user has denied access to the microphone.\r\n   */\r\n  async enableMicInput() {\r\n    const stream = await navigator.mediaDevices.getUserMedia({\r\n      audio: true,\r\n      video: false,\r\n    });\r\n    const source = this._audioContext.createMediaStreamSource(stream);\r\n    //TODO: createScriptProcessor is deprecated which should be replaced\r\n    const node = this._audioContext.createScriptProcessor(4096, 1, 1);\r\n\r\n    node.onaudioprocess = e => {\r\n      if (!this._recording) return;\r\n\r\n      const buffer = e.inputBuffer.getChannelData(0);\r\n      this._recBuffer.push(new Float32Array(buffer));\r\n      this._recLength += buffer.length;\r\n    };\r\n\r\n    source.connect(node);\r\n    node.connect(this._audioContext.destination);\r\n\r\n    this.emit(this.constructor.EVENTS.micReady);\r\n    this._micReady = true;\r\n  }\r\n\r\n  /**\r\n   * Begin microphone recording. This function will also try to resume audioContext so that\r\n   * it's suggested to call this function after a user interaction\r\n   */\r\n  beginVoiceRecording() {\r\n    if (!this._micReady) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      this._audioContext.state === 'suspended' ||\r\n      this._audioContext.state === 'interrupted'\r\n    ) {\r\n      this._audioContext.resume();\r\n    }\r\n    this._recLength = 0;\r\n    this._recBuffer = [];\r\n    this._recording = true;\r\n\r\n    this.emit(this.constructor.EVENTS.recordBegin);\r\n  }\r\n\r\n  /**\r\n   * Stop microphone recording and send recorded audio data to lex.\r\n   *\r\n   * @returns {Promise} A Promise-like object that resolves to a Lex response object.\r\n   * For details on the structure of that response object see: https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/LexRuntime.html#postContent-property\r\n   */\r\n  endVoiceRecording() {\r\n    if (!this._recording) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    this._recording = false;\r\n\r\n    const result = new Float32Array(this._recLength);\r\n    let offset = 0;\r\n    for (let i = 0; i < this._recBuffer.length; i++) {\r\n      result.set(this._recBuffer[i], offset);\r\n      offset += this._recBuffer[i].length;\r\n    }\r\n\r\n    this.emit(this.constructor.EVENTS.recordEnd);\r\n    return this._processWithAudio(result, this._audioContext.sampleRate);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns The useragent string for the engine you are using, e.g. 'babylonjs/5.1.0'\r\n   */\r\n  getEngineUserAgentString() {\r\n    return 'UnknownEngine';\r\n  }\r\n}\r\n\r\nObject.defineProperties(LexFeature, {\r\n  LEX_DEFAULTS: {\r\n    value: {\r\n      SampleRate: '16000',\r\n    },\r\n    writable: false,\r\n  },\r\n  EVENTS: {\r\n    value: {\r\n      ...Object.getPrototypeOf(LexFeature).EVENTS,\r\n      lexResponseReady: 'lexResponseReady',\r\n      micReady: 'micReady',\r\n      recordBegin: 'recordBegin',\r\n      recordEnd: 'recordEnd',\r\n    },\r\n  },\r\n});\r\n\r\nexport default LexFeature;\r\n","/* eslint-disable no-underscore-dangle */\r\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * A collection of useful lex related functions.\r\n *\r\n * @hideconstructor\r\n */\r\nclass LexUtils {\r\n  /**\r\n   * Downsamples the audio to a target sample rate.\r\n   *\r\n   * Inspired by the following blog post from the Lex team:\r\n   * https://aws.amazon.com/blogs/machine-learning/capturing-voice-input-in-a-browser/\r\n   *\r\n   * @param {Float32Array} buffer - Input audio buffer\r\n   * @param {float} sourceSampleRate - Sample rate of the input audio buffer\r\n   * @param {float} targetSampleRate - Sample rate to try to convert to\r\n   *\r\n   * @return {Float32Array} Downsampled audio buffer\r\n   */\r\n  static downsampleAudio(buffer, sourceSampleRate, targetSampleRate) {\r\n    if (!buffer || !buffer.length) {\r\n      return;\r\n    }\r\n\r\n    if (sourceSampleRate === targetSampleRate) {\r\n      return buffer;\r\n    }\r\n\r\n    if (sourceSampleRate < targetSampleRate) {\r\n      throw Error(\r\n        `Input Sample rate ${sourceSampleRate} is less than target sample rate ${targetSampleRate}.`\r\n      );\r\n    }\r\n\r\n    const bufferLength = buffer.length;\r\n    const sampleRateRatio = sourceSampleRate / targetSampleRate;\r\n    const newLength = Math.round(bufferLength / sampleRateRatio);\r\n\r\n    const downsampledBuffer = new Float32Array(newLength);\r\n\r\n    let position = 0;\r\n    let bufferOffset = 0;\r\n    while (position < newLength) {\r\n      const nextBufferOffset = Math.round((position + 1) * sampleRateRatio);\r\n\r\n      let accumulator = 0;\r\n      let count = 0;\r\n      for (\r\n        let i = bufferOffset;\r\n        i < nextBufferOffset && i < bufferLength;\r\n        i++\r\n      ) {\r\n        accumulator += buffer[i];\r\n        count++;\r\n      }\r\n\r\n      downsampledBuffer[position] = accumulator / count;\r\n      position++;\r\n      bufferOffset = nextBufferOffset;\r\n    }\r\n\r\n    return downsampledBuffer;\r\n  }\r\n\r\n  /**\r\n   * Converts audio data to WAV.\r\n   *\r\n   * Inspired by the following blog post from the Lex team:\r\n   * https://aws.amazon.com/blogs/machine-learning/capturing-voice-input-in-a-browser/\r\n   *\r\n   * @param {Float32Array} buffer - Input audio buffer\r\n   * @param {float} targetSampleRate - Sample rate for the output audio\r\n   *\r\n   * @return {DataView} Converted audio data\r\n   */\r\n  static encodeWAV(buffer, targetSampleRate) {\r\n    function _writeString(view, offset, string) {\r\n      for (let i = 0; i < string.length; i++) {\r\n        view.setUint8(offset + i, string.charCodeAt(i));\r\n      }\r\n    }\r\n    function _floatTo16BitPCM(view, offset, input) {\r\n      for (let i = 0; i < input.length; i++, offset += 2) {\r\n        const s = Math.max(-1, Math.min(1, input[i]));\r\n        view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\r\n      }\r\n    }\r\n\r\n    if (!buffer) {\r\n      return;\r\n    }\r\n\r\n    //Insert WAV format related info at the beginning of the buffer up to offset 44\r\n    const encodedBuffer = new ArrayBuffer(44 + buffer.length * 2);\r\n    const view = new DataView(encodedBuffer);\r\n\r\n    _writeString(view, 0, 'RIFF');\r\n    view.setUint32(4, 32 + buffer.length * 2, true);\r\n    _writeString(view, 8, 'WAVE');\r\n    _writeString(view, 12, 'fmt ');\r\n    view.setUint32(16, 16, true);\r\n    view.setUint16(20, 1, true);\r\n    view.setUint16(22, 1, true);\r\n    view.setUint32(24, targetSampleRate, true);\r\n    view.setUint32(28, targetSampleRate * 2, true);\r\n    view.setUint16(32, 2, true);\r\n    view.setUint16(34, 16, true);\r\n    _writeString(view, 36, 'data');\r\n    view.setUint32(40, buffer.length * 2, true);\r\n    _floatTo16BitPCM(view, 44, buffer);\r\n\r\n    return view;\r\n  }\r\n}\r\n\r\nexport default LexUtils;\r\n","/* eslint-disable no-unused-vars */\r\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/* eslint-disable max-classes-per-file */\r\n/* eslint-disable no-empty */\r\nimport TextToSpeechFeatureDependentInterface from './TextToSpeechFeatureDependentInterface';\r\n\r\n/**\r\n * Class factory interface for that registers callback method when a ssml speechmark event is emitted.\r\n *\r\n * @interface\r\n * @extends TextToSpeechFeatureDependentInterface\r\n */\r\nclass SSMLSpeechmarkInterface extends TextToSpeechFeatureDependentInterface {\r\n  /**\r\n   * When ssml events are caught, this will try to parse the speech mark value and execute any function which meets criteria defined in the value.\r\n   * Speech mark value will be treated as stringified json format containing required feature name, function name and argument array to pass in.\r\n   * Example speech mark value might look like: '{\"feature\":\"GestureFeature\", \"method\":\"switchToGesture\", \"args\":[\"genricA\", 0.5]}'\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} event - Event data passed from the speech.\r\n   * @param {Object} event.mark - Speechmark object.\r\n   */\r\n  _onSsml({mark}) {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link SSMLSpeechmarkInterface}\r\n   * and extends a specified base class.\r\n   *\r\n   * @param {Class} BaseClass - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link SSMLSpeechmarkInterface}.\r\n   */\r\n  static Mixin(BaseClass) {\r\n    const ParentClass = TextToSpeechFeatureDependentInterface.Mixin(BaseClass);\r\n    const SSMLSpeechMarkMixin = class extends ParentClass {\r\n      _onSsml({mark}) {\r\n        try {\r\n          const {feature, method, args} = JSON.parse(mark.value);\r\n          if (this.constructor.name === feature) {\r\n            const callback = this[method];\r\n            if (callback && typeof callback === 'function') {\r\n              callback.apply(this, args);\r\n            } else {\r\n              console.warn(\r\n                `Function ${method} does not exist within feature ${feature}`\r\n              );\r\n            }\r\n          }\r\n        } catch (e) {}\r\n      }\r\n    };\r\n\r\n    return SSMLSpeechMarkMixin;\r\n  }\r\n}\r\n\r\nexport default SSMLSpeechmarkInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport AbstractSpeech from './AbstractSpeech';\r\n\r\n/**\r\n * The built-in class for asynchronous Promises.\r\n * @external Audio\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement/Audio\r\n */\r\n\r\n/**\r\n * @extends AbstractSpeech\r\n * @alias core/Speech\r\n */\r\nclass Speech extends AbstractSpeech {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {TextToSpeech} speaker - The owner of the Speech that will emit speechmark\r\n   * messages.\r\n   * @param {string} text - The text of the speech.\r\n   * @param {Array.<Object>} [speechmarks=[]] - An array of speechmark objects representing\r\n   * the text and timing of the speech.\r\n   * @param {Object} audioConfig - Object containing audio and url.\r\n   * @param {external:Audio} audioConfig.audio - Playable audio object.\r\n   */\r\n  constructor(speaker, text, speechmarks = [], audioConfig) {\r\n    super(speaker, text, speechmarks);\r\n    this._audio = audioConfig.audio;\r\n\r\n    // Keep track of whether the audio has finished playing through\r\n    this._audio.onended = () => {\r\n      this._audioFinished = true;\r\n    };\r\n    this._audioFinished = true;\r\n  }\r\n\r\n  _checkFinished() {\r\n    return this._audioFinished && super._checkFinished();\r\n  }\r\n\r\n  /**\r\n   * Gets the playable audio for the speech.\r\n   *\r\n   * @readonly\r\n   * @type {external:Audio}\r\n   */\r\n  get audio() {\r\n    return this._audio;\r\n  }\r\n\r\n  /**\r\n   * Gets the audio volume for the speech.\r\n   *\r\n   * @type {number}\r\n   */\r\n  get volume() {\r\n    return this._audio.volume;\r\n  }\r\n\r\n  /**\r\n   * Sets the audio volume for the speech.\r\n   */\r\n  set volume(volume) {\r\n    this._audio.volume = volume;\r\n  }\r\n\r\n  /**\r\n   * Set the audio's current local time and play it.\r\n   *\r\n   * @private\r\n   */\r\n  _playAudio() {\r\n    if (this._speechmarkOffset < 0) {\r\n      this._audio.currentTime = this._speechmarkOffset;\r\n      setTimeout(() => {\r\n        if (this._playing) {\r\n          this._audio.currentTime =\r\n            (this._localTime + this._speechmarkOffset) / 1000;\r\n          this._audio.play();\r\n        }\r\n      }, -this._speechmarkOffset);\r\n    } else {\r\n      this._audio.currentTime = 0;\r\n      this._audio.play();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pause the audio once it is playable.\r\n   *\r\n   * @private\r\n   */\r\n  _pauseAudio() {\r\n    this._audio.play().then(() => {\r\n      if (!this._playing) {\r\n        this._audio.pause();\r\n      }\r\n    });\r\n  }\r\n\r\n  play(currentTime, onFinish, onError, onInterrupt) {\r\n    this._audioFinished = false;\r\n    this._playAudio();\r\n\r\n    return super.play(currentTime, onFinish, onError, onInterrupt);\r\n  }\r\n\r\n  pause(currentTime) {\r\n    this._pauseAudio();\r\n    super.pause(currentTime);\r\n  }\r\n\r\n  resume(currentTime, onFinish, onError, onInterrupt) {\r\n    this._audioFinished = false;\r\n    this._audio.play();\r\n\r\n    return super.resume(currentTime, onFinish, onError, onInterrupt);\r\n  }\r\n\r\n  cancel() {\r\n    this._pauseAudio();\r\n    super.cancel();\r\n  }\r\n\r\n  stop() {\r\n    this._pauseAudio();\r\n    this._audio.currentTime = 0;\r\n    super.stop();\r\n  }\r\n}\r\n\r\nexport default Speech;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport Speech from './Speech';\r\nimport Deferred from '../Deferred';\r\nimport AbstractTextToSpeechFeature from './AbstractTextToSpeechFeature';\r\n\r\n/**\r\n * @extends AbstractTextToSpeechFeature\r\n * @alias core/TextToSpeechFeature\r\n */\r\nclass TextToSpeechFeature extends AbstractTextToSpeechFeature {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this._enabled = false;\r\n    this._setAudioContext();\r\n    this._observeAudioContext();\r\n  }\r\n\r\n  /**\r\n   * Store the audio context that will be used to ensure audio can be played.\r\n   *\r\n   * @private\r\n   */\r\n  _setAudioContext() {\r\n    this._audioContext = new AudioContext();\r\n  }\r\n\r\n  /**\r\n   * Listen for state changes on the audio context to determine whether the feature\r\n   * is enabled.\r\n   *\r\n   * @private\r\n   */\r\n  _observeAudioContext() {\r\n    if (this._audioContext) {\r\n      this._audioContext.onstatechange = () => {\r\n        if (this._audioContext.state === 'running') {\r\n          this._enabled = true;\r\n        } else {\r\n          this._enabled = false;\r\n          console.warn(\r\n            'The audio context is not running. Speech will not be able to be played until it is resumed. Use the \"TextToSpeechFeature.resumeAudio\" method to try to resume it after a user gesture.'\r\n          );\r\n        }\r\n      };\r\n\r\n      this._audioContext.onstatechange();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create an Audio object of speech audio for the given speech text.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} params - Parameters object compatible with Polly.synthesizeSpeech.\r\n   *\r\n   * @returns {Promise} Resolves with an object containing the audio URL and Audio\r\n   * object.\r\n   */\r\n  _synthesizeAudio(params) {\r\n    return super._synthesizeAudio(params).then(result => {\r\n      const {url} = result;\r\n\r\n      // Create an Audio object that points to the presigned url\r\n      const audio = new Audio(url);\r\n      audio.loop = this.loop;\r\n      audio.crossOrigin = 'anonymous';\r\n      audio.preload = 'auto';\r\n      result.audio = audio;\r\n\r\n      return new Promise(resolve => {\r\n        // Resolve once the minimum amount is loaded\r\n        audio.addEventListener('canplaythrough', () => {\r\n          resolve(result);\r\n        });\r\n\r\n        // Start loading the audio\r\n        document.body.appendChild(audio);\r\n        audio.load();\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a new Speech object for the speaker.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {TextToSpeech} speaker - The TextToSpeech instance that will own the speech.\r\n   * @param {string} text - Text of the speech.\r\n   * @param {Object} speechmarks - Speechmarks for the speech.\r\n   * @param {Object} audioConfig - Audio for the speech.\r\n   *\r\n   * @returns {AbstractSpeech}\r\n   */\r\n  _createSpeech(text, speechmarks, audioConfig) {\r\n    return new Speech(this, text, speechmarks, audioConfig);\r\n  }\r\n\r\n  /**\r\n   * Gets whether or not the audio context is running and speech can be played.\r\n   *\r\n   * @readonly\r\n   * @type {boolean}\r\n   */\r\n  get enabled() {\r\n    return this._enabled;\r\n  }\r\n\r\n  /**\r\n   * Try to resume the audio context. This will be automatically executed each time\r\n   * speech is played or resumed. If using manually, it should be called after a\r\n   * user interaction occurs.\r\n   *\r\n   * @returns {Deferred} - Resolves once the audio context has resumed.\r\n   */\r\n  resumeAudio() {\r\n    const promise = new Deferred((resolve, reject) => {\r\n      this._audioContext\r\n        .resume()\r\n        .then(() => {\r\n          this._enabled = true;\r\n          resolve();\r\n        })\r\n        .catch(e => {\r\n          this._enabled = false;\r\n          reject(e);\r\n        });\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  _startSpeech(text, config, playMethod = 'play') {\r\n    const currentPromise = {\r\n      play: new Deferred(\r\n        undefined,\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        },\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        },\r\n        () => {\r\n          currentPromise.speech.cancel();\r\n        }\r\n      ),\r\n      speech: new Deferred(),\r\n    };\r\n    this._currentPromise = currentPromise;\r\n\r\n    // Try to start the audio context\r\n    this.resumeAudio().then(() => {\r\n      // Exit if the promise is no longer pending because of user interaction\r\n      if (!currentPromise.play.pending) {\r\n        return;\r\n      }\r\n      // Cancel if another call to play has already been made\r\n      else if (this._currentPromise !== currentPromise) {\r\n        currentPromise.play.cancel();\r\n        return;\r\n      }\r\n\r\n      // The audio context is running so the speech can be played\r\n      if (this._enabled) {\r\n        super._startSpeech(text, config, playMethod);\r\n      }\r\n      // Reject if the audio context is not running\r\n      else {\r\n        currentPromise.reject(\r\n          new Error(\r\n            `Cannot ${playMethod} speech on host ${this._host.id}. The audio context is not running. Use the \"TextToSpeechFeature.resumeAudio\" method to try to resume it after a user gesture.`\r\n          )\r\n        );\r\n      }\r\n    });\r\n\r\n    return currentPromise.play;\r\n  }\r\n\r\n  play(text, config) {\r\n    return this._startSpeech(text, config, 'play');\r\n  }\r\n\r\n  resume(text, config) {\r\n    return this._startSpeech(text, config, 'resume');\r\n  }\r\n\r\n  installApi() {\r\n    const api = super.installApi();\r\n\r\n    Object.defineProperties(api, {\r\n      /**\r\n       * @memberof TextToSpeechFeature\r\n       * @instance\r\n       * @see core/TextToSpeechFeature#enabled\r\n       */\r\n      enabled: {\r\n        get: () => this._enabled,\r\n      },\r\n    });\r\n\r\n    return api;\r\n  }\r\n}\r\n\r\nexport default TextToSpeechFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/* eslint-disable max-classes-per-file */\r\nimport FeatureDependentInterface from '../FeatureDependentInterface';\r\n\r\n/**\r\n * Class factory interface for features that are dependent on the TextToSpeechFeature\r\n * being present on the host. Speech events will automatically be listened for once a\r\n * TextToSpeechFeature is added to the host and stopped once it is removed.\r\n *\r\n * @interface\r\n * @extends FeatureDependentInterface\r\n *\r\n * @property {Object} EVENT_DEPENDENCIES - Events that the feature should start/stop\r\n * listening for when a feature of type FeatureName is added/removed from the host.\r\n * @property {Object} EVENT_DEPENDENCIES.TextToSpeechFeature - Events that are\r\n * specific to the TextToSpeechFeature.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.play='_onPlay'] -\r\n * The name of the method that will be executed when TextToSpeechFeature play\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.pause='_onPause'] -\r\n * The name of the method that will be executed when TextToSpeechFeature pause\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.resume='_onResume'] -\r\n * The name of the method that will be executed when TextToSpeechFeature resume\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.stop='_onStop'] -\r\n * The name of the method that will be executed when TextToSpeechFeature stop\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.sentence='_onSentence'] -\r\n * The name of the method that will be executed when TextToSpeechFeature sentence\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.word='_onWord'] -\r\n * The name of the method that will be executed when TextToSpeechFeature word\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.viseme='_onViseme'] -\r\n * The name of the method that will be executed when TextToSpeechFeature viseme\r\n * events are emitted.\r\n * @property {string} [EVENT_DEPENDENCIES.TextToSpeechFeature.ssml='_onSsml'] -\r\n * The name of the method that will be executed when TextToSpeechFeature ssml\r\n * events are emitted.\r\n */\r\nclass TextToSpeechFeatureDependentInterface extends FeatureDependentInterface {\r\n  /**\r\n   * Executed when speech play events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onPlay() {}\r\n\r\n  /**\r\n   * Executed when speech pause events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onPause() {}\r\n\r\n  /**\r\n   * Executed when speech resume events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onResume() {}\r\n\r\n  /**\r\n   * Executed when speech stop events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onStop() {}\r\n\r\n  /**\r\n   * Executed when speech sentence events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onSentence() {}\r\n\r\n  /**\r\n   * Executed when speech word events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onWord() {}\r\n\r\n  /**\r\n   * Executed when speech viseme events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onViseme() {}\r\n\r\n  /**\r\n   * Executed when speech ssml events are caught.\r\n   *\r\n   * @private\r\n   */\r\n  _onSsml() {}\r\n\r\n  /**\r\n   * Creates a class that implements {@link TextToSpeechFeatureDependentInterface}\r\n   * and extends a specified base class.\r\n   *\r\n   * @param {Class} BaseClass - The class to extend.\r\n   *\r\n   * @return {Class} A class that extends `BaseClass` and implements {@link TextToSpeechFeatureDependentInterface}.\r\n   */\r\n  static Mixin(BaseClass) {\r\n    const ParentClass = FeatureDependentInterface.Mixin(BaseClass);\r\n    const TextToSpeechFeatureDependentMixin = class extends ParentClass {\r\n      _onPlay() {}\r\n\r\n      _onPause() {}\r\n\r\n      _onResume() {}\r\n\r\n      _onStop() {}\r\n\r\n      _onSentence() {}\r\n\r\n      _onWord() {}\r\n\r\n      _onViseme() {}\r\n\r\n      _onSsml() {}\r\n    };\r\n\r\n    Object.defineProperties(TextToSpeechFeatureDependentMixin, {\r\n      EVENT_DEPENDENCIES: {\r\n        value: {\r\n          ...ParentClass.EVENT_DEPENDENCIES,\r\n          ...TextToSpeechFeatureDependentInterface.EVENT_DEPENDENCIES,\r\n        },\r\n        writable: false,\r\n      },\r\n    });\r\n\r\n    return TextToSpeechFeatureDependentMixin;\r\n  }\r\n}\r\n\r\nObject.defineProperties(TextToSpeechFeatureDependentInterface, {\r\n  EVENT_DEPENDENCIES: {\r\n    value: {\r\n      TextToSpeechFeature: {\r\n        play: '_onPlay',\r\n        pause: '_onPause',\r\n        resume: '_onResume',\r\n        stop: '_onStop',\r\n        sentence: '_onSentence',\r\n        word: '_onWord',\r\n        viseme: '_onViseme',\r\n        ssml: '_onSsml',\r\n      },\r\n    },\r\n    writable: false,\r\n  },\r\n});\r\n\r\nexport default TextToSpeechFeatureDependentInterface;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\nimport Utils from '../Utils';\r\n\r\n/**\r\n * A collection of useful text-to-speech functions.\r\n *\r\n * @hideconstructor\r\n */\r\nclass TextToSpeechUtils {\r\n  /**\r\n   * Returns a new string with SSML marks inserted based on\r\n   * matches between the input string and the input map. The\r\n   * word matches are case-insensitive. Words within existing\r\n   * SSML tags will not be affected. Input text will be surrounded\r\n   * by <speak></speak> tags if needed.\r\n   *\r\n   * @param {string} text - Input string.\r\n   * @param {object} map - Input object that maps mark keys\r\n   * to arrays of words. Example:\r\n   *\r\n   *  {\r\n   *    'mark:sad' : ['sad', 'blue', 'down'],\r\n   *    'mark:happy' : ['joy', 'glad', 'great'],\r\n   *    'mark:no' : ['no', 'nah', 'nay', 'sure']\r\n   *  }\r\n   * @param {Array.<string>} [randomMarks = []] - If there are sentences that don't\r\n   * match any words from the map object, marks from this array will be randomly\r\n   * chosen and inserted.\r\n   *\r\n   * @returns {string} - Updated input string.\r\n   */\r\n  static autoGenerateSSMLMarks(text, map, randomMarks = []) {\r\n    if (typeof map !== 'object' || map === null) {\r\n      throw new Error(\r\n        `Cannot generate SSML marks for text \"${text}\" because map is not an object.`\r\n      );\r\n    }\r\n\r\n    // process the input map into an internal format\r\n    const internalMap = this._processInputMap(map);\r\n\r\n    const speakTags = ['<speak>', '</speak>'];\r\n    const ssmlMarkRegex = /<mark name=(?:\"|')(.*?)(?:\"|')\\/>/;\r\n    const ssmlTagRegex = /<[^>]*>/g;\r\n\r\n    // Identify any existing SSML tags\r\n    const existingTags = [];\r\n    let result = ssmlTagRegex.exec(text);\r\n\r\n    while (result !== null) {\r\n      existingTags.push({\r\n        start: result.index,\r\n        end: result.index + result[0].length,\r\n        text: result[0],\r\n      });\r\n\r\n      result = ssmlTagRegex.exec(text);\r\n    }\r\n\r\n    const chunks = [];\r\n    let index = 0;\r\n    let ssmlMarkResult;\r\n    let duplicateMarkToCheck = [];\r\n    existingTags.forEach(existingTag => {\r\n      const substr = text.slice(index, existingTag.start);\r\n\r\n      if (substr !== '') {\r\n        // auto-mark non-tag text\r\n        chunks.push(\r\n          this._insertMarks(substr, internalMap, duplicateMarkToCheck)\r\n        );\r\n\r\n        duplicateMarkToCheck = [];\r\n      }\r\n\r\n      ssmlMarkResult = ssmlMarkRegex.exec(existingTag.text);\r\n\r\n      if (ssmlMarkResult !== null) {\r\n        const markText = ssmlMarkResult[1];\r\n        duplicateMarkToCheck.push(markText);\r\n      } else if (!speakTags.includes(existingTag.text)) {\r\n        chunks.push(existingTag.text);\r\n      }\r\n\r\n      // advance the index\r\n      index = existingTag.end;\r\n    });\r\n\r\n    chunks.push(\r\n      this._insertMarks(text.slice(index), internalMap, duplicateMarkToCheck)\r\n    );\r\n\r\n    let markedText = chunks.join('');\r\n\r\n    if (randomMarks && randomMarks.length > 0) {\r\n      // add random marks to any unmarked sentences\r\n      markedText = this.addMarksToUnmarkedSentences(markedText, randomMarks);\r\n    }\r\n\r\n    return TextToSpeechUtils.validateText(markedText);\r\n  }\r\n\r\n  /**\r\n   * Returns a new string with a random SSML mark inserted at each sentence that\r\n   * does not already contain an SSML mark.\r\n   *\r\n   * @param {string} text - Input string.\r\n   * @param {Array.<string>} marks - Any array of random SSML marks to choose from\r\n   * when modifying the text.\r\n   *\r\n   * @returns {string}\r\n   */\r\n  static addMarksToUnmarkedSentences(text, marks) {\r\n    if (!marks || marks.length === 0) return text;\r\n\r\n    const ssmlMarkRegex = /<mark name=(?:\"|')(.*?)(?:\"|')\\/>/g;\r\n    const ssmlTagRegex = /<[^>]*>/g;\r\n\r\n    // Find the indices of any marks in the text\r\n    const markIndices = [];\r\n    let markResult = ssmlMarkRegex.exec(text);\r\n\r\n    while (markResult !== null) {\r\n      markIndices.push(markResult.index);\r\n      markResult = ssmlMarkRegex.exec(text);\r\n    }\r\n\r\n    // Find all SSML tags in the text\r\n    const existingTags = [];\r\n    let ssmlResult = ssmlTagRegex.exec(text);\r\n    while (ssmlResult !== null) {\r\n      existingTags.push({\r\n        start: ssmlResult.index,\r\n        end: ssmlResult.index + ssmlResult[0].length,\r\n        text: ssmlResult[0],\r\n      });\r\n      ssmlResult = ssmlTagRegex.exec(text);\r\n    }\r\n\r\n    // Create a copy of the text with all SSML marks replaces with whitespace\r\n    let cleanedText = text.slice();\r\n    existingTags.forEach(existingSsml => {\r\n      const whitespace = new Array(existingSsml.text.length + 1).join(' ');\r\n      cleanedText = [\r\n        cleanedText.slice(0, existingSsml.start),\r\n        whitespace,\r\n        cleanedText.slice(existingSsml.end),\r\n      ].join('');\r\n    });\r\n\r\n    const sentenceEndIndices = this._getSentenceEnds(cleanedText);\r\n\r\n    // Only insert random marks into sentences that don't already have any\r\n    let prevIndex = 0;\r\n    const targetIndices = sentenceEndIndices.filter(index => {\r\n      const containsMark =\r\n        markIndices.findIndex(markIndex => {\r\n          return prevIndex <= markIndex && index > markIndex;\r\n        }) !== -1;\r\n      prevIndex = index;\r\n      return !containsMark;\r\n    });\r\n\r\n    const randomMarkedText = this._insertRandomMarksAt(\r\n      text,\r\n      targetIndices,\r\n      marks\r\n    );\r\n\r\n    return randomMarkedText;\r\n  }\r\n\r\n  /**\r\n   * Generate a version of given text that is enclosed by Polly ssml speak tags.\r\n   *\r\n   * @param {string} text - The text to validate.\r\n   *\r\n   * @returns {string} - Updated input string.\r\n   */\r\n  static validateText(text) {\r\n    if (!text) {\r\n      text = '<speak></speak>';\r\n    } else {\r\n      text = text\r\n        .replace(/(^\\s*<\\s*speak\\s*)>\\s*|(^\\s*)/, '<speak>')\r\n        .replace(/(\\s*<\\s*\\/\\s*speak\\s*>\\s*$|\\s*$)/, '</speak>');\r\n    }\r\n\r\n    return text;\r\n  }\r\n\r\n  /**\r\n   * Parse an input string and insert SSML marks based on\r\n   * word matches in a map.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - Input string.\r\n   * @param {Array.<number>} [indices = []] - An array of indices in the text input\r\n   * where random marks should be inserted.\r\n   * @param {Array.<string>} [marks = []] - An array of mark strings to choose\r\n   * from when inserting random marks.\r\n   *\r\n   * @returns {string} - Updated input string.\r\n   */\r\n  static _insertRandomMarksAt(text, indices = [], marks = []) {\r\n    if (!marks || marks.length === 0 || !indices || indices.length === 0) {\r\n      return text;\r\n    }\r\n\r\n    let offset = 0;\r\n    indices.forEach(index => {\r\n      const randomMark = `<mark name='${\r\n        marks[Utils.getRandomInt(0, marks.length)]\r\n      }'/>`;\r\n      text = [\r\n        text.slice(0, index + offset),\r\n        randomMark,\r\n        text.slice(index + offset),\r\n      ].join('');\r\n      offset += randomMark.length;\r\n    });\r\n\r\n    return text;\r\n  }\r\n\r\n  /**\r\n   * Parses a string of text and returns an array containing the indices\r\n   * of the last character in a sentence that is not in the following list:\r\n   *  ('.', '?', '!')\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - Text to process for end of sentence\r\n   * indices.\r\n   *\r\n   * @returns {Array.<number>} - Array of end of sentence indices.\r\n   */\r\n  static _getSentenceEnds(text) {\r\n    const sentenceRegex = /[^.!?]+[.!?]+/g;\r\n    const endSentenceRegex = /[.!?]+/;\r\n\r\n    let result = sentenceRegex.exec(text);\r\n    const sentenceEnds = [];\r\n    while (result !== null) {\r\n      // find the last non-punctuation character\r\n      const punctResult = endSentenceRegex.exec(result[0]);\r\n      sentenceEnds.push(\r\n        result.index + result[0].length - punctResult[0].length\r\n      );\r\n      result = sentenceRegex.exec(text);\r\n    }\r\n\r\n    return sentenceEnds;\r\n  }\r\n\r\n  /**\r\n   * Parse an input string and insert SSML marks based on\r\n   * word matches in a map.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {string} text - Input string.\r\n   * @param {Map} map - Mapping of words to mark values that\r\n   * will be inserted as the value for a mark's 'name' attribute.\r\n   * @param {Array} duplicatesToCheck - A list of mark values to check for duplicate against the first word\r\n   *\r\n   * @returns {string} - Updated input string.\r\n   */\r\n  static _insertMarks(text, map, duplicatesToCheck) {\r\n    if (text === '') return text;\r\n\r\n    const wordRegex = /\\w+|\\s+|[^\\s\\w]+/g;\r\n\r\n    let lowerCaseWord;\r\n    let checkDuplicate = true;\r\n    const markedWords = text.match(wordRegex).map(word => {\r\n      lowerCaseWord = word.toLowerCase();\r\n\r\n      if (map.has(lowerCaseWord)) {\r\n        const marks = map.get(lowerCaseWord).map(mark => {\r\n          if (checkDuplicate) {\r\n            checkDuplicate = false;\r\n            return duplicatesToCheck.includes(mark)\r\n              ? ''\r\n              : `<mark name='${mark}'/>`;\r\n          } else {\r\n            return `<mark name='${mark}'/>`;\r\n          }\r\n        });\r\n        return `${marks.join('')}${word}`;\r\n      } else {\r\n        checkDuplicate = false;\r\n        return word;\r\n      }\r\n    });\r\n\r\n    const existingMarks = duplicatesToCheck.map(mark => {\r\n      return `<mark name='${mark}'/>`;\r\n    });\r\n\r\n    return `${existingMarks.join('')}${markedWords.join('')}`;\r\n  }\r\n\r\n  /**\r\n   * Processes an input object for mapping an array\r\n   * of words to specific mark keys. Converts the input\r\n   * map into a Map with a more efficient format for\r\n   * performing mark injection.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {object} map - Input object that maps mark keys\r\n   * to arrays of words.\r\n   *\r\n   * @returns {Map} - Map for internal use.\r\n   */\r\n  static _processInputMap(map) {\r\n    const internalMap = new Map();\r\n\r\n    let list = [];\r\n    Object.entries(map).forEach(([key, value]) => {\r\n      if (!Array.isArray(value)) {\r\n        throw new Error(\r\n          `Cannot generate SSML marks from map \"${map}\" because value for key '${key}' is not an array.`\r\n        );\r\n      }\r\n\r\n      value.forEach(word => {\r\n        const lowerCaseWord = word.toLowerCase();\r\n        list = internalMap.get(lowerCaseWord);\r\n\r\n        if (list !== undefined && !list.includes(key)) {\r\n          internalMap.set(lowerCaseWord, [...list, key]);\r\n        } else {\r\n          internalMap.set(lowerCaseWord, [key]);\r\n        }\r\n      });\r\n    });\r\n\r\n    return internalMap;\r\n  }\r\n}\r\n\r\nexport default TextToSpeechUtils;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport TextToSpeechUtils from './TextToSpeechUtils';\r\nimport AbstractSpeech from './AbstractSpeech';\r\nimport Speech from './Speech';\r\nimport AbstractTextToSpeechFeature from './AbstractTextToSpeechFeature';\r\nimport TextToSpeechFeature from './TextToSpeechFeature';\r\nimport LexFeature from './LexFeature';\r\nimport LexUtils from './LexUtils';\r\n/**\r\n * @module core/awspack\r\n */\r\n\r\nexport default {\r\n  /**\r\n   * @see LexFeature\r\n   */\r\n  LexFeature,\r\n  /**\r\n   * @see LexUtils\r\n   */\r\n  LexUtils,\r\n  /**\r\n   * @see AbstractTextToSpeechFeature\r\n   */\r\n  AbstractTextToSpeechFeature,\r\n  /**\r\n   * @see core/TextToSpeechFeature\r\n   */\r\n  TextToSpeechFeature,\r\n  /**\r\n   * @see TextToSpeechUtils\r\n   */\r\n  TextToSpeechUtils,\r\n  /**\r\n   * @see AbstractSpeech\r\n   */\r\n  AbstractSpeech,\r\n  /**\r\n   * @see core/Speech\r\n   */\r\n  Speech,\r\n};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * @module core/HOST\r\n */\r\n\r\nimport Utils from './Utils';\r\nimport MathUtils from './MathUtils';\r\nimport Deferred from './Deferred';\r\nimport {env} from './HostEnvironment';\r\nimport Messenger from './Messenger';\r\nimport AbstractHostFeature from './AbstractHostFeature';\r\nimport HostObject from './HostObject';\r\nimport LipsyncFeature, {DefaultVisemeMap} from './LipsyncFeature';\r\nimport GestureFeature, {DefaultGestureWords} from './GestureFeature';\r\nimport PointOfInterestFeature, {AxisMap} from './PointOfInterestFeature';\r\n\r\nimport animpack from './animpack';\r\n\r\nimport aws from './awspack';\r\n\r\nconst Version = Utils.getVersion();\r\n\r\nconst {\r\n  Easing,\r\n  AnimationFeature,\r\n  AnimationTypes,\r\n  AnimationLayer,\r\n  LayerBlendModes,\r\n  DefaultLayerBlendMode,\r\n  SingleState,\r\n  TransitionState,\r\n  FreeBlendState,\r\n  QueueState,\r\n  RandomAnimationState,\r\n  Blend1dState,\r\n  Blend2dState,\r\n  AnimationUtils,\r\n} = animpack;\r\nconst {\r\n  LexFeature,\r\n  LexUtils,\r\n  AbstractTextToSpeechFeature,\r\n  TextToSpeechFeature,\r\n  TextToSpeechUtils,\r\n  AbstractSpeech,\r\n  Speech,\r\n} = aws;\r\n\r\nexport {\r\n  /**\r\n   * @see env\r\n   */\r\n  env,\r\n  /**\r\n   * @see Utils\r\n   */\r\n  Utils,\r\n  /**\r\n   * @see MathUtils\r\n   */\r\n  MathUtils,\r\n  /**\r\n   * @see Deferred\r\n   */\r\n  Deferred,\r\n  /**\r\n   * @see core/Messenger\r\n   */\r\n  Messenger,\r\n  /**\r\n   * @see core/HostObject\r\n   */\r\n  HostObject,\r\n  /**\r\n   * @see core/LipsyncFeature\r\n   */\r\n  LipsyncFeature,\r\n  /**\r\n   * @see core/GestureFeature\r\n   */\r\n  GestureFeature,\r\n  /**\r\n   * @see core/PointOfInterestFeature\r\n   */\r\n  PointOfInterestFeature,\r\n  /**\r\n   * @see module:core/AbstractHostFeature\r\n   */\r\n  AbstractHostFeature,\r\n  /**\r\n   * @see DefaultVisemeMap\r\n   */\r\n  DefaultVisemeMap,\r\n  /**\r\n   * @see DefaultGestureWords\r\n   */\r\n  DefaultGestureWords,\r\n  /**\r\n   * @see AxisMap\r\n   */\r\n  AxisMap,\r\n  // Animpack\r\n  /**\r\n   * @see module:core/animpack.Easing\r\n   */\r\n  Easing,\r\n  /**\r\n   * @see module:core/animpack.AnimationFeature\r\n   */\r\n  AnimationFeature,\r\n  /**\r\n   * @see module:core/animpack.AnimationLayer\r\n   */\r\n  AnimationLayer,\r\n  /**\r\n   * @see module:core/animpack.SingleState\r\n   */\r\n  SingleState,\r\n  /**\r\n   * @see module:core/animpack.TransitionState\r\n   */\r\n  TransitionState,\r\n  /**\r\n   * @see module:core/animpack.FreeBlendState\r\n   */\r\n  FreeBlendState,\r\n  /**\r\n   * @see module:core/animpack.QueueState\r\n   */\r\n  QueueState,\r\n  /**\r\n   * @see module:core/animpack.RandomAnimationState\r\n   */\r\n  RandomAnimationState,\r\n  /**\r\n   * @see module:core/animpack.Blend1dState\r\n   */\r\n  Blend1dState,\r\n  /**\r\n   * @see module:core/animpack.Blend2dState\r\n   */\r\n  Blend2dState,\r\n  /**\r\n   * @see module:core/animpack.AnimationUtils\r\n   */\r\n  AnimationUtils,\r\n  /**\r\n   * @see module:core/animpack.LayerBlendModes\r\n   */\r\n  LayerBlendModes,\r\n  /**\r\n   * @see module:core/animpack.DefaultLayerBlendMode\r\n   */\r\n  DefaultLayerBlendMode,\r\n  /**\r\n   * @see module:core/animpack.AnimationTypes\r\n   */\r\n  AnimationTypes,\r\n  // AWS Pack\r\n  /**\r\n   * @see module:core/awspack.LexFeature\r\n   */\r\n  LexFeature,\r\n  /**\r\n   * @see module:core/awspack.LexUtils\r\n   */\r\n  LexUtils,\r\n  /**\r\n   * @see module:core/awspack.AbstractTextToSpeechFeature\r\n   */\r\n  AbstractTextToSpeechFeature,\r\n  /**\r\n   * @see module:core/awspack.TextToSpeechFeature\r\n   */\r\n  TextToSpeechFeature,\r\n  /**\r\n   * @see module:core/awspack.TextToSpeechUtils\r\n   */\r\n  TextToSpeechUtils,\r\n  /**\r\n   * @see module:core/awspack.AbstractSpeech\r\n   */\r\n  AbstractSpeech,\r\n  /**\r\n   * @see module:core/awspack.Speech\r\n   */\r\n  Speech,\r\n  /**\r\n   * The Version of the Sumerian Hosts library\r\n   */\r\n  Version,\r\n};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const env = 'three';\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * Threejs Clock object\r\n *\r\n * @external \"THREE.Clock\"\r\n * @see https://threejs.org/docs/#api/en/core/Clock\r\n */\r\n\r\nimport {\r\n  HostObject as CoreHostObject,\r\n  Messenger,\r\n} from '@amazon-sumerian-hosts/core';\r\n\r\n/**\r\n * @extends core/HostObject\r\n * @alias threejs/HostObject\r\n */\r\nclass HostObject extends CoreHostObject {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options - Options for the host.\r\n   * @param {Object=} options.owner - Optional engine-specific owner of the host.\r\n   * @param {external:\"THREE.Clock\"=} options.clock - Optional clock to manage time.\r\n   */\r\n  constructor(options = {}) {\r\n    super(options);\r\n\r\n    this._clock = options.clock;\r\n\r\n    if (this._clock) {\r\n      Object.defineProperty(this, 'now', {\r\n        get: () => {\r\n          return this._clock.getElapsedTime() * 1000;\r\n        },\r\n      });\r\n\r\n      this._lastUpdate = this.now;\r\n    }\r\n\r\n    this._dispatcher = this;\r\n  }\r\n\r\n  _createEvent(message, value) {\r\n    return {detail: value, type: message};\r\n  }\r\n}\r\n\r\nObject.getOwnPropertyNames(THREE.EventDispatcher.prototype)\r\n  .filter(prop => prop !== 'constructor')\r\n  .forEach(prop => {\r\n    Messenger.prototype[prop] = THREE.EventDispatcher.prototype[prop];\r\n  });\r\n\r\nexport default HostObject;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {\r\n  PointOfInterestFeature as CorePointOfInterestFeature,\r\n  AxisMap,\r\n} from '@amazon-sumerian-hosts/core';\r\n\r\n/**\r\n * @extends core/PointOfInterestFeature\r\n * @alias threejs/PointOfInterestFeature\r\n */\r\nclass PointOfInterestFeature extends CorePointOfInterestFeature {\r\n  static _getWorldPosition(obj) {\r\n    obj.updateWorldMatrix(true, false);\r\n    return obj.matrixWorld.elements.slice(12, 15);\r\n  }\r\n\r\n  static _getWorldMatrix(obj) {\r\n    obj.updateWorldMatrix(true, false);\r\n    return [...obj.matrixWorld.elements];\r\n  }\r\n\r\n  _validateTransformObject(obj) {\r\n    return obj instanceof THREE.Object3D;\r\n  }\r\n\r\n  setTargetByName(name) {\r\n    super.setTargetByName(name);\r\n    if (!name) {\r\n      return;\r\n    }\r\n\r\n    this.target = this._scene.getObjectByName(name);\r\n  }\r\n\r\n  setTargetById(id) {\r\n    super.setTargetByName(id);\r\n    if (!id) {\r\n      return;\r\n    }\r\n\r\n    this.target = this._scene.getObjectById(id);\r\n  }\r\n}\r\n\r\nexport default PointOfInterestFeature;\r\nexport {AxisMap};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {\r\n  AnimationFeature as CoreAnimationFeature,\r\n  AnimationTypes,\r\n} from '@amazon-sumerian-hosts/core';\r\nimport SingleState from './state/SingleState';\r\n\r\n/**\r\n * Threejs AnimationMixer object\r\n * @external \"THREE.AnimationMixer\"\r\n * @see https://threejs.org/docs/#api/en/animation/AnimationMixer\r\n */\r\nAnimationTypes.single = SingleState;\r\n\r\n/**\r\n * @extends core/AnimationFeature\r\n * @alias threejs/AnimationFeature\r\n */\r\nclass AnimationFeature extends CoreAnimationFeature {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {threejs/HostObject} host - Host object that owns the feature.\r\n   */\r\n  constructor(host) {\r\n    super(host);\r\n\r\n    this._mixer = new THREE.AnimationMixer(host.owner);\r\n  }\r\n\r\n  _createSingleState(options) {\r\n    // Duplicate the clip if it is already in use by another three action\r\n    let {clip} = options;\r\n    if (this._mixer.existingAction(clip)) {\r\n      clip = clip.clone();\r\n    }\r\n\r\n    const threeAction = this._mixer.clipAction(clip);\r\n    return new SingleState(options, threeAction);\r\n  }\r\n\r\n  /**\r\n   * Gets the THREE.AnimationMixer for the host.\r\n   *\r\n   * @readonly\r\n   * @type {external:\"THREE.AnimationMixer\"}\r\n   */\r\n  get mixer() {\r\n    return this._mixer;\r\n  }\r\n\r\n  update(deltaTime) {\r\n    super.update(deltaTime);\r\n\r\n    if (!this._paused) {\r\n      this._mixer.update(deltaTime / 1000); // THREE.AnimationMixer requires delta time in seconds\r\n    }\r\n  }\r\n\r\n  discard() {\r\n    // Release THREE animation resources\r\n    this._mixer.uncacheRoot(this._host.owner);\r\n\r\n    super.discard();\r\n  }\r\n}\r\nexport {AnimationTypes};\r\nexport default AnimationFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\n/**\r\n * @module threejs/animpack\r\n */\r\n\r\nimport {\r\n  Easing,\r\n  AnimationUtils,\r\n  TransitionState,\r\n  RandomAnimationState,\r\n  AnimationLayer,\r\n  LayerBlendModes,\r\n  DefaultLayerBlendMode,\r\n  FreeBlendState,\r\n  QueueState,\r\n  Blend1dState,\r\n  Blend2dState,\r\n} from '@amazon-sumerian-hosts/core';\r\nimport AnimationFeature, {AnimationTypes} from './AnimationFeature';\r\nimport SingleState from './state/SingleState';\r\n\r\nexport default {\r\n  /**\r\n   * @see threejs/AnimationFeature\r\n   */\r\n  AnimationFeature,\r\n  /**\r\n   * @see threejs/SingleState\r\n   */\r\n  SingleState,\r\n  /**\r\n   * @see module:core/HOST.AnimationLayer\r\n   */\r\n  AnimationLayer,\r\n  /**\r\n   * @see module:core/HOST.TransitionState\r\n   */\r\n  TransitionState,\r\n  /**\r\n   * @see module:core/HOST.FreeBlendState\r\n   */\r\n  FreeBlendState,\r\n  /**\r\n   * @see module:core/HOST.QueueState\r\n   */\r\n  QueueState,\r\n  /**\r\n   * @see module:core/HOST.RandomAnimationState\r\n   */\r\n  RandomAnimationState,\r\n  /**\r\n   * @see module:core/HOST.Blend1dState\r\n   */\r\n  Blend1dState,\r\n  /**\r\n   * @see module:core/HOST.Blend2dState\r\n   */\r\n  Blend2dState,\r\n  /**\r\n   * @see module:core/HOST.AnimationUtils\r\n   */\r\n  AnimationUtils,\r\n  /**\r\n   * @see module:core/HOST.Easing\r\n   */\r\n  Easing,\r\n  /**\r\n   * @see module:core/HOST.LayerBlendModes\r\n   */\r\n  LayerBlendModes,\r\n  /**\r\n   * @see module:core/HOST.DefaultLayerBlendMode\r\n   */\r\n  DefaultLayerBlendMode,\r\n  /**\r\n   * @see module:core/HOST.AnimationTypes\r\n   */\r\n  AnimationTypes,\r\n};\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {\r\n  SingleState as CoreSingleState,\r\n  MathUtils,\r\n} from '@amazon-sumerian-hosts/core';\r\n\r\n/**\r\n * Threejs AnimationAction object\r\n * @external \"THREE.AnimationAction\"\r\n * @see https://threejs.org/docs/#api/en/animation/AnimationAction\r\n */\r\n\r\nconst threeBlendModes = {\r\n  Override: THREE.NormalAnimationBlendMode,\r\n  Additive: THREE.AdditiveAnimationBlendMode,\r\n};\r\n\r\n/**\r\n * @extends core/SingleState\r\n * @alias threejs/SingleState\r\n */\r\nclass SingleState extends CoreSingleState {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {Object=} options - Options for the animation state.\r\n   * @param {external:\"THREE.AnimationAction\"} threeAction - Animation action that controls\r\n   * playback of the clip.\r\n   */\r\n  constructor(options = {}, threeAction) {\r\n    super(options);\r\n\r\n    // Callback to catch THREE animation action completion\r\n    this._onFinishedEvent = ({type, action}) => {\r\n      // Exit if this isn't the finish event for this animation\r\n      if (type !== 'finished' || action !== this.threeAction) {\r\n        return;\r\n      }\r\n\r\n      this._promises.play.resolve();\r\n\r\n      // Stop evaluating interpolators if they have already completed\r\n      if (!this.weightPending && !this.timeScalePending) {\r\n        this._paused = true;\r\n      }\r\n    };\r\n\r\n    this._threeAction = threeAction;\r\n    this._threeAction.clampWhenFinished = true; // Hold the last frame on completion\r\n    this._threeAction.enabled = false;\r\n    this._threeAction.loop =\r\n      this._loopCount === 1 ? THREE.LoopOnce : THREE.LoopRepeat;\r\n    this._threeAction.paused = this._paused;\r\n    this._threeAction.repetitions = this._loopCount;\r\n    this._threeAction.timeScale = this._timeScale;\r\n    this._threeAction.weight = this._internalWeight;\r\n    this._threeAction.blendMode = threeBlendModes[this._blendMode];\r\n\r\n    // Start listening for animation finished events\r\n    this._threeAction\r\n      .getMixer()\r\n      .addEventListener('finished', this._onFinishedEvent);\r\n  }\r\n\r\n  /**\r\n   * Gets the THREE.AnimationAction object.\r\n   *\r\n   * @readonly\r\n   * @type {external:\"THREE.AnimationAction\"}\r\n   */\r\n  get threeAction() {\r\n    return this._threeAction;\r\n  }\r\n\r\n  get normalizedTime() {\r\n    if (\r\n      this._threeAction.time &&\r\n      this._threeAction.getClip() &&\r\n      this._threeAction.getClip().duration\r\n    ) {\r\n      return this._threeAction.time / this._threeAction.getClip().duration;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  set normalizedTime(time) {\r\n    time = MathUtils.clamp(time);\r\n    this._threeAction.time = this._threeAction.getClip().duration * time;\r\n  }\r\n\r\n  get weight() {\r\n    return super.weight;\r\n  }\r\n\r\n  set weight(weight) {\r\n    super.weight = weight;\r\n\r\n    this._threeAction.enabled = true;\r\n  }\r\n\r\n  updateInternalWeight(factor) {\r\n    super.updateInternalWeight(factor);\r\n\r\n    this._threeAction.setEffectiveWeight(this._internalWeight);\r\n  }\r\n\r\n  get timeScale() {\r\n    return super.timeScale;\r\n  }\r\n\r\n  set timeScale(timeScale) {\r\n    super.timeScale = timeScale;\r\n\r\n    this._threeAction.timeScale = timeScale;\r\n  }\r\n\r\n  get loopCount() {\r\n    return super.loopCount;\r\n  }\r\n\r\n  set loopCount(loopCount) {\r\n    super.loopCount = loopCount;\r\n\r\n    this._threeAction.loop =\r\n      loopCount === 1 ? THREE.LoopOnce : THREE.LoopRepeat;\r\n    this._threeAction.repetitions = loopCount;\r\n  }\r\n\r\n  play(onFinish, onError, onCancel) {\r\n    // Restart animation\r\n    this._threeAction.reset();\r\n    this._threeAction.play();\r\n\r\n    return super.play(onFinish, onError, onCancel);\r\n  }\r\n\r\n  pause() {\r\n    // Make sure animation has influence\r\n    this._threeAction.paused = true;\r\n    this._threeAction.play();\r\n\r\n    return super.pause();\r\n  }\r\n\r\n  resume(onFinish, onError, onCancel) {\r\n    // Make sure the animation can play and has influence\r\n    this._threeAction.paused = false;\r\n    this._threeAction.enabled = true;\r\n    this._threeAction.play();\r\n\r\n    return super.resume(onFinish, onError, onCancel);\r\n  }\r\n\r\n  cancel() {\r\n    // Stop animation playback\r\n    this._threeAction.paused = true;\r\n\r\n    return super.cancel();\r\n  }\r\n\r\n  stop() {\r\n    // Restart and pause the animation\r\n    this._threeAction.reset();\r\n    this._threeAction.paused = true;\r\n    this._threeAction.play();\r\n\r\n    return super.stop();\r\n  }\r\n\r\n  discard() {\r\n    // Stop the animation from having influence\r\n    this._threeAction.enabled = false;\r\n\r\n    // Stop listening for finish events\r\n    this._threeAction\r\n      .getMixer()\r\n      .removeEventListener('finished', this._onFinishedEvent);\r\n\r\n    super.discard();\r\n  }\r\n}\r\n\r\nexport default SingleState;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {LexFeature as CoreLexFeature} from '@amazon-sumerian-hosts/core';\r\n\r\n/**\r\n * @extends core/LexFeature\r\n * @alias threejs/LexFeature\r\n */\r\nclass LexFeature extends CoreLexFeature {\r\n  /**\r\n   * Setup audio context\r\n   * @override\r\n   */\r\n  _setupAudioContext() {\r\n    this._audioContext = THREE.AudioContext.getContext();\r\n  }\r\n}\r\n\r\nexport default LexFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {Speech as CoreSpeech} from '@amazon-sumerian-hosts/core';\r\n\r\n/**\r\n * Threejs Audio object\r\n * @external \"THREE.Audio\"\r\n * @see https://threejs.org/docs/#api/en/audio/Audio\r\n */\r\n\r\n/**\r\n * Threejs PositionalAudio object\r\n * @external \"THREE.PositionalAudio\"\r\n * @see https://threejs.org/docs/#api/en/audio/PositionalAudio\r\n */\r\n\r\n/**\r\n * @extends core/Speech\r\n * @alias threejs/Speech\r\n */\r\nclass Speech extends CoreSpeech {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {threejs/TextToSpeechFeature} speaker - The owner of the Speech that\r\n   * will emit speechmark messages.\r\n   * @param {string} text - The text of the speech.\r\n   * @param {Array.<Object>} speechmarks - An array of speechmark objects representing\r\n   * the text and timing of the speech.\r\n   * @param {Object} audioConfig - Object containing audio and url.\r\n   * @param {external:Audio} audioConfig.audio - Playable audio object.\r\n   * @param {(external:\"THREE.Audio\"|external:\"THREE.PositionalAudio\")} audioConfig.threeAudio -\r\n   * Three.js audio object.\r\n   */\r\n  constructor(textToSpeech, text, speechmarks = [], audioConfig) {\r\n    super(textToSpeech, text, speechmarks, audioConfig);\r\n    this._threeAudio = audioConfig.threeAudio;\r\n  }\r\n\r\n  /**\r\n   * Gets the Three.js audio object for the speech.\r\n   *\r\n   * @readonly\r\n   * @type {(external:\"THREE.Audio\"|external:\"THREE.PositionalAudio\")}\r\n   */\r\n  get audio() {\r\n    return this._threeAudio;\r\n  }\r\n\r\n  _pauseAudio() {\r\n    this._audio.pause();\r\n  }\r\n\r\n  play(currentTime, onFinish, onError, onInterrupt) {\r\n    // Re-connect the Audio element to stop playback\r\n    this._threeAudio.disconnect();\r\n    this._threeAudio.connect();\r\n\r\n    return super.play(currentTime, onFinish, onError, onInterrupt);\r\n  }\r\n}\r\n\r\nexport default Speech;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {TextToSpeechFeature as CoreTextToSpeechFeature} from '@amazon-sumerian-hosts/core';\r\nimport Speech from './Speech';\r\n\r\n/**\r\n * Threejs PositionalAudio object\r\n * @external \"THREE.AudioListener\"\r\n * @see https://threejs.org/docs/#api/en/audio/AudioListener\r\n */\r\n\r\n/**\r\n * Threejs Audio object\r\n * @external \"THREE.Object3D\"\r\n * @see https://threejs.org/docs/#api/en/core/Object3D\r\n */\r\n\r\n/**\r\n * Threejs REVISION object\r\n *\r\n * @external \"THREE.REVISION\"\r\n * @see https://threejs.org/docs/#api/en/constants/Core\r\n */\r\n\r\n/**\r\n * @extends core/TextToSpeechFeature\r\n * @alias threejs/TextToSpeechFeature\r\n */\r\nclass TextToSpeechFeature extends CoreTextToSpeechFeature {\r\n  /**\r\n   * @constructor\r\n   *\r\n   * @param {app/HostObject} host - Host object managing the feature.\r\n   * @param {Object=} options - Options that will be sent to Polly for each speech.\r\n   * @param {external:\"THREE.AudioListener\"} options.listener - Three audio listener to use with\r\n   * audio.\r\n   * @param {external:\"THREE.Object3D\"=} options.attachTo - Optional object to attach the speech\r\n   * audio to.\r\n   */\r\n  constructor(\r\n    host,\r\n    options = {\r\n      voice: undefined,\r\n      engine: undefined,\r\n      language: undefined,\r\n      audioFormat: 'mp3',\r\n      sampleRate: undefined,\r\n      listener: undefined,\r\n      attachTo: undefined,\r\n    }\r\n  ) {\r\n    super(host, options);\r\n    this._listener = options.listener;\r\n    this._attachTo = options.attachTo || host.owner;\r\n    this._setAudioContext();\r\n    this._observeAudioContext();\r\n  }\r\n\r\n  _setAudioContext() {\r\n    if (this._listener) {\r\n      this._audioContext = this._listener.context;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create an Audio object and Three.js audio object of speech audio for the\r\n   * given speech text.\r\n   *\r\n   * @private\r\n   *\r\n   * @param {Object} params - Parameters object compatible with Polly.synthesizeSpeech.\r\n   *\r\n   * @returns {Promise} Resolves with an object containing the audio URL and Audio\r\n   * objects.\r\n   */\r\n  _synthesizeAudio(params) {\r\n    return super._synthesizeAudio(params).then(result => {\r\n      if (this._attachTo !== undefined && !this._isGlobal) {\r\n        // Create positional audio if there's an attach point\r\n        result.threeAudio = new THREE.PositionalAudio(this._listener);\r\n        this._attachTo.add(result.threeAudio);\r\n      } else {\r\n        // Create non-positional audio\r\n        result.threeAudio = new THREE.Audio(this._listener);\r\n      }\r\n\r\n      // Set Audio object as the source\r\n      result.threeAudio.setMediaElementSource(result.audio);\r\n\r\n      return result;\r\n    });\r\n  }\r\n\r\n  _createSpeech(text, speechmarks, audioConfig) {\r\n    return new Speech(this, text, speechmarks, audioConfig);\r\n  }\r\n\r\n  getEngineUserAgentString() {\r\n    return `Three.js-${THREE.REVISION}`;\r\n  }\r\n}\r\n\r\nexport default TextToSpeechFeature;\r\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\nimport {TextToSpeechUtils, LexUtils} from '@amazon-sumerian-hosts/core';\r\nimport TextToSpeechFeature from './TextToSpeechFeature';\r\nimport LexFeature from './LexFeature';\r\nimport Speech from './Speech';\r\n\r\n/**\r\n * @module threejs/awspack\r\n */\r\n\r\nexport default {\r\n  /**\r\n   * @see threejs/TextToSpeechFeature\r\n   */\r\n  TextToSpeechFeature,\r\n  /**\r\n   * @see threejs/Speech\r\n   */\r\n  Speech,\r\n  /**\r\n   * @see module:core/HOST.TextToSpeechUtils\r\n   */\r\n  TextToSpeechUtils,\r\n  /**\r\n   * @see threejs/LexFeature\r\n   */\r\n  LexFeature,\r\n  /**\r\n   * @see module:core/HOST.LexUtils\r\n   */\r\n  LexUtils,\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\tif (cachedModule.error !== undefined) throw cachedModule.error;\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\ttry {\n\t\tvar execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: __webpack_require__ };\n\t\t__webpack_require__.i.forEach(function(handler) { handler(execOptions); });\n\t\tmodule = execOptions.module;\n\t\texecOptions.factory.call(module.exports, module, module.exports, execOptions.require);\n\t} catch(e) {\n\t\tmodule.error = e;\n\t\tthrow e;\n\t}\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n// expose the module execution interceptor\n__webpack_require__.i = [];\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// This function allow to reference all chunks\n__webpack_require__.hu = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \".hot-reload/\" + chunkId + \".\" + __webpack_require__.h() + \".hot-update.js\";\n};","__webpack_require__.hmrF = () => (\".hot-reload/host_three.\" + __webpack_require__.h() + \".hot-update.json\");","__webpack_require__.h = () => (\"119483549cb1635a356b\")","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var currentModuleData = {};\nvar installedModules = __webpack_require__.c;\n\n// module and require creation\nvar currentChildModule;\nvar currentParents = [];\n\n// status\nvar registeredStatusHandlers = [];\nvar currentStatus = \"idle\";\n\n// while downloading\nvar blockingPromises = 0;\nvar blockingPromisesWaiting = [];\n\n// The update info\nvar currentUpdateApplyHandlers;\nvar queuedInvalidatedModules;\n\n// eslint-disable-next-line no-unused-vars\n__webpack_require__.hmrD = currentModuleData;\n\n__webpack_require__.i.push(function (options) {\n\tvar module = options.module;\n\tvar require = createRequire(options.require, options.id);\n\tmodule.hot = createModuleHotObject(options.id, module);\n\tmodule.parents = currentParents;\n\tmodule.children = [];\n\tcurrentParents = [];\n\toptions.require = require;\n});\n\n__webpack_require__.hmrC = {};\n__webpack_require__.hmrI = {};\n\nfunction createRequire(require, moduleId) {\n\tvar me = installedModules[moduleId];\n\tif (!me) return require;\n\tvar fn = function (request) {\n\t\tif (me.hot.active) {\n\t\t\tif (installedModules[request]) {\n\t\t\t\tvar parents = installedModules[request].parents;\n\t\t\t\tif (parents.indexOf(moduleId) === -1) {\n\t\t\t\t\tparents.push(moduleId);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentParents = [moduleId];\n\t\t\t\tcurrentChildModule = request;\n\t\t\t}\n\t\t\tif (me.children.indexOf(request) === -1) {\n\t\t\t\tme.children.push(request);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.warn(\n\t\t\t\t\"[HMR] unexpected require(\" +\n\t\t\t\t\trequest +\n\t\t\t\t\t\") from disposed module \" +\n\t\t\t\t\tmoduleId\n\t\t\t);\n\t\t\tcurrentParents = [];\n\t\t}\n\t\treturn require(request);\n\t};\n\tvar createPropertyDescriptor = function (name) {\n\t\treturn {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn require[name];\n\t\t\t},\n\t\t\tset: function (value) {\n\t\t\t\trequire[name] = value;\n\t\t\t}\n\t\t};\n\t};\n\tfor (var name in require) {\n\t\tif (Object.prototype.hasOwnProperty.call(require, name) && name !== \"e\") {\n\t\t\tObject.defineProperty(fn, name, createPropertyDescriptor(name));\n\t\t}\n\t}\n\tfn.e = function (chunkId) {\n\t\treturn trackBlockingPromise(require.e(chunkId));\n\t};\n\treturn fn;\n}\n\nfunction createModuleHotObject(moduleId, me) {\n\tvar _main = currentChildModule !== moduleId;\n\tvar hot = {\n\t\t// private stuff\n\t\t_acceptedDependencies: {},\n\t\t_acceptedErrorHandlers: {},\n\t\t_declinedDependencies: {},\n\t\t_selfAccepted: false,\n\t\t_selfDeclined: false,\n\t\t_selfInvalidated: false,\n\t\t_disposeHandlers: [],\n\t\t_main: _main,\n\t\t_requireSelf: function () {\n\t\t\tcurrentParents = me.parents.slice();\n\t\t\tcurrentChildModule = _main ? undefined : moduleId;\n\t\t\t__webpack_require__(moduleId);\n\t\t},\n\n\t\t// Module API\n\t\tactive: true,\n\t\taccept: function (dep, callback, errorHandler) {\n\t\t\tif (dep === undefined) hot._selfAccepted = true;\n\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n\t\t\telse if (typeof dep === \"object\" && dep !== null) {\n\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function () {};\n\t\t\t\t\thot._acceptedErrorHandlers[dep[i]] = errorHandler;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thot._acceptedDependencies[dep] = callback || function () {};\n\t\t\t\thot._acceptedErrorHandlers[dep] = errorHandler;\n\t\t\t}\n\t\t},\n\t\tdecline: function (dep) {\n\t\t\tif (dep === undefined) hot._selfDeclined = true;\n\t\t\telse if (typeof dep === \"object\" && dep !== null)\n\t\t\t\tfor (var i = 0; i < dep.length; i++)\n\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n\t\t\telse hot._declinedDependencies[dep] = true;\n\t\t},\n\t\tdispose: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\taddDisposeHandler: function (callback) {\n\t\t\thot._disposeHandlers.push(callback);\n\t\t},\n\t\tremoveDisposeHandler: function (callback) {\n\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n\t\t},\n\t\tinvalidate: function () {\n\t\t\tthis._selfInvalidated = true;\n\t\t\tswitch (currentStatus) {\n\t\t\t\tcase \"idle\":\n\t\t\t\t\tcurrentUpdateApplyHandlers = [];\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tsetStatus(\"ready\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"ready\":\n\t\t\t\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\t\t\tmoduleId,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepare\":\n\t\t\t\tcase \"check\":\n\t\t\t\tcase \"dispose\":\n\t\t\t\tcase \"apply\":\n\t\t\t\t\t(queuedInvalidatedModules = queuedInvalidatedModules || []).push(\n\t\t\t\t\t\tmoduleId\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// ignore requests in error states\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t// Management API\n\t\tcheck: hotCheck,\n\t\tapply: hotApply,\n\t\tstatus: function (l) {\n\t\t\tif (!l) return currentStatus;\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\taddStatusHandler: function (l) {\n\t\t\tregisteredStatusHandlers.push(l);\n\t\t},\n\t\tremoveStatusHandler: function (l) {\n\t\t\tvar idx = registeredStatusHandlers.indexOf(l);\n\t\t\tif (idx >= 0) registeredStatusHandlers.splice(idx, 1);\n\t\t},\n\n\t\t//inherit from previous dispose call\n\t\tdata: currentModuleData[moduleId]\n\t};\n\tcurrentChildModule = undefined;\n\treturn hot;\n}\n\nfunction setStatus(newStatus) {\n\tcurrentStatus = newStatus;\n\tvar results = [];\n\n\tfor (var i = 0; i < registeredStatusHandlers.length; i++)\n\t\tresults[i] = registeredStatusHandlers[i].call(null, newStatus);\n\n\treturn Promise.all(results);\n}\n\nfunction unblock() {\n\tif (--blockingPromises === 0) {\n\t\tsetStatus(\"ready\").then(function () {\n\t\t\tif (blockingPromises === 0) {\n\t\t\t\tvar list = blockingPromisesWaiting;\n\t\t\t\tblockingPromisesWaiting = [];\n\t\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\t\tlist[i]();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction trackBlockingPromise(promise) {\n\tswitch (currentStatus) {\n\t\tcase \"ready\":\n\t\t\tsetStatus(\"prepare\");\n\t\t/* fallthrough */\n\t\tcase \"prepare\":\n\t\t\tblockingPromises++;\n\t\t\tpromise.then(unblock, unblock);\n\t\t\treturn promise;\n\t\tdefault:\n\t\t\treturn promise;\n\t}\n}\n\nfunction waitForBlockingPromises(fn) {\n\tif (blockingPromises === 0) return fn();\n\treturn new Promise(function (resolve) {\n\t\tblockingPromisesWaiting.push(function () {\n\t\t\tresolve(fn());\n\t\t});\n\t});\n}\n\nfunction hotCheck(applyOnUpdate) {\n\tif (currentStatus !== \"idle\") {\n\t\tthrow new Error(\"check() is only allowed in idle status\");\n\t}\n\treturn setStatus(\"check\")\n\t\t.then(__webpack_require__.hmrM)\n\t\t.then(function (update) {\n\t\t\tif (!update) {\n\t\t\t\treturn setStatus(applyInvalidatedModules() ? \"ready\" : \"idle\").then(\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn setStatus(\"prepare\").then(function () {\n\t\t\t\tvar updatedModules = [];\n\t\t\t\tcurrentUpdateApplyHandlers = [];\n\n\t\t\t\treturn Promise.all(\n\t\t\t\t\tObject.keys(__webpack_require__.hmrC).reduce(function (\n\t\t\t\t\t\tpromises,\n\t\t\t\t\t\tkey\n\t\t\t\t\t) {\n\t\t\t\t\t\t__webpack_require__.hmrC[key](\n\t\t\t\t\t\t\tupdate.c,\n\t\t\t\t\t\t\tupdate.r,\n\t\t\t\t\t\t\tupdate.m,\n\t\t\t\t\t\t\tpromises,\n\t\t\t\t\t\t\tcurrentUpdateApplyHandlers,\n\t\t\t\t\t\t\tupdatedModules\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn promises;\n\t\t\t\t\t},\n\t\t\t\t\t[])\n\t\t\t\t).then(function () {\n\t\t\t\t\treturn waitForBlockingPromises(function () {\n\t\t\t\t\t\tif (applyOnUpdate) {\n\t\t\t\t\t\t\treturn internalApply(applyOnUpdate);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn setStatus(\"ready\").then(function () {\n\t\t\t\t\t\t\t\treturn updatedModules;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n}\n\nfunction hotApply(options) {\n\tif (currentStatus !== \"ready\") {\n\t\treturn Promise.resolve().then(function () {\n\t\t\tthrow new Error(\n\t\t\t\t\"apply() is only allowed in ready status (state: \" +\n\t\t\t\t\tcurrentStatus +\n\t\t\t\t\t\")\"\n\t\t\t);\n\t\t});\n\t}\n\treturn internalApply(options);\n}\n\nfunction internalApply(options) {\n\toptions = options || {};\n\n\tapplyInvalidatedModules();\n\n\tvar results = currentUpdateApplyHandlers.map(function (handler) {\n\t\treturn handler(options);\n\t});\n\tcurrentUpdateApplyHandlers = undefined;\n\n\tvar errors = results\n\t\t.map(function (r) {\n\t\t\treturn r.error;\n\t\t})\n\t\t.filter(Boolean);\n\n\tif (errors.length > 0) {\n\t\treturn setStatus(\"abort\").then(function () {\n\t\t\tthrow errors[0];\n\t\t});\n\t}\n\n\t// Now in \"dispose\" phase\n\tvar disposePromise = setStatus(\"dispose\");\n\n\tresults.forEach(function (result) {\n\t\tif (result.dispose) result.dispose();\n\t});\n\n\t// Now in \"apply\" phase\n\tvar applyPromise = setStatus(\"apply\");\n\n\tvar error;\n\tvar reportError = function (err) {\n\t\tif (!error) error = err;\n\t};\n\n\tvar outdatedModules = [];\n\tresults.forEach(function (result) {\n\t\tif (result.apply) {\n\t\t\tvar modules = result.apply(reportError);\n\t\t\tif (modules) {\n\t\t\t\tfor (var i = 0; i < modules.length; i++) {\n\t\t\t\t\toutdatedModules.push(modules[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn Promise.all([disposePromise, applyPromise]).then(function () {\n\t\t// handle errors in accept handlers and self accepted module load\n\t\tif (error) {\n\t\t\treturn setStatus(\"fail\").then(function () {\n\t\t\t\tthrow error;\n\t\t\t});\n\t\t}\n\n\t\tif (queuedInvalidatedModules) {\n\t\t\treturn internalApply(options).then(function (list) {\n\t\t\t\toutdatedModules.forEach(function (moduleId) {\n\t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n\t\t\t\t});\n\t\t\t\treturn list;\n\t\t\t});\n\t\t}\n\n\t\treturn setStatus(\"idle\").then(function () {\n\t\t\treturn outdatedModules;\n\t\t});\n\t});\n}\n\nfunction applyInvalidatedModules() {\n\tif (queuedInvalidatedModules) {\n\t\tif (!currentUpdateApplyHandlers) currentUpdateApplyHandlers = [];\n\t\tObject.keys(__webpack_require__.hmrI).forEach(function (key) {\n\t\t\tqueuedInvalidatedModules.forEach(function (moduleId) {\n\t\t\t\t__webpack_require__.hmrI[key](\n\t\t\t\t\tmoduleId,\n\t\t\t\t\tcurrentUpdateApplyHandlers\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tqueuedInvalidatedModules = undefined;\n\t\treturn true;\n\t}\n}","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../../../\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = __webpack_require__.hmrS_jsonp = __webpack_require__.hmrS_jsonp || {\n\t\"host.three\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\nvar currentUpdatedModulesList;\nvar waitingUpdateResolves = {};\nfunction loadUpdateChunk(chunkId, updatedModulesList) {\n\tcurrentUpdatedModulesList = updatedModulesList;\n\treturn new Promise((resolve, reject) => {\n\t\twaitingUpdateResolves[chunkId] = resolve;\n\t\t// start update chunk loading\n\t\tvar url = __webpack_require__.p + __webpack_require__.hu(chunkId);\n\t\t// create error before stack unwound to get useful stacktrace later\n\t\tvar error = new Error();\n\t\tvar loadingEnded = (event) => {\n\t\t\tif(waitingUpdateResolves[chunkId]) {\n\t\t\t\twaitingUpdateResolves[chunkId] = undefined\n\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\terror.message = 'Loading hot update chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\terror.type = errorType;\n\t\t\t\terror.request = realSrc;\n\t\t\t\treject(error);\n\t\t\t}\n\t\t};\n\t\t__webpack_require__.l(url, loadingEnded);\n\t});\n}\n\n(typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : this)[\"webpackHotUpdateHOST\"] = (chunkId, moreModules, runtime) => {\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\tcurrentUpdate[moduleId] = moreModules[moduleId];\n\t\t\tif(currentUpdatedModulesList) currentUpdatedModulesList.push(moduleId);\n\t\t}\n\t}\n\tif(runtime) currentUpdateRuntime.push(runtime);\n\tif(waitingUpdateResolves[chunkId]) {\n\t\twaitingUpdateResolves[chunkId]();\n\t\twaitingUpdateResolves[chunkId] = undefined;\n\t}\n};\n\nvar currentUpdateChunks;\nvar currentUpdate;\nvar currentUpdateRemovedChunks;\nvar currentUpdateRuntime;\nfunction applyHandler(options) {\n\tif (__webpack_require__.f) delete __webpack_require__.f.jsonpHmr;\n\tcurrentUpdateChunks = undefined;\n\tfunction getAffectedModuleEffects(updateModuleId) {\n\t\tvar outdatedModules = [updateModuleId];\n\t\tvar outdatedDependencies = {};\n\n\t\tvar queue = outdatedModules.map(function (id) {\n\t\t\treturn {\n\t\t\t\tchain: [id],\n\t\t\t\tid: id\n\t\t\t};\n\t\t});\n\t\twhile (queue.length > 0) {\n\t\t\tvar queueItem = queue.pop();\n\t\t\tvar moduleId = queueItem.id;\n\t\t\tvar chain = queueItem.chain;\n\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\tif (\n\t\t\t\t!module ||\n\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n\t\t\t)\n\t\t\t\tcontinue;\n\t\t\tif (module.hot._selfDeclined) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"self-declined\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (module.hot._main) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"unaccepted\",\n\t\t\t\t\tchain: chain,\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n\t\t\t\tvar parentId = module.parents[i];\n\t\t\t\tvar parent = __webpack_require__.c[parentId];\n\t\t\t\tif (!parent) continue;\n\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: \"declined\",\n\t\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\tparentId: parentId\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n\t\t\t\t\tif (!outdatedDependencies[parentId])\n\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tdelete outdatedDependencies[parentId];\n\t\t\t\toutdatedModules.push(parentId);\n\t\t\t\tqueue.push({\n\t\t\t\t\tchain: chain.concat([parentId]),\n\t\t\t\t\tid: parentId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"accepted\",\n\t\t\tmoduleId: updateModuleId,\n\t\t\toutdatedModules: outdatedModules,\n\t\t\toutdatedDependencies: outdatedDependencies\n\t\t};\n\t}\n\n\tfunction addAllToSet(a, b) {\n\t\tfor (var i = 0; i < b.length; i++) {\n\t\t\tvar item = b[i];\n\t\t\tif (a.indexOf(item) === -1) a.push(item);\n\t\t}\n\t}\n\n\t// at begin all updates modules are outdated\n\t// the \"outdated\" status can propagate to parents if they don't accept the children\n\tvar outdatedDependencies = {};\n\tvar outdatedModules = [];\n\tvar appliedUpdate = {};\n\n\tvar warnUnexpectedRequire = function warnUnexpectedRequire(module) {\n\t\tconsole.warn(\n\t\t\t\"[HMR] unexpected require(\" + module.id + \") to disposed module\"\n\t\t);\n\t};\n\n\tfor (var moduleId in currentUpdate) {\n\t\tif (__webpack_require__.o(currentUpdate, moduleId)) {\n\t\t\tvar newModuleFactory = currentUpdate[moduleId];\n\t\t\t/** @type {TODO} */\n\t\t\tvar result;\n\t\t\tif (newModuleFactory) {\n\t\t\t\tresult = getAffectedModuleEffects(moduleId);\n\t\t\t} else {\n\t\t\t\tresult = {\n\t\t\t\t\ttype: \"disposed\",\n\t\t\t\t\tmoduleId: moduleId\n\t\t\t\t};\n\t\t\t}\n\t\t\t/** @type {Error|false} */\n\t\t\tvar abortError = false;\n\t\t\tvar doApply = false;\n\t\t\tvar doDispose = false;\n\t\t\tvar chainInfo = \"\";\n\t\t\tif (result.chain) {\n\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n\t\t\t}\n\t\t\tswitch (result.type) {\n\t\t\t\tcase \"self-declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"declined\":\n\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n\t\t\t\t\tif (!options.ignoreDeclined)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n\t\t\t\t\t\t\t\tresult.moduleId +\n\t\t\t\t\t\t\t\t\" in \" +\n\t\t\t\t\t\t\t\tresult.parentId +\n\t\t\t\t\t\t\t\tchainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"unaccepted\":\n\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n\t\t\t\t\tif (!options.ignoreUnaccepted)\n\t\t\t\t\t\tabortError = new Error(\n\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n\t\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"accepted\":\n\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n\t\t\t\t\tdoApply = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"disposed\":\n\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n\t\t\t\t\tdoDispose = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n\t\t\t}\n\t\t\tif (abortError) {\n\t\t\t\treturn {\n\t\t\t\t\terror: abortError\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (doApply) {\n\t\t\t\tappliedUpdate[moduleId] = newModuleFactory;\n\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n\t\t\t\t\tif (__webpack_require__.o(result.outdatedDependencies, moduleId)) {\n\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n\t\t\t\t\t\taddAllToSet(\n\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (doDispose) {\n\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n\t\t\t}\n\t\t}\n\t}\n\tcurrentUpdate = undefined;\n\n\t// Store self accepted outdated modules to require them later by the module system\n\tvar outdatedSelfAcceptedModules = [];\n\tfor (var j = 0; j < outdatedModules.length; j++) {\n\t\tvar outdatedModuleId = outdatedModules[j];\n\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\tif (\n\t\t\tmodule &&\n\t\t\t(module.hot._selfAccepted || module.hot._main) &&\n\t\t\t// removed self-accepted modules should not be required\n\t\t\tappliedUpdate[outdatedModuleId] !== warnUnexpectedRequire &&\n\t\t\t// when called invalidate self-accepting is not possible\n\t\t\t!module.hot._selfInvalidated\n\t\t) {\n\t\t\toutdatedSelfAcceptedModules.push({\n\t\t\t\tmodule: outdatedModuleId,\n\t\t\t\trequire: module.hot._requireSelf,\n\t\t\t\terrorHandler: module.hot._selfAccepted\n\t\t\t});\n\t\t}\n\t}\n\n\tvar moduleOutdatedDependencies;\n\n\treturn {\n\t\tdispose: function () {\n\t\t\tcurrentUpdateRemovedChunks.forEach(function (chunkId) {\n\t\t\t\tdelete installedChunks[chunkId];\n\t\t\t});\n\t\t\tcurrentUpdateRemovedChunks = undefined;\n\n\t\t\tvar idx;\n\t\t\tvar queue = outdatedModules.slice();\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tvar moduleId = queue.pop();\n\t\t\t\tvar module = __webpack_require__.c[moduleId];\n\t\t\t\tif (!module) continue;\n\n\t\t\t\tvar data = {};\n\n\t\t\t\t// Call dispose handlers\n\t\t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n\t\t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n\t\t\t\t\tdisposeHandlers[j].call(null, data);\n\t\t\t\t}\n\t\t\t\t__webpack_require__.hmrD[moduleId] = data;\n\n\t\t\t\t// disable module (this disables requires from this module)\n\t\t\t\tmodule.hot.active = false;\n\n\t\t\t\t// remove module from cache\n\t\t\t\tdelete __webpack_require__.c[moduleId];\n\n\t\t\t\t// when disposing there is no need to call dispose handler\n\t\t\t\tdelete outdatedDependencies[moduleId];\n\n\t\t\t\t// remove \"parents\" references from all children\n\t\t\t\tfor (j = 0; j < module.children.length; j++) {\n\t\t\t\t\tvar child = __webpack_require__.c[module.children[j]];\n\t\t\t\t\tif (!child) continue;\n\t\t\t\t\tidx = child.parents.indexOf(moduleId);\n\t\t\t\t\tif (idx >= 0) {\n\t\t\t\t\t\tchild.parents.splice(idx, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// remove outdated dependency from module children\n\t\t\tvar dependency;\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tmodule = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tidx = module.children.indexOf(dependency);\n\t\t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tapply: function (reportError) {\n\t\t\t// insert new code\n\t\t\tfor (var updateModuleId in appliedUpdate) {\n\t\t\t\tif (__webpack_require__.o(appliedUpdate, updateModuleId)) {\n\t\t\t\t\t__webpack_require__.m[updateModuleId] = appliedUpdate[updateModuleId];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// run new runtime modules\n\t\t\tfor (var i = 0; i < currentUpdateRuntime.length; i++) {\n\t\t\t\tcurrentUpdateRuntime[i](__webpack_require__);\n\t\t\t}\n\n\t\t\t// call accept handlers\n\t\t\tfor (var outdatedModuleId in outdatedDependencies) {\n\t\t\t\tif (__webpack_require__.o(outdatedDependencies, outdatedModuleId)) {\n\t\t\t\t\tvar module = __webpack_require__.c[outdatedModuleId];\n\t\t\t\t\tif (module) {\n\t\t\t\t\t\tmoduleOutdatedDependencies =\n\t\t\t\t\t\t\toutdatedDependencies[outdatedModuleId];\n\t\t\t\t\t\tvar callbacks = [];\n\t\t\t\t\t\tvar errorHandlers = [];\n\t\t\t\t\t\tvar dependenciesForCallbacks = [];\n\t\t\t\t\t\tfor (var j = 0; j < moduleOutdatedDependencies.length; j++) {\n\t\t\t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\n\t\t\t\t\t\t\tvar acceptCallback =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedDependencies[dependency];\n\t\t\t\t\t\t\tvar errorHandler =\n\t\t\t\t\t\t\t\tmodule.hot._acceptedErrorHandlers[dependency];\n\t\t\t\t\t\t\tif (acceptCallback) {\n\t\t\t\t\t\t\t\tif (callbacks.indexOf(acceptCallback) !== -1) continue;\n\t\t\t\t\t\t\t\tcallbacks.push(acceptCallback);\n\t\t\t\t\t\t\t\terrorHandlers.push(errorHandler);\n\t\t\t\t\t\t\t\tdependenciesForCallbacks.push(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var k = 0; k < callbacks.length; k++) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcallbacks[k].call(null, moduleOutdatedDependencies);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tif (typeof errorHandlers[k] === \"function\") {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\terrorHandlers[k](err, {\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k]\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n\t\t\t\t\t\t\t\t\t\t\tmoduleId: outdatedModuleId,\n\t\t\t\t\t\t\t\t\t\t\tdependencyId: dependenciesForCallbacks[k],\n\t\t\t\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Load self accepted modules\n\t\t\tfor (var o = 0; o < outdatedSelfAcceptedModules.length; o++) {\n\t\t\t\tvar item = outdatedSelfAcceptedModules[o];\n\t\t\t\tvar moduleId = item.module;\n\t\t\t\ttry {\n\t\t\t\t\titem.require(moduleId);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (typeof item.errorHandler === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\titem.errorHandler(err, {\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\tmodule: __webpack_require__.c[moduleId]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (err2) {\n\t\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n\t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\t\terror: err2,\n\t\t\t\t\t\t\t\t\toriginalError: err\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\t\treportError(err2);\n\t\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (options.onErrored) {\n\t\t\t\t\t\t\toptions.onErrored({\n\t\t\t\t\t\t\t\ttype: \"self-accept-errored\",\n\t\t\t\t\t\t\t\tmoduleId: moduleId,\n\t\t\t\t\t\t\t\terror: err\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!options.ignoreErrored) {\n\t\t\t\t\t\t\treportError(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn outdatedModules;\n\t\t}\n\t};\n}\n__webpack_require__.hmrI.jsonp = function (moduleId, applyHandlers) {\n\tif (!currentUpdate) {\n\t\tcurrentUpdate = {};\n\t\tcurrentUpdateRuntime = [];\n\t\tcurrentUpdateRemovedChunks = [];\n\t\tapplyHandlers.push(applyHandler);\n\t}\n\tif (!__webpack_require__.o(currentUpdate, moduleId)) {\n\t\tcurrentUpdate[moduleId] = __webpack_require__.m[moduleId];\n\t}\n};\n__webpack_require__.hmrC.jsonp = function (\n\tchunkIds,\n\tremovedChunks,\n\tremovedModules,\n\tpromises,\n\tapplyHandlers,\n\tupdatedModulesList\n) {\n\tapplyHandlers.push(applyHandler);\n\tcurrentUpdateChunks = {};\n\tcurrentUpdateRemovedChunks = removedChunks;\n\tcurrentUpdate = removedModules.reduce(function (obj, key) {\n\t\tobj[key] = false;\n\t\treturn obj;\n\t}, {});\n\tcurrentUpdateRuntime = [];\n\tchunkIds.forEach(function (chunkId) {\n\t\tif (\n\t\t\t__webpack_require__.o(installedChunks, chunkId) &&\n\t\t\tinstalledChunks[chunkId] !== undefined\n\t\t) {\n\t\t\tpromises.push(loadUpdateChunk(chunkId, updatedModulesList));\n\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t} else {\n\t\t\tcurrentUpdateChunks[chunkId] = false;\n\t\t}\n\t});\n\tif (__webpack_require__.f) {\n\t\t__webpack_require__.f.jsonpHmr = function (chunkId, promises) {\n\t\t\tif (\n\t\t\t\tcurrentUpdateChunks &&\n\t\t\t\t__webpack_require__.o(currentUpdateChunks, chunkId) &&\n\t\t\t\t!currentUpdateChunks[chunkId]\n\t\t\t) {\n\t\t\t\tpromises.push(loadUpdateChunk(chunkId));\n\t\t\t\tcurrentUpdateChunks[chunkId] = true;\n\t\t\t}\n\t\t};\n\t}\n};\n\n__webpack_require__.hmrM = () => {\n\tif (typeof fetch === \"undefined\") throw new Error(\"No browser support: need fetch API\");\n\treturn fetch(__webpack_require__.p + __webpack_require__.hmrF()).then((response) => {\n\t\tif(response.status === 404) return; // no update available\n\t\tif(!response.ok) throw new Error(\"Failed to fetch update manifest \" + response.statusText);\n\t\treturn response.json();\n\t});\n};\n\n// no on chunks loaded\n\n// no jsonp function","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\n__webpack_require__(\"./node_modules/webpack-dev-server/client/index.js?protocol=ws%3A&hostname=0.0.0.0&port=8080&pathname=%2Fws&logging=info&reconnect=10\");\n__webpack_require__(\"./node_modules/webpack/hot/dev-server.js\");\nvar __webpack_exports__ = __webpack_require__(\"./packages/amazon-sumerian-hosts-three/src/three.js/index.js\");\n"],"names":["root","factory","exports","module","define","amd","self","global","this","inProgress","dataWebpackPrefix","ansiHTML","_regANSI","_defColors","reset","black","red","green","yellow","blue","magenta","cyan","lightgrey","darkgrey","_styles","_openTags","_closeTags","text","test","ansiCodes","ret","replace","match","seq","ot","indexOf","pop","push","ct","l","length","Array","join","_setTags","colors","code","oriColor","parseInt","toString","forEach","n","setColors","Error","_finalColors","key","hex","hasOwnProperty","isArray","some","h","defHexColor","slice","tags","Object","defineProperty","get","open","close","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","once","emitter","name","Promise","resolve","reject","errorListener","err","removeListener","resolver","arguments","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","warning","create","newListener","emit","unshift","warned","w","String","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","i","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","arg","removeEventListener","enumerable","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","spliceOne","off","removeAllListeners","keys","rawListeners","eventNames","__assign","assign","t","s","p","named_references_1","numeric_unicode_map_1","surrogate_pairs_1","allNamedReferences","namedReferences","all","html5","encodeRegExps","specialChars","nonAscii","nonAsciiPrintable","extensive","defaultEncodeOptions","mode","level","numeric","encode","_a","_c","_b","_d","_e","encodeRegExp","references","characters","isHex","lastIndex","exec","substring","result_1","code_1","getCodePoint","charCodeAt","defaultDecodeOptions","scope","strict","attribute","baseDecodeRegExps","xml","body","bodyRegExps","html4","decodeRegExps","fromCharCode","outOfBoundsChar","defaultDecodeEntityOptions","decodeEntity","entity","decodeResultByReference_1","entities","decodeSecondChar_1","decodeCode_1","substr","fromCodePoint","numericUnicodeMap","decode","decodeRegExp","isAttribute","isStrict","replaceResult_1","replaceMatch_1","replaceLastIndex_1","replaceInput_1","decodeResult_1","decodeEntityLastChar_2","decodeResultByReference_2","decodeSecondChar_2","decodeCode_2","_","$","fj","astralCodePoint","Math","floor","codePointAt","input","highSurrogateFrom","highSurrogateTo","_defineProperties","props","descriptor","configurable","writable","WebSocketClient","url","instance","Constructor","_classCallCheck","client","WebSocket","onerror","log","protoProps","staticProps","f","onopen","onclose","onmessage","e","data","status","isUnloading","currentHash","options","hot","liveReload","progress","overlay","parsedResourceQuery","setAllLogLevel","setLogLevel","logging","reconnect","onSocketMessage","invalid","hide","hash","_hash","previousHash","document","pluginName","percent","msg","ok","file","location","reload","warnings","_warnings","params","printableWarnings","map","_formatProblem","formatProblem","header","show","preventReloading","errors","_errors","printableErrors","_formatProblem2","_error","socketURL","__webpack_modules__","__unused_webpack_module","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","o","minLen","constructor","_unsupportedIterableToArray","_nonIterableSpread","arr2","LogType","freeze","info","debug","trace","group","groupCollapsed","groupEnd","profile","profileEnd","time","clear","LOG_SYMBOL","TIMERS_SYMBOL","TIMERS_AGGREGATES_SYMBOL","WebpackLogger","getChildLogger","_len","_key","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","assertion","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","label","Map","process","hrtime","prev","delete","current","Logger","__unused_webpack_exports","filterToFunction","item","regExp","RegExp","ident","LogLevel","none","false","true","verbose","_ref","_ref$level","_ref$debug","debugFilters","loglevel","labeledArgs","ms","logTime","_extends","source","SyncBailHook","createConsoleLogger","currentDefaultLoggerOptions","currentDefaultLogger","getLogger","hooks","childName","configureDefaultLogger","__webpack_module_cache__","moduleId","cachedModule","d","definition","obj","prop","r","toStringTag","__webpack_exports__","webpack_lib_logging_runtime_js__WEBPACK_IMPORTED_MODULE_0__","__webpack_export_target__","__esModule","iframeContainerElement","containerElement","onLoadQueue","ensureOverlayExists","callback","createElement","id","src","style","left","top","right","bottom","width","height","border","zIndex","onload","contentDocument","boxSizing","backgroundColor","color","fontFamily","fontSize","padding","lineHeight","whiteSpace","overflow","headerElement","innerText","closeButtonElement","background","fontWeight","cursor","cssFloat","styleFloat","appendChild","onLoad","removeChild","moduleName","loc","messages","entryElement","typeElement","messageTextNode","innerHTML","Client","__webpack_dev_server_client__","default","retries","maxRetries","socket","handlers","onOpen","onClose","retryInMs","pow","random","setTimeout","onMessage","JSON","parse","parsedURL","hostname","isInAddrAny","protocol","socketURLProtocol","socketURLAuth","username","password","socketURLHostname","socketURLPort","port","socketURLPathname","pathname","fromCurrentScript","objURL","endsWith","auth","encodeURIComponent","host","slashes","charAt","search","format","currentScript","getAttribute","scriptElements","scripts","scriptElementsWithSrc","filter","element","resourceQuery","searchParams","split","pair","decodeURIComponent","scriptSourceURL","scriptSource","URL","href","toLowerCase","allowToHot","allowToLiveReload","window","postMessage","rootWindow","intervalId","setInterval","parent","applyReload","clearInterval","WorkerGlobalScope","ansiRegex","string","lastHash","upToDate","check","then","updatedModules","catch","formatError","renewedModules","unacceptedModules","parts","every","logLevel","dummy","shouldLog","logGroup","logFn","stack","AbstractHostFeature","_host","installApi","api","EVENTS","entries","owner","listenTo","static","stopListening","stopListeningByRegexp","regexp","stopListeningToAll","update","deltaTime","discard","mixinClassFactories","ResultClass","mixinClassFactory","defineProperties","SERVICES","Deferred","executable","onResolve","onReject","onCancel","res","rej","cancel","resolved","rejected","canceled","pending","super","_status","_resolve","_reject","_cancel","_executable","execute","iterable","array","deferred","result","resolveValue","cancelValue","numItems","itemTracker","failed","numResolved","resolutions","FeatureDependentInterface","_onFeatureAdded","typeName","_onFeatureRemoved","BaseClass","FeatureDependentMixin","_initialized","EVENT_DEPENDENCIES","eventName","DefaultGestureWords","big","heart","in","many","movement","one","aggressive","you","defense","wave","GestureFeature","holdTime","minimumInterval","layers","registerLayer","_getHoldTime","layer","animation","layerHoldTime","_getMinimumInterval","layerMinimumInterval","_onNext","layerName","animationName","canAdvance","isQueueEnd","_managedLayers","animations","currentGesture","holdTimer","AnimationFeature","playNextAnimation","onFinish","_onStop","playTimer","autoDisable","setLayerWeights","_onAnimationAdded","registerAnimation","isActive","getAnimations","anim","words","Set","createGestureMap","gestureMap","transitionTime","feature","method","stringify","createGenericGestureArray","genericGestures","includes","playGesture","force","reason","playAnimation","getPaused","DEFAULT_LAYER_OPTIONS","stopAnimation","interruptAnimation","env","HostObject","_owner","_features","_waits","_lastUpdate","now","Date","currentTime","dt","wait","values","seconds","onProgress","onError","onComplete","splice","addFeature","FeatureClass","removeFeature","hasFeature","listFeatures","DefaultVisemeMap","sil","overrideWeight","blendTime","S","T","k","u","a","E","O","LipsyncFeature","visemeBlendTime","decayRate","amount","easingFn","visemeEasingFn","Quadratic","visemeLayers","talkingBlendTime","talkingEasingFn","talkingLayers","visemeLeadTime","_visemeLayers","_talkingLayers","visemeMap","registerVisemeLayer","registerTalkingLayer","_registerVisemeAnimation","getAnimationType","weightNames","getAnimationBlendNames","visemeOptions","TextToSpeechFeature","speechmarkOffset","_visemeLeadTime","_onLayerAdded","_onPlay","enable","resumeAnimation","_onPause","_onResume","disable","pauseAnimation","async","mark","animName","viseme","isVisemeActive","visemeNames","weight","duration","lerpFactor","blendInTime","min","_animateSimpleViseme","decayWeight","_animateHeldViseme","visemeName","peakWeight","blendOutTime","weightPromise","setAnimationBlendWeight","startPromise","holdPromise","RadianToDegree","PI","DegreeToRadian","MathUtils","radians","degrees","to","factor","max","b","distSqr","distanceSquared","point","vertices","minX","POSITIVE_INFINITY","minY","maxX","NEGATIVE_INFINITY","maxY","v","dX","dY","midX","midY","dMax","superIndices","vertsWithSuper","superSortedIndices","sortPointsCCW","triangles","indices","edges","newVert","newIndex","invalidTriangles","triangle","isPointInCircumCircle","boundingPoly","edge","otherTriangle","otherEdge","sortedIndices","trianglesToRemove","c","ax","ay","bx","by","cx","cy","denom","aVal","bVal","cVal","centroid","sort","atan2","abs","vector","sqrt","reduce","accumulator","currentValue","vectorA","vectorB","valueA","valueB","normalA","normalizeVector","normalB","dot","getDotProduct","acos","clamp","vector3","matrix3","magnitude","getVectorMagnitude","fill","matrix4","scaleX","scaleY","scaleZ","x","y","z","targetValue","valueStore","smoothTime","maxSpeed","clampTime","deltaValue","clampDeltaValue","lastValue","d1","d2","d3","d4","Messenger","_id","_dispatcher","_callbacks","_eventListeners","_createLocalMessage","_createListener","detail","_createEvent","CustomEvent","_removeListener","event","dispatchEvent","messenger","GlobalMessenger","AxisMap","PositiveX","NegativeX","PositiveY","NegativeY","PositiveZ","NegativeZ","FaceTargetTypes","FaceVectors","MicroSaccadeWaitRanges","postMacro","MacroSaccadeWaitRanges","mouthTarget","eyeTarget","PointOfInterestFeature","lookTracker","scene","lookBlendTime","lookEasingFn","lookLayers","blinkBlendTime","blinkEasingFn","blinkLayers","_validateTransformObject","_lookTracker","_scene","_target","_prevTargetPos","_isTargetMoving","_lookLayers","_trackingConfigs","_blinkLayers","reference","forwardAxis","hasSaccade","registerLookLayer","registerBlinkLayer","forwardVector","rotation","_getWorldMatrix","theta","phi","_registerLookAnimation","AnimationTypes","_addTrackingConfig","config","trackingConfig","find","angles","prevAngles","_getTargetDistance","sourcePosition","_getWorldPosition","targetPosition","lookVector","_resetLookAngles","_setLookAngles","targetPos","trackerPos","targetSpherical","targetAngles","_sphericalToBlendValue","refDirection","_getObjectDirection","refSpherical","refAngles","_getFaceTargetAngles","targetType","distance","faceVector","spherical","blendValues","_updateLayerSpeed","maxHSpeed","exp","maxVSpeed","hDuration","vDuration","_setMicroSaccade","microSaccade","_initializeMicroTimer","_setMacroSaccade","macroSaccade","macroSaccadeWaitRange","saccadeTarget","hLimit","hFactor","vLimit","vFactor","_initializeMacroTimer","minWaitTime","maxWaitTime","waitTime","microSaccadeTimer","macroSaccadeTimer","setTarget","setTargetByName","setTargetById","hVelocity","vVelocity","deltaSeconds","triggerBlink","currentH","getAnimationBlendWeight","currentV","targetH","targetV","prevTargetH","prevTargetV","Utils","randomNumber","nameArray","nameSet","matchGroup","baseName","increment","setName","setMatchGroup","setIncrement","totalTime","ceil","stringToManipulate","stringToAdd","currentUserAgent","sumerianHostsUserAgent","getVersion","addStringOnlyOnce","single","freeBlend","queue","randomAnimation","blend1d","blend2d","_layers","_layerMap","_paused","_validateIndex","_updateInternalWeights","weightMultiplier","updateInternalWeight","blendMode","LayerBlendModes","currentState","internalWeight","_createSingleState","_createFreeBlendState","blendStateOptions","blendStates","blendOptions","_createQueueState","queueOptions","queueStates","queueOption","_createBlend1dState","blendThresholds","blendMatchPhases","_createBlend2dState","_createRandomAnimationState","subStateOptions","subStates","_validateNewAnimation","getStateNames","paused","addLayer","numLayers","layerIndex","eventData","removeLayer","moveLayer","currentIndex","renameLayer","currentName","newName","oldName","getLayerWeight","setLayerWeight","setWeight","blendName","pauseLayerWeight","pauseWeight","resumeLayerWeight","resumeWeight","pauseLayer","pause","resumeLayer","resume","getTransitioning","isTransitioning","getCurrentAnimation","currentAnimation","getState","addAnimation","animationType","addState","removeAnimation","removed","removeState","renameAnimation","currentAnimationName","newAnimationName","renameState","nextQueuedAnimation","onNext","next","resumed","AnimationFeatureDependentInterface","_onLayerRemoved","_onLayerRenamed","_onAnimationRemoved","_onAnimationRenamed","ParentClass","AnimationFeatureDependentMixin","Override","Additive","DefaultLayerBlendMode","validateBlendMode","AnimationLayer","_blendMode","_promises","_weightPaused","_internalWeight","_weight","weightPending","isWeightActive","_currentState","_easingFn","setBlendWeight","getBlendWeight","discardStates","AnimationPlayerInterface","fn","_prepareCurrentState","playMethod","cancelAnimation","_transitionState","_states","_transitionTime","has","targetState","deactivate","currentStates","configure","play","stop","AnimationUtils","propertyOwner","propertyName","startValue","Linear","interpolator","easeFactor","None","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","asin","Back","Bounce","ManagedAnimationLayerInterface","nameFilter","ManagedAnimationLayerMixin","layerOptions","animOptions","animationOptions","Easing","SingleState","TransitionState","FreeBlendState","QueueState","RandomAnimationState","Blend1dState","Blend2dState","AbstractBlendState","blendWeights","promises","AbstractState","finish","_playCallbacks","promise","phaseMatches","_blendValue","blendValue","size","_thresholds","phaseMatch","_sortThresholds","_forceNoThresholdDupes","_phaseLeadState","_updateBlendWeights","blendValuePending","thresholdValue","sameValue","threshold","findIndex","getBlendThreshold","setBlendThreshold","normalizedTime","targetIndex","thresholdA","thresholdB","factorB","factorA","stateA","stateB","otherThreshold","_blendValueX","_blendValueY","blendValueX","blendValueY","_vertices","_triangles","property","toUpperCase","blendValueXPending","blendValueYPending","_setInfluenceClosestPointOnLine","_setInfluenceTriangle","_setInfluenceClosestPointInTriangles","areaA","areaB","areaC","totalArea","weightA","weightB","weightC","thresholdC","stateC","_setPhaseLeadState","globalClosestPoint","globalMinDist","closestTriangle","pointA","pointB","pointC","distA","distB","localClosestPoint","localMinDist","closestPoint","states","phaseMatched","sumWeights","_queue","_done","done","_reset","wrap","loopCount","Infinity","stopped","_playInterval","playInterval","_resetTimer","timer","playRandomAnimation","randomState","_timeScale","timeScale","_loopCount","timeScalePending","setTimeScale","StateContainerInterface","uniqueName","_to","_from","_weightPromise","totalWeight","weightPromises","AbstractSpeech","speaker","speechmarks","_speaker","_text","_speechmarks","_speechmarkOffset","_startTime","_localTime","_pauseTime","_playing","_markIter","_currentMark","_endTime","_promise","_createPromise","onInterrupt","interrupt","_checkFinished","playing","offset","speech","engines","audioFormats","speechmarkTypes","sampleRates","mp3","rates","defaults","standard","neural","pcm","awsVersion","ogg_vorbis","AbstractTextToSpeechFeature","voice","engine","language","audioFormat","sampleRate","minEndMarkDuration","volume","isGlobal","_speechCache","_currentSpeech","_currentPromise","_isValidated","_isGlobal","_volumePaused","_voice","POLLY_DEFAULTS","VoiceId","_language","LanguageName","_engine","Engine","_audioFormat","OutputFormat","_sampleRate","SampleRate","polly","presigner","version","customUserAgent","getEngineUserAgentString","service","_isReady","availableVoices","POLLY_VOICES","availableLanguages","POLLY_LANGUAGES","availableLanguageCodes","POLLY_LANGUAGE_CODES","minNeuralSdk","POLLY_MIN_NEURAL_VERSION","describeVoices","response","allCodes","Voices","SupportedEngines","LanguageCode","ready","isReady","currentSpeech","_minEndMarkDuration","_validateEngine","AWS_VERSION","_validateFormat","_validateRate","rate","_validateVoice","voiceId","Id","_validateLanguage","languageCode","availableCodes","AdditionalLanguageCodes","_validate","_getConfig","_updateConfig","skipSpeeches","currentConfig","currentConfigStr","Language","validConfig","configStr","_updateSpeech","audioParams","Text","TextType","speechmarkParams","SpeechMarkTypes","_synthesizeSpeechmarks","_synthesizeAudio","results","_createSpeech","audioConfig","getSynthesizeSpeechUrl","synthesizeSpeech","jsonString","AudioStream","dataStr","markTypes","sentence","word","ssml","endMarkTypes","speechMarks","matchAll","numMarks","lastMark","endTimes","endTime","_getSpeech","getVolume","setVolume","pauseVolume","resumeVolume","_volume","volumePending","_setCurrentSpeech","_startSpeech","currentPromise","audio","LexiconNames","LexFeature","lexRuntime","botName","botAlias","userId","_lexRuntime","_botName","_botAlias","_userId","_micReady","_recording","_recLength","_recBuffer","_setupAudioContext","_audioContext","AudioContext","_processWithAudio","inputAudio","sourceSampleRate","_prepareAudio","_process","processWithText","inputText","contentType","inputStream","settings","_validateConfig","lexSettings","postContent","lexResponseReady","errorMessage","audioBuffer","downsampledAudio","LEX_DEFAULTS","encodedAudio","Blob","stream","navigator","mediaDevices","getUserMedia","video","createMediaStreamSource","node","createScriptProcessor","onaudioprocess","buffer","inputBuffer","getChannelData","Float32Array","connect","destination","micReady","beginVoiceRecording","recordBegin","endVoiceRecording","recordEnd","LexUtils","targetSampleRate","bufferLength","sampleRateRatio","newLength","round","downsampledBuffer","bufferOffset","nextBufferOffset","_writeString","view","setUint8","encodedBuffer","ArrayBuffer","DataView","setUint32","setUint16","setInt16","_floatTo16BitPCM","SSMLSpeechmarkInterface","_onSsml","Speech","_audio","onended","_audioFinished","_playAudio","_pauseAudio","_enabled","_setAudioContext","_observeAudioContext","onstatechange","Audio","loop","crossOrigin","preload","load","enabled","resumeAudio","TextToSpeechFeatureDependentInterface","_onSentence","_onWord","_onViseme","TextToSpeechFeatureDependentMixin","TextToSpeechUtils","randomMarks","internalMap","_processInputMap","speakTags","ssmlMarkRegex","ssmlTagRegex","existingTags","start","end","chunks","ssmlMarkResult","duplicateMarkToCheck","existingTag","_insertMarks","markText","markedText","addMarksToUnmarkedSentences","validateText","marks","markIndices","markResult","ssmlResult","cleanedText","existingSsml","whitespace","sentenceEndIndices","_getSentenceEnds","prevIndex","targetIndices","containsMark","markIndex","_insertRandomMarksAt","randomMark","sentenceRegex","endSentenceRegex","sentenceEnds","punctResult","duplicatesToCheck","lowerCaseWord","checkDuplicate","markedWords","Version","_clock","clock","getElapsedTime","THREE","EventDispatcher","updateWorldMatrix","matrixWorld","elements","Object3D","getObjectByName","getObjectById","_mixer","AnimationMixer","clip","existingAction","clone","threeAction","clipAction","mixer","uncacheRoot","threeBlendModes","NormalAnimationBlendMode","AdditiveAnimationBlendMode","_onFinishedEvent","action","_threeAction","clampWhenFinished","LoopOnce","LoopRepeat","repetitions","getMixer","getClip","setEffectiveWeight","getContext","textToSpeech","_threeAudio","threeAudio","disconnect","attachTo","_listener","_attachTo","PositionalAudio","add","setMediaElementSource","REVISION","__webpack_require__","execOptions","require","getter","hu","chunkId","hmrF","g","globalThis","script","needAttach","getElementsByTagName","charset","timeout","nc","setAttribute","onScriptComplete","clearTimeout","doneFns","parentNode","head","currentChildModule","currentUpdateApplyHandlers","queuedInvalidatedModules","currentModuleData","installedModules","currentParents","registeredStatusHandlers","currentStatus","blockingPromises","blockingPromisesWaiting","setStatus","newStatus","unblock","hotCheck","applyOnUpdate","hmrM","hmrC","internalApply","applyInvalidatedModules","hotApply","Boolean","disposePromise","dispose","applyPromise","reportError","outdatedModules","modules","hmrI","hmrD","me","_main","request","active","parents","children","createPropertyDescriptor","trackBlockingPromise","createRequire","_acceptedDependencies","_acceptedErrorHandlers","_declinedDependencies","_selfAccepted","_selfDeclined","_selfInvalidated","_disposeHandlers","_requireSelf","accept","dep","errorHandler","decline","addDisposeHandler","removeDisposeHandler","idx","invalidate","addStatusHandler","removeStatusHandler","scriptUrl","importScripts","currentUpdatedModulesList","currentUpdateChunks","currentUpdate","currentUpdateRemovedChunks","currentUpdateRuntime","installedChunks","hmrS_jsonp","waitingUpdateResolves","loadUpdateChunk","updatedModulesList","errorType","realSrc","applyHandler","getAffectedModuleEffects","updateModuleId","outdatedDependencies","chain","queueItem","parentId","addAllToSet","jsonpHmr","appliedUpdate","warnUnexpectedRequire","newModuleFactory","abortError","doApply","doDispose","chainInfo","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","moduleOutdatedDependencies","outdatedSelfAcceptedModules","j","outdatedModuleId","dependency","disposeHandlers","child","callbacks","errorHandlers","dependenciesForCallbacks","acceptCallback","dependencyId","err2","onErrored","originalError","ignoreErrored","moreModules","runtime","jsonp","applyHandlers","chunkIds","removedChunks","removedModules","fetch","statusText","json"],"sourceRoot":""}